{"version":3,"sources":["jquery.ui.widget.js","tmpl.js","load-image.js","load-image-scale.js","load-image-meta.js","load-image-fetch.js","load-image-orientation.js","load-image-exif.js","load-image-exif-map.js","load-image-iptc.js","load-image-iptc-map.js","canvas-to-blob.js","jquery.iframe-transport.js","jquery.fileupload.js","jquery.fileupload-process.js","jquery.fileupload-image.js","jquery.fileupload-audio.js","jquery.fileupload-video.js","jquery.fileupload-validate.js","jquery.fileupload-ui.js","webpack://files/src/AvatarUploader.js","webpack://files/src/FileUploader.js","webpack://files/src/Files.js"],"names":["factory","define","amd","exports","require","window","jQuery","$","ui","version","expr","pseudos","uniqueSort","unique","orig","widgetUuid","widgetHasOwnProperty","Array","prototype","hasOwnProperty","widgetSlice","slice","cleanData","elems","events","elem","i","_data","remove","triggerHandler","widget","name","base","existingConstructor","constructor","basePrototype","proxiedPrototype","namespace","split","fullName","Widget","isArray","extend","apply","concat","toLowerCase","data","options","element","this","_createWidget","arguments","length","_proto","_childConstructors","each","prop","value","isFunction","_super","_superApply","args","returnValue","__super","__superApply","widgetEventPrefix","widgetName","widgetFullName","child","childPrototype","push","bridge","target","key","input","call","inputIndex","inputLength","undefined","isPlainObject","object","fn","isMethodCall","methodValue","instance","charAt","jquery","pushStack","get","error","option","_init","defaultElement","classes","disabled","create","uuid","eventNamespace","bindings","hoverable","focusable","classesElementLookup","_on","event","destroy","document","style","ownerDocument","defaultView","parentWindow","_getCreateOptions","_create","_setOptionDisabled","_trigger","_getCreateEventData","noop","that","_destroy","_removeClass","off","removeData","removeAttr","parts","curOption","shift","pop","_setOptions","_setOption","_setOptionClasses","classKey","elements","currentElements","addClass","_classes","keys","add","_toggleClass","enable","disable","full","processClassString","checkOption","current","_","map","some","is","not","match","extra","join","_untrackClassesElement","inArray","_off","_addClass","toggleClass","suppressDisabledCheck","handlers","delegateElement","handler","handlerProxy","hasClass","guid","eventName","selector","on","_delay","delay","setTimeout","_hoverable","mouseenter","currentTarget","mouseleave","_focusable","focusin","focusout","type","callback","Event","originalEvent","trigger","isDefaultPrevented","show","hide","method","defaultEffect","hasOptions","effect","effectName","duration","isEmptyObject","complete","effects","easing","queue","next","tmpl","str","f","test","Function","arg","helper","replace","regexp","func","cache","load","id","getElementById","innerHTML","s","p1","p2","p3","p4","p5","encReg","encMap","encode","c","module","urlAPI","URL","webkitURL","createObjectURL","blob","revokeObjectURL","url","revokeHelper","noRevoke","readFile","file","onload","onerror","FileReader","reader","result","onabort","readerMethod","isInstanceOf","obj","Object","toString","loadImage","executor","resolve","reject","img","createElement","resolveWrapper","Error","image","fetchBlobCallback","err","console","log","crossOrigin","src","originalWidth","naturalWidth","width","originalHeight","naturalHeight","height","transform","requiresMetaData","fetchBlob","Promise","meta","global","originalTransform","createCanvas","offscreen","OffscreenCanvas","canvas","scale","transformCoordinates","getTransformedOptions","newOptions","aspectRatio","crop","maxWidth","maxHeight","drawImage","sourceX","sourceY","sourceWidth","sourceHeight","destWidth","destHeight","ctx","getContext","imageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingQuality","requiresCanvas","minWidth","minHeight","downsamplingRatio","tmp","useCanvas","HTMLCanvasElement","scaleUp","Math","max","scaleDown","min","left","top","right","bottom","contain","cover","pixelRatio","floor","parseFloat","orientationCropBug","setTransform","blobSlice","Blob","webkitSlice","mozSlice","bufferSlice","ArrayBuffer","begin","end","byteLength","arr1","Uint8Array","arr2","set","buffer","metaDataParsers","jpeg","65505","65517","parseMetaData","DataView","size","maxMetaDataSize","dataView","getUint16","markerBytes","markerLength","parsers","offset","maxOffset","headLength","disableMetaDataParsers","disableImageHead","imageHead","replaceJPEGHead","oldHead","newHead","replaceHead","head","then","fetch","Request","Response","responseHandler","response","XMLHttpRequest","responseType","req","open","headers","forEach","setRequestHeader","withCredentials","credentials","ontimeout","send","body","originalRequiresCanvas","originalRequiresMetaData","originalTransformCoordinates","originalGetTransformedOptions","requiresCanvasOrientation","withMetaData","orientation","requiresOrientationChange","autoOrientation","requiresRot180","getImageData","exif","opts","exifOrientation","tmpTop","tmpRight","translate","rotate","PI","ExifMap","tagCode","defineProperty","ifds","tags","ifd1","Orientation","Thumbnail","Exif","GPSInfo","Interoperability","34665","34853","40965","ExifTagTypes","1","getValue","dataOffset","getUint8","2","String","fromCharCode","ascii","3","littleEndian","4","getUint32","5","9","getInt32","10","shouldIncludeTag","includeTags","excludeTags","parseExifTags","tiffOffset","dirOffset","tagOffsets","tagsNumber","dirEndOffset","tagOffset","tagNumber","tagValue","values","tagType","tagSize","parseExifData","disableExif","includeExifTags","excludeExifTags","37500","disableExifOffsets","exifOffsets","exifTiffOffset","exifLittleEndian","thumbnailIFD","exifWriters","274","orientationOffset","setUint16","writeExifData","ExifMapProto","256","257","258","259","262","277","284","530","531","282","283","296","273","278","279","513","514","301","318","319","529","532","306","270","271","272","305","315","33432","36864","40960","40961","40962","40963","42240","37121","37122","37510","40964","36867","36868","36880","36881","36882","37520","37521","37522","33434","33437","34850","34852","34855","34856","34864","34865","34866","34867","34868","34869","37377","37378","37379","37380","37381","37382","37383","37384","37385","37396","37386","41483","41484","41486","41487","41488","41492","41493","41495","41728","41729","41730","41985","41986","41987","41988","41989","41990","41991","41992","41993","41994","41995","41996","42016","42032","42033","42034","42035","42036","42037","0","6","7","8","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","stringValues","ExposureProgram","MeteringMode","255","LightSource","Flash","32","65","69","71","73","77","79","89","93","95","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","ComponentsConfiguration","getText","getAll","getName","ifd","subTags","Number","IptcMap","getTagValue","types","outstr","n","parseIptcTags","segmentOffset","segmentLength","newValue","segmentEnd","getInt16","iptc","iptcOffsets","ObjectName","200","201","202","parseIptcData","disableIptc","headerLength","disableIptcOffsets","includeIptcTags","excludeIptcTags","IptcMapProto","35","37","38","40","42","45","47","50","55","60","62","63","70","75","80","85","90","92","100","101","103","105","110","115","116","118","120","121","122","125","130","131","135","150","151","152","153","154","184","185","186","187","188","221","225","228","230","231","232","a","b","p","L","P","S","stringValue","CanvasPrototype","hasBlobConstructor","Boolean","e","hasArrayBufferViewSupport","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","dataURIPattern","dataURLtoBlob","atob","dataURI","mediaType","byteString","arrayBuffer","intArray","matches","isBase64","dataString","decodeURIComponent","charCodeAt","bb","append","getBlob","toBlob","mozGetAsFile","quality","self","toDataURL","msToBlob","counter","jsonAPI","jsonParse","JSON","ajaxTransport","async","form","iframe","addParamChar","initialIframeSrc","completeCallback","attr","formAcceptCharset","fileInputClones","paramNames","paramName","contents","firstChild","appendTo","formData","index","field","val","fileInput","clone","after","submit","replaceWith","abort","ajaxSetup","converters","text","html","xmlDoc","isXMLDoc","parseXML","XMLDocument","xml","globalEval","getDragHandler","isDragOver","dataTransfer","delegatedEvent","preventDefault","dropEffect","support","RegExp","navigator","userAgent","xhrFileUpload","ProgressEvent","xhrFormDataFileUpload","FormData","dropZone","pasteZone","replaceFileInput","singleFileUploads","limitMultiFileUploads","limitMultiFileUploadSize","limitMultiFileUploadSizeOverhead","sequentialUploads","limitConcurrentUploads","forceIframeTransport","redirect","redirectParamName","postMessage","multipart","maxChunkSize","uploadedBytes","recalculateProgress","progressInterval","bitrateInterval","autoUpload","uniqueFilenames","messages","i18n","message","context","serializeArray","fileupload","process","done","processData","contentType","timeout","_promisePipe","_specialOptions","_blobSlice","_BitrateTimer","timestamp","Date","now","getTime","loaded","bitrate","getBitrate","interval","timeDiff","_isXHRUpload","_getFormData","_getTotal","files","total","_initProgressObject","progress","_progress","_initResponseObject","_response","_onProgress","lengthComputable","_time","chunkSize","_bitrateTimer","_initProgressListener","xhr","ajaxSettings","upload","oe","_deinitProgressListener","_isInstanceOf","_getUniqueFilename","_initXHRData","contentRange","encodeURI","uploadName","fileName","_initIframeSettings","targetHost","dataType","location","host","_initDataSettings","_chunkedUpload","_getParamName","_initFormSettings","href","toUpperCase","_getAJAXSettings","_getDeferredState","deferred","state","isResolved","isRejected","_enhancePromise","promise","success","fail","always","_getXHRPromise","resolveOrReject","dfd","Deferred","resolveWith","rejectWith","_addConvenienceMethods","getPromise","resolveFunc","rejectFunc","_processQueue","errorThrown","jqXHR","_onSend","processing","_getUploadedBytes","range","getResponseHeader","upperBytesPos","parseInt","testOnly","fs","ub","mcs","o","currentLoaded","ajax","textStatus","_beforeSend","_active","_onDone","_onFail","_onAlways","jqXHRorResult","jqXHRorError","aborted","slot","pipe","_sending","nextSlot","_slots","_sequence","_onAdd","paramNameSet","paramNameSlice","fileSet","filesLength","limit","limitSize","overhead","batchSize","j","originalFiles","newData","_replaceFileInput","inputClone","restoreFocus","activeElement","fileInputClone","reset","detach","el","_handleFileTreeEntry","entry","path","dirReader","entries","errorHandler","readEntries","results","_handleFileTreeEntries","successHandler","isFile","_file","relativePath","isDirectory","createReader","when","_getDroppedFiles","items","webkitGetAsEntry","getAsEntry","item","getAsFile","makeArray","_getSingleFileInputFiles","fileSize","_getFileInputFiles","_onChange","_onPaste","clipboardData","_onDrop","_onDragOver","_onDragEnter","_onDragLeave","_initEventHandlers","dragover","drop","dragenter","dragleave","paste","change","_destroyEventHandlers","reinit","_initSpecialOptions","find","_getRegExp","modifiers","_isRegExpOption","_initDataAttributes","attributes","active","originalAdd","blueimp","processQueue","$this","processActions","_processFile","originalData","chain","settings","action","_transformProcessQueue","prefix","_processing","_processingQueue","unshift","fileTypes","maxFileSize","forceResize","thumbnail","loadImageFileTypes","loadImageMaxFileSize","imageMaxWidth","imageMaxHeight","imageOrientation","imageCrop","disableImageResize","previewMaxWidth","previewMaxHeight","previewOrientation","previewThumbnail","previewCrop","previewCanvas","resizeImage","thumbnailBlob","newImg","preview","saveImage","substr","loadImageMetaData","saveImageMetaData","setImage","deleteImageReferences","loadAudioFileTypes","_audioElement","loadAudio","audio","canPlayType","cloneNode","controls","setAudio","loadVideoFileTypes","_videoElement","loadVideo","video","setVideo","acceptFileTypes","minFileSize","maxNumberOfFiles","getNumberOfFiles","validate","showElementClass","uploadTemplateId","downloadTemplateId","filesContainer","prependFiles","unknownError","children","getFilesFromResponse","_renderUpload","_forceReflow","_transition","_formatFileSize","removeClass","_renderPreviews","transition","first","css","template","_addFinishedDeferreds","node","_renderDownload","replaceAll","progressall","globalProgressNode","extendedProgressNode","_renderExtendedProgress","start","_resetFinishedDeferreds","stop","_getFinishedDeferreds","processstart","processstop","removeNode","_finishedUploads","_enableDragToDesktop","link","setData","ignore","bytes","toFixed","_formatBitrate","bits","_formatTime","seconds","date","days","getUTCHours","getUTCMinutes","getUTCSeconds","_formatPercentage","floatValue","_renderTemplate","formatFileSize","templatesContainer","elm","empty","uploadTemplate","downloadTemplate","_editHandler","edit","button","closest","_startHandler","_cancelHandler","_deleteHandler","offsetWidth","transitionEndHandler","_initButtonBarEventHandlers","fileUploadButtonBar","filesList","click","_destroyButtonBarEventHandlers","_enableFileInputButton","parent","_disableFileInputButton","_initTemplates","_initFilesContainer","wasDisabled","AvatarUploader","t","l","config","init","dataset","filesInited","querySelector","assign","disableValidation","filesFormParam","param","filesFormX","x","filesAvatarTemplate","currentFile","avatarElement","avatarRendered","thumbnailUrl","classList","div","className","r","opacity","preloader","d","FileUploader","u","static","m","h","v","g","filesSource","filesSourceId","filesField","bind","tableDnD","onDragStart","table","row","onDrop","abs","orders","rows","tBodies","post","source","alert","addEventListener","tagName","contains","globalsInited","dropZoneTimeout","clearTimeout","found","parentNode","E","w","filename","pass","allowedExtensions","exec","ext","indexOf","replaceButton","fadeIn","I","fadeOut","reload","D","addpix","title","F","addthumb","T","addfile","C","titleInput","fileId","errorMessage","cotFiles","y","initUploaders","initFilesUploaders","initAvatarUploaders","querySelectorAll"],"mappings":";;;;;;;;;;CAQA,SAAAA,GACA,aACA,mBAAAC,eAAAC,IAEAD,OAAA,WAAAD,GACA,iBAAAG,QAEAH,EAAAI,QAAA,WAGAJ,EAAAK,OAAAC,OAEA,CAZA,EAYA,SAAAC,GAGAA,EAAAC,GAAAD,EAAAC,IAAA,GAEAD,EAAAC,GAAAC,QAAA;;;;;;;;;AAmBAF,EAAAG,KAAAC,UACAJ,EAAAG,KAAAC,QAAAJ,EAAAG,KAAA,MAKAH,EAAAK,aACAL,EAAAK,WAAAL,EAAAM,QAGA,IAIAC,EAJAC,EAAA,EACAC,EAAAC,MAAAC,UAAAC,eACAC,EAAAH,MAAAC,UAAAG,MAEAd,EAAAe,WAAAR,EAaAP,EAAAe,UAZA,SAAAC,GACA,IAAAC,EAAAC,EAAAC,EAEA,IAAAA,EAAA,SAAAD,EAAAF,EAAAG,SAEAF,EAAAjB,EAAAoB,MAAAF,EAAA,YACAD,EAAAI,QACArB,EAAAkB,GAAAI,eAAA,UAGAf,EAAAS,EACA,GAGAhB,EAAAuB,OAAA,SAAAC,EAAAC,EAAAd,GACA,IAAAe,EAAAC,EAAAC,EAIAC,EAAA,GAEAC,EAAAN,EAAAO,MAAA,QAEAC,EAAAF,EAAA,KADAN,IAAAO,MAAA,SA+HA,OA5HApB,IACAA,EAAAc,EACAA,EAAAzB,EAAAiC,QAGAjC,EAAAkC,QAAAvB,KACAA,EAAAX,EAAAmC,OAAAC,MAAA,UAAAC,OAAA1B,KAIAX,EAAAG,KAAAC,QAAA4B,EAAAM,eAAA,SAAApB,GACA,QAAAlB,EAAAuC,KAAArB,EAAAc,EACA,EAEAhC,EAAA8B,GAAA9B,EAAA8B,IAAA,GACAJ,EAAA1B,EAAA8B,GAAAN,GACAG,EAAA3B,EAAA8B,GAAAN,GAAA,SAAAgB,EAAAC,GAEA,IAAAC,KAAAC,cACA,WAAAhB,EAAAa,EAAAC,GAKAG,UAAAC,QACAH,KAAAC,cAAAH,EAAAC,EAEA,EAGAzC,EAAAmC,OAAAR,EAAAD,EAAA,CACAxB,QAAAS,EAAAT,QAIA4C,OAAA9C,EAAAmC,OAAA,GAAAxB,GAIAoC,mBAAA,MAGAnB,EAAA,IAAAH,GAKAe,QAAAxC,EAAAuB,OAAAY,OAAA,GAAAP,EAAAY,SACAxC,EAAAgD,KAAArC,GAAA,SAAAsC,EAAAC,GACAlD,EAAAmD,WAAAD,GAIArB,EAAAoB,GAAA,WACA,SAAAG,IACA,OAAA3B,EAAAd,UAAAsC,GAAAb,MAAAM,KAAAE,UACA,CAEA,SAAAS,EAAAC,GACA,OAAA7B,EAAAd,UAAAsC,GAAAb,MAAAM,KAAAY,EACA,CAEA,kBACA,IAEAC,EAFAC,EAAAd,KAAAU,OACAK,EAAAf,KAAAW,YAWA,OARAX,KAAAU,SACAV,KAAAW,cAEAE,EAAAL,EAAAd,MAAAM,KAAAE,WAEAF,KAAAU,OAAAI,EACAd,KAAAW,YAAAI,EAEAF,CACA,CACA,CAxBA,GAHA1B,EAAAoB,GAAAC,CA4BA,IACAvB,EAAAhB,UAAAX,EAAAuB,OAAAY,OACAP,EACA,CAIA8B,kBAAAhC,GACAE,EAAA8B,mBACAlC,GAEAK,EACA,CACAF,cACAG,YACA6B,WAAAnC,EACAoC,eAAA5B,IAQAN,GACA1B,EAAAgD,KAAAtB,EAAAqB,oBAAA,SAAA5B,EAAA0C,GACA,IAAAC,EAAAD,EAAAlD,UAIAX,EAAAuB,OACAuC,EAAAhC,UAAA,IAAAgC,EAAAH,WACAhC,EACAkC,EAAAf,OAEA,WAIApB,EAAAqB,oBAEAtB,EAAAsB,mBAAAgB,KAAApC,GAGA3B,EAAAuB,OAAAyC,OAAAxC,EAAAG,GAEAA,CACA,EAEA3B,EAAAuB,OAAAY,OAAA,SAAA8B,GAOA,IANA,IAGAC,EACAhB,EAJAiB,EAAAtD,EAAAuD,KAAAxB,UAAA,GACAyB,EAAA,EACAC,EAAAH,EAAAtB,OAIAwB,EAAAC,EAAAD,IACA,IAAAH,KAAAC,EAAAE,GACAnB,EAAAiB,EAAAE,GAAAH,GAEAzD,EAAA2D,KAAAD,EAAAE,GAAAH,SACAK,IAAArB,IAGAlD,EAAAwE,cAAAtB,GACAe,EAAAC,GAAAlE,EAAAwE,cAAAP,EAAAC,IACAlE,EAAAuB,OAAAY,OAAA,GAAA8B,EAAAC,GAAAhB,GAEAlD,EAAAuB,OAAAY,OAAA,GAAAe,GAIAe,EAAAC,GAAAhB,GAKA,OAAAe,CACA,EAEAjE,EAAAuB,OAAAyC,OAAA,SAAAxC,EAAAiD,GACA,IAAAzC,EAAAyC,EAAA9D,UAAAiD,gBAAApC,EACAxB,EAAA0E,GAAAlD,GAAA,SAAAgB,GACA,IAAAmC,EAAA,iBAAAnC,EACAc,EAAAzC,EAAAuD,KAAAxB,UAAA,GACAW,EAAAb,KAoEA,OAlEAiC,EAGAjC,KAAAG,QAAA,aAAAL,EAGAE,KAAAM,MAAA,WACA,IAAA4B,EACAC,EAAA7E,EAAAuC,KAAAG,KAAAV,GAEA,mBAAAQ,GACAe,EAAAsB,GACA,GAGAA,EAWA7E,EAAAmD,WAAA0B,EAAArC,KAAA,MAAAA,EAAAsC,OAAA,IAUAF,EAAAC,EAAArC,GAAAJ,MAAAyC,EAAAvB,MAEAuB,QAAAN,IAAAK,GACArB,EACAqB,KAAAG,OACAxB,EAAAyB,UAAAJ,EAAAK,OACAL,GACA,QALA,EAXA5E,EAAAkF,MACA,mBACA1C,EACA,SACAhB,EACA,oBAhBAxB,EAAAkF,MACA,0BACA1D,EADA,uDAIAgB,EACA,IAuBA,IAzCAe,OAAAgB,GA6CAjB,EAAAT,SACAL,EAAAxC,EAAAuB,OAAAY,OAAAC,MAAA,MAAAI,GAAAH,OAAAiB,KAGAZ,KAAAM,MAAA,WACA,IAAA6B,EAAA7E,EAAAuC,KAAAG,KAAAV,GACA6C,GACAA,EAAAM,OAAA3C,GAAA,IACAqC,EAAAO,OACAP,EAAAO,SAGApF,EAAAuC,KAAAG,KAAAV,EAAA,IAAAyC,EAAAjC,EAAAE,MAEA,KAGAa,CACA,CACA,EAEAvD,EAAAiC,OAAA,aACAjC,EAAAiC,OAAAc,mBAAA,GAEA/C,EAAAiC,OAAAtB,UAAA,CACAgD,WAAA,SACAD,kBAAA,GACA2B,eAAA,QAEA7C,QAAA,CACA8C,QAAA,GACAC,UAAA,EAGAC,OAAA,MAGA7C,cAAA,SAAAH,EAAAC,GACAA,EAAAzC,EAAAyC,GAAAC,KAAA2C,gBAAA3C,MAAA,GACAA,KAAAD,QAAAzC,EAAAyC,GACAC,KAAA+C,KAAAjF,IACAkC,KAAAgD,eAAA,IAAAhD,KAAAiB,WAAAjB,KAAA+C,KAEA/C,KAAAiD,SAAA3F,IACA0C,KAAAkD,UAAA5F,IACA0C,KAAAmD,UAAA7F,IACA0C,KAAAoD,qBAAA,GAEArD,IAAAC,OACA1C,EAAAuC,KAAAE,EAAAC,KAAAkB,eAAAlB,MACAA,KAAAqD,KAAA,EAAArD,KAAAD,QAAA,CACApB,OAAA,SAAA2E,GACAA,EAAA/B,SAAAxB,GACAC,KAAAuD,SAEA,IAEAvD,KAAAwD,SAAAlG,EACAyC,EAAA0D,MAEA1D,EAAA2D,cAEA3D,EAAAyD,UAAAzD,GAEAC,KAAA5C,OAAAE,EACA0C,KAAAwD,SAAA,GAAAG,aAAA3D,KAAAwD,SAAA,GAAAI,eAIA5D,KAAAF,QAAAxC,EAAAuB,OAAAY,OACA,GACAO,KAAAF,QACAE,KAAA6D,oBACA/D,GAGAE,KAAA8D,UAEA9D,KAAAF,QAAA+C,UACA7C,KAAA+D,mBAAA/D,KAAAF,QAAA+C,UAGA7C,KAAAgE,SAAA,cAAAhE,KAAAiE,uBACAjE,KAAA0C,OACA,EAEAmB,kBAAA,WACA,QACA,EAEAI,oBAAA3G,EAAA4G,KAEAJ,QAAAxG,EAAA4G,KAEAxB,MAAApF,EAAA4G,KAEAX,QAAA,WACA,IAAAY,EAAAnE,KAEAA,KAAAoE,WACA9G,EAAAgD,KAAAN,KAAAoD,sBAAA,SAAA5B,EAAAhB,GACA2D,EAAAE,aAAA7D,EAAAgB,EACA,IAIAxB,KAAAD,QAAAuE,IAAAtE,KAAAgD,gBAAAuB,WAAAvE,KAAAkB,gBACAlB,KAAAnB,SAAAyF,IAAAtE,KAAAgD,gBAAAwB,WAAA,iBAGAxE,KAAAiD,SAAAqB,IAAAtE,KAAAgD,eACA,EAEAoB,SAAA9G,EAAA4G,KAEArF,OAAA,WACA,OAAAmB,KAAAD,OACA,EAEA0C,OAAA,SAAAjB,EAAAhB,GACA,IACAiE,EACAC,EACAjG,EAHAqB,EAAA0B,EAKA,OAAAtB,UAAAC,OAEA,OAAA7C,EAAAuB,OAAAY,OAAA,GAAAO,KAAAF,SAGA,oBAAA0B,EAKA,GAHA1B,EAAA,GACA2E,EAAAjD,EAAAnC,MAAA,KACAmC,EAAAiD,EAAAE,QACAF,EAAAtE,OAAA,CAEA,IADAuE,EAAA5E,EAAA0B,GAAAlE,EAAAuB,OAAAY,OAAA,GAAAO,KAAAF,QAAA0B,IACA/C,EAAA,EAAAA,EAAAgG,EAAAtE,OAAA,EAAA1B,IACAiG,EAAAD,EAAAhG,IAAAiG,EAAAD,EAAAhG,KAAA,GACAiG,IAAAD,EAAAhG,IAGA,GADA+C,EAAAiD,EAAAG,MACA,IAAA1E,UAAAC,OACA,YAAA0B,IAAA6C,EAAAlD,GAAA,KAAAkD,EAAAlD,GAEAkD,EAAAlD,GAAAhB,CACA,MACA,OAAAN,UAAAC,OACA,YAAA0B,IAAA7B,KAAAF,QAAA0B,GAAA,KAAAxB,KAAAF,QAAA0B,GAEA1B,EAAA0B,GAAAhB,CACA,CAKA,OAFAR,KAAA6E,YAAA/E,GAEAE,IACA,EAEA6E,YAAA,SAAA/E,GACA,IAAA0B,EAEA,IAAAA,KAAA1B,EACAE,KAAA8E,WAAAtD,EAAA1B,EAAA0B,IAGA,OAAAxB,IACA,EAEA8E,WAAA,SAAAtD,EAAAhB,GAWA,MAVA,YAAAgB,GACAxB,KAAA+E,kBAAAvE,GAGAR,KAAAF,QAAA0B,GAAAhB,EAEA,aAAAgB,GACAxB,KAAA+D,mBAAAvD,GAGAR,IACA,EAEA+E,kBAAA,SAAAvE,GACA,IAAAwE,EAAAC,EAAAC,EAEA,IAAAF,KAAAxE,EACA0E,EAAAlF,KAAAoD,qBAAA4B,GAEAxE,EAAAwE,KAAAhF,KAAAF,QAAA8C,QAAAoC,IACAE,GACAA,EAAA/E,SASA8E,EAAA3H,EAAA4H,EAAA3C,OACAvC,KAAAqE,aAAAa,EAAAF,GAMAC,EAAAE,SACAnF,KAAAoF,SAAA,CACArF,QAAAkF,EACAI,KAAAL,EACApC,QAAApC,EACA8E,KAAA,KAIA,EAEAvB,mBAAA,SAAAvD,GACAR,KAAAuF,aACAvF,KAAAnB,SACAmB,KAAAkB,eAAA,YACA,OACAV,GAIAA,IACAR,KAAAqE,aAAArE,KAAAkD,UAAA,uBACAlD,KAAAqE,aAAArE,KAAAmD,UAAA,uBAEA,EAEAqC,OAAA,WACA,OAAAxF,KAAA6E,YAAA,CAAAhC,UAAA,GACA,EAEA4C,QAAA,WACA,OAAAzF,KAAA6E,YAAA,CAAAhC,UAAA,GACA,EAEAuC,SAAA,SAAAtF,GACA,IAAA4F,EAAA,GACAvB,EAAAnE,KA0BA,SAAA2F,EAAA/C,EAAAgD,GACA,IAAAC,EAAApH,EACA,IAAAA,EAAA,EAAAA,EAAAmE,EAAAzC,OAAA1B,IACAoH,EAAA1B,EAAAf,qBAAAR,EAAAnE,KAAAnB,IACAwC,EAAAwF,KAnBAxF,EAAAC,QAAAO,MAAA,SAAAwF,EAAA/F,GACAzC,EAAAyI,IAAA5B,EAAAf,sBAAA,SAAA6B,GACA,OAAAA,CACA,IAAAe,MAAA,SAAAf,GACA,OAAAA,EAAAgB,GAAAlG,EACA,KAGAoE,EAAAd,IAAA/F,EAAAyC,GAAA,CACApB,OAAA,0BAGA,IASAkH,EAAAvI,EACAA,EAAAK,WAAAkI,EAAAtD,MAAA5C,OAAAG,EAAAC,QAAAwC,UAGAsD,EAAAvI,EAAAuI,EAAAK,IAAApG,EAAAC,SAAAwC,OAEA4B,EAAAf,qBAAAR,EAAAnE,IAAAoH,EACAH,EAAArE,KAAAuB,EAAAnE,IACAmH,GAAA9F,EAAA8C,UAAAnE,KACAiH,EAAArE,KAAAvB,EAAA8C,UAAAnE,IAGA,CASA,OAnDAqB,EAAAxC,EAAAmC,OACA,CACAM,QAAAC,KAAAD,QACA6C,QAAA5C,KAAAF,QAAA8C,SAAA,IAEA9C,IAuCAuF,MACAM,EAAA7F,EAAAuF,KAAAc,MAAA,gBAEArG,EAAAsG,OACAT,EAAA7F,EAAAsG,MAAAD,MAAA,aAGAT,EAAAW,KAAA,IACA,EAEAC,uBAAA,SAAAhD,GACA,IAAAa,EAAAnE,KACA1C,EAAAgD,KAAA6D,EAAAf,sBAAA,SAAA5B,EAAAhB,IACA,IAAAlD,EAAAiJ,QAAAjD,EAAA/B,OAAAf,KACA2D,EAAAf,qBAAA5B,GAAAlE,EAAAkD,EAAA0F,IAAA5C,EAAA/B,QAAAgB,OAEA,IAEAvC,KAAAwG,KAAAlJ,EAAAgG,EAAA/B,QACA,EAEA8C,aAAA,SAAAtE,EAAAsF,EAAAe,GACA,OAAApG,KAAAuF,aAAAxF,EAAAsF,EAAAe,GAAA,EACA,EAEAK,UAAA,SAAA1G,EAAAsF,EAAAe,GACA,OAAApG,KAAAuF,aAAAxF,EAAAsF,EAAAe,GAAA,EACA,EAEAb,aAAA,SAAAxF,EAAAsF,EAAAe,EAAAd,GACAA,EAAA,kBAAAA,IAAAc,EACA,IAAAzB,EAAA,iBAAA5E,GAAA,OAAAA,EACAD,EAAA,CACAsG,MAAAzB,EAAAU,EAAAe,EACAf,KAAAV,EAAA5E,EAAAsF,EACAtF,QAAA4E,EAAA3E,KAAAD,UACAuF,OAGA,OADAxF,EAAAC,QAAA2G,YAAA1G,KAAAoF,SAAAtF,GAAAwF,GACAtF,IACA,EAEAqD,IAAA,SAAAsD,EAAA5G,EAAA6G,GACA,IAAAC,EACA1E,EAAAnC,KAGA,kBAAA2G,IACAC,EAAA7G,EACAA,EAAA4G,EACAA,GAAA,GAIAC,GAKA7G,EAAA8G,EAAAvJ,EAAAyC,GACAC,KAAAiD,SAAAjD,KAAAiD,SAAAqC,IAAAvF,KALA6G,EAAA7G,EACAA,EAAAC,KAAAD,QACA8G,EAAA7G,KAAAnB,UAMAvB,EAAAgD,KAAAsG,GAAA,SAAAtD,EAAAwD,GACA,SAAAC,IAIA,GACAJ,IACA,IAAAxE,EAAArC,QAAA+C,WACAvF,EAAA0C,MAAAgH,SAAA,qBAIA,OACA,iBAAAF,EAAA3E,EAAA2E,MACApH,MAAAyC,EAAAjC,UACA,CAGA,iBAAA4G,IACAC,EAAAE,KAAAH,EAAAG,KACAH,EAAAG,MAAAF,EAAAE,MAAA3J,EAAA2J,QAGA,IAAAd,EAAA7C,EAAA6C,MAAA,sBACAe,EAAAf,EAAA,GAAAhE,EAAAa,eACAmE,EAAAhB,EAAA,GAEAgB,EACAN,EAAAO,GAAAF,EAAAC,EAAAJ,GAEAhH,EAAAqH,GAAAF,EAAAH,EAEA,GACA,EAEAP,KAAA,SAAAzG,EAAAmH,GACAA,GACAA,GAAA,IAAA7H,MAAA,KAAAgH,KAAArG,KAAAgD,eAAA,KACAhD,KAAAgD,eACAjD,EAAAuE,IAAA4C,GAGAlH,KAAAiD,SAAA3F,EAAA0C,KAAAiD,SAAAiD,IAAAnG,GAAAwC,OACAvC,KAAAmD,UAAA7F,EAAA0C,KAAAmD,UAAA+C,IAAAnG,GAAAwC,OACAvC,KAAAkD,UAAA5F,EAAA0C,KAAAkD,UAAAgD,IAAAnG,GAAAwC,MACA,EAEA8E,OAAA,SAAAP,EAAAQ,GACA,IAAAnF,EAAAnC,KAMA,OAAAuH,YALA,WACA,OACA,iBAAAT,EAAA3E,EAAA2E,MACApH,MAAAyC,EAAAjC,UACA,GACAoH,GAAA,EACA,EAEAE,WAAA,SAAAzH,GACAC,KAAAkD,UAAAlD,KAAAkD,UAAAoC,IAAAvF,GACAC,KAAAqD,IAAAtD,EAAA,CACA0H,WAAA,SAAAnE,GACAtD,KAAAyG,UAAAnJ,EAAAgG,EAAAoE,eAAA,sBACA,EACAC,WAAA,SAAArE,GACAtD,KAAAqE,aAAA/G,EAAAgG,EAAAoE,eAAA,sBACA,GAEA,EAEAE,WAAA,SAAA7H,GACAC,KAAAmD,UAAAnD,KAAAmD,UAAAmC,IAAAvF,GACAC,KAAAqD,IAAAtD,EAAA,CACA8H,QAAA,SAAAvE,GACAtD,KAAAyG,UAAAnJ,EAAAgG,EAAAoE,eAAA,sBACA,EACAI,SAAA,SAAAxE,GACAtD,KAAAqE,aAAA/G,EAAAgG,EAAAoE,eAAA,sBACA,GAEA,EAEA1D,SAAA,SAAA+D,EAAAzE,EAAAzD,GACA,IAAAU,EAAA1C,EACAmK,EAAAhI,KAAAF,QAAAiI,GAcA,GAZAlI,KAAA,IACAyD,EAAAhG,EAAA2K,MAAA3E,IACAyE,MACAA,IAAA/H,KAAAgB,kBAAA+G,EAAA/H,KAAAgB,kBAAA+G,GACAnI,cAIA0D,EAAA/B,OAAAvB,KAAAD,QAAA,GAGAlC,EAAAyF,EAAA4E,cAEA,IAAA3H,KAAA1C,EACA0C,KAAA+C,IACAA,EAAA/C,GAAA1C,EAAA0C,IAMA,OADAP,KAAAD,QAAAoI,QAAA7E,EAAAzD,KAEAvC,EAAAmD,WAAAuH,KACA,IAAAA,EAAAtI,MAAAM,KAAAD,QAAA,IAAAuD,GAAA3D,OAAAE,KACAyD,EAAA8E,qBAEA,GAGA9K,EAAAgD,KAAA,CAAA+H,KAAA,SAAAC,KAAA,qBAAAC,EAAAC,GACAlL,EAAAiC,OAAAtB,UAAA,IAAAsK,GAAA,SAAAxI,EAAAD,EAAAkI,GAKA,IAAAS,EAJA,iBAAA3I,IACAA,EAAA,CAAA4I,OAAA5I,IAIA,IAAA6I,EAAA7I,GAEA,IAAAA,GAAA,iBAAAA,EACA0I,EACA1I,EAAA4I,QAAAF,EAHAD,EAMA,iBADAzI,KAAA,MAEAA,EAAA,CAAA8I,SAAA9I,IAGA2I,GAAAnL,EAAAuL,cAAA/I,GACAA,EAAAgJ,SAAAd,EAEAlI,EAAAwH,OACAvH,EAAAuH,MAAAxH,EAAAwH,OAGAmB,GAAAnL,EAAAyL,SAAAzL,EAAAyL,QAAAL,OAAAC,GACA5I,EAAAwI,GAAAzI,GACA6I,IAAAJ,GAAAxI,EAAA4I,GACA5I,EAAA4I,GAAA7I,EAAA8I,SAAA9I,EAAAkJ,OAAAhB,GAEAjI,EAAAkJ,OAAA,SAAAC,GACA5L,EAAA0C,MAAAuI,KACAP,GACAA,EAAAtG,KAAA3B,EAAA,IAEAmJ,GACA,GAEA,CACA,GACA,IClxBA,SAAA5L,GACA,aACA,IAAA6L,EAAA,SAAAC,EAAAvJ,GACA,IAAAwJ,EAAA,YAAAC,KAAAF,GAEA,IAAAG,SACAJ,EAAAK,IAAA,QACA,qBACAL,EAAAM,OACA,QACAL,EAAAM,QAAAP,EAAAQ,OAAAR,EAAAS,MACA,gBAPAT,EAAAU,MAAAT,GAAAD,EAAAU,MAAAT,IAAAD,IAAAW,KAAAV,IASA,OAAAvJ,EACAwJ,EAAAxJ,EAAAsJ,GACA,SAAAtJ,GACA,OAAAwJ,EAAAxJ,EAAAsJ,EACA,CACA,EACAA,EAAAU,MAAA,GACAV,EAAAW,KAAA,SAAAC,GACA,OAAAvG,SAAAwG,eAAAD,GAAAE,SACA,EACAd,EAAAQ,OACA,2EACAR,EAAAS,KAAA,SAAAM,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACA,OAAAJ,EAGA,CACA,WACA,WACA,WACA,SACAA,IAAA,KAAAA,EAGAC,EAEA,MAAAA,EACA,QAAAC,EAAA,MAEA,MAAAA,EAAA,aAAAA,EAAA,MAEAC,EAEA,KAEAC,EAEA,aAFA,CAIA,EACApB,EAAAqB,OAAA,eACArB,EAAAsB,OAAA,CACA,WACA,WACA,YACA,aACA,aAEAtB,EAAAuB,OAAA,SAAAR,GAEA,aAAAA,EAAA,MAAAA,GAAAR,QAAAP,EAAAqB,QAAA,SAAAG,GACA,OAAAxB,EAAAsB,OAAAE,IAAA,EACA,GACA,EACAxB,EAAAK,IAAA,IACAL,EAAAM,OACA,0FAEA,mBAAAzM,eAAAC,IACAD,QAAA,WACA,OAAAmM,CACA,IACA,iBAAAyB,eAAA1N,QACA0N,OAAA1N,QAAAiM,EAEA7L,EAAA6L,MAEA,CAhFA,CAgFAnJ,MCrFC,SAAW1C,gBAGV,IAAIuN,EAASvN,EAAEwN,KAAOxN,EAAEyN,UAQxB,SAASC,EAAgBC,GACvB,QAAOJ,GAASA,EAAOG,gBAAgBC,GASzC,SAASC,EAAgBC,GACvB,QAAON,GAASA,EAAOK,gBAAgBC,GASzC,SAASC,EAAaD,EAAKrL,IACrBqL,GAA2B,UAApBA,EAAI/M,MAAM,EAAG,IAAoB0B,GAAWA,EAAQuL,UAC7DH,EAAgBC,GAapB,SAASG,EAASC,EAAMC,EAAQC,EAASlD,GACvC,IAAKjL,EAAEoO,WAAY,SACnB,IAAIC,EAAS,IAAID,WAUjB,OATAC,EAAOH,OAAS,WACdA,EAAO9J,KAAKiK,EAAQ3L,KAAK4L,SAEvBH,IACFE,EAAOE,QAAUF,EAAOF,QAAU,WAChCA,EAAQ/J,KAAKiK,EAAQ3L,KAAKwC,UAG1BsJ,EAAeH,EAAOpD,GAAU,mBAElCuD,EAAapK,KAAKiK,EAAQJ,GACnBI,SAFT,CAaF,SAASI,EAAahE,EAAMiE,GAE1B,OAAOC,OAAOhO,UAAUiO,SAASxK,KAAKsK,KAAS,WAAajE,EAAO,IAerE,SAASoE,EAAUZ,EAAMvD,EAAUlI,GAQjC,SAASsM,EAASC,EAASC,GACzB,IACInB,EADAoB,EAAM/I,SAASgJ,cAAc,OASjC,SAASC,EAAeF,EAAK1M,GACvBwM,IAAYC,EAILC,aAAeG,MACxBJ,EAAOC,KAGT1M,EAAOA,GAAQ,IACV8M,MAAQJ,EACbF,EAAQxM,IARFwM,GAASA,EAAQE,EAAK1M,GAgB9B,SAAS+M,EAAkB3B,EAAM4B,GAC3BA,GAAOvP,EAAEwP,SAASA,QAAQC,IAAIF,GAC9B5B,GAAQc,EAAa,OAAQd,GAE/BE,EAAMH,EADNO,EAAON,IAGPE,EAAMI,EACFzL,GAAWA,EAAQkN,cACrBT,EAAIS,YAAclN,EAAQkN,cAG9BT,EAAIU,IAAM9B,EAkBZ,OAhBAoB,EAAId,QAAU,SAAUnI,GACtB8H,EAAaD,EAAKrL,GACdwM,GAAQA,EAAO5K,KAAK6K,EAAKjJ,IAE/BiJ,EAAIf,OAAS,WACXJ,EAAaD,EAAKrL,GAClB,IAAID,EAAO,CACTqN,cAAeX,EAAIY,cAAgBZ,EAAIa,MACvCC,eAAgBd,EAAIe,eAAiBf,EAAIgB,QAE3C,IACEpB,EAAUqB,UAAUjB,EAAKzM,EAAS2M,EAAgBlB,EAAM1L,GACxD,MAAO2C,GACH8J,GAAQA,EAAO9J,KAGH,iBAAT+I,GACLY,EAAUsB,iBAAiB3N,GAC7BqM,EAAUuB,UAAUnC,EAAMqB,EAAmB9M,GAE7C8M,IAEKL,GACER,EAAa,OAAQR,IAASQ,EAAa,OAAQR,IAC5DJ,EAAMH,EAAgBO,KAEpBgB,EAAIU,IAAM9B,EACHoB,GAEFjB,EACLC,GACA,SAAUJ,GACRoB,EAAIU,IAAM9B,IAEZmB,SAXG,CAeT,OAAIhP,EAAEqQ,SAA+B,mBAAb3F,GACtBlI,EAAUkI,EACH,IAAI2F,QAAQvB,IAEdA,EAASpE,EAAUA,GAK5BmE,EAAUsB,iBAAmB,SAAU3N,GACrC,OAAOA,GAAWA,EAAQ8N,MAM5BzB,EAAUuB,UAAY,SAAUvC,EAAKnD,GACnCA,KAGFmE,EAAUqB,UAAY,SAAUjB,EAAKzM,EAASkI,EAAUuD,EAAM1L,GAC5DmI,EAASuE,EAAK1M,IAGhBsM,EAAU0B,OAASvQ,EACnB6O,EAAUb,SAAWA,EACrBa,EAAUJ,aAAeA,EACzBI,EAAUnB,gBAAkBA,EAC5BmB,EAAUjB,gBAAkBA,EAEN,mBAAXlO,QAAyBA,OAAOC,IACzCD,QAAO,WACL,OAAOmP,KAEkB,iBAAXvB,QAAuBA,OAAO1N,QAC9C0N,OAAO1N,QAAUiP,EAEjB7O,EAAE6O,UAAYA,EArNjB,CAuNqB,oBAAX/O,QAA0BA,QAAW4C,MCvN/C,SAAWjD,gBAEY,mBAAXC,QAAyBA,OAAOC,IAEzCD,OAAO,CAAC,gBAAiBD,GACE,iBAAX6N,QAAuBA,OAAO1N,QAC9CH,EAAQI,QAAQ,iBAGhBJ,EAAQK,OAAO+O,WATlB,EAWE,SAAUA,gBAGX,IAAI2B,EAAoB3B,EAAUqB,UAElCrB,EAAU4B,aAAe,SAAUX,EAAOG,EAAQS,GAChD,OAAIA,GAAa7B,EAAU0B,OAAOI,gBACzB,IAAIA,gBAAgBb,EAAOG,KAEhCW,EAAS1K,SAASgJ,cAAc,WAC7BY,MAAQA,EACfc,EAAOX,OAASA,EACTW,IAGT/B,EAAUqB,UAAY,SAAUjB,EAAKzM,EAASkI,EAAUuD,EAAM1L,GAC5DiO,EAAkBpM,KAChByK,EACAA,EAAUgC,MAAM5B,EAAKzM,EAASD,GAC9BC,EACAkI,EACAuD,EACA1L,IAOJsM,EAAUiC,qBAAuB,aAKjCjC,EAAUkC,sBAAwB,SAAU9B,EAAKzM,GAC/C,IACIwO,EACA7P,EACA2O,EAHAmB,EAAczO,EAAQyO,YAK1B,IAAKA,EACH,OAAOzO,EAGT,IAAKrB,KADL6P,EAAa,GACHxO,EACJmM,OAAOhO,UAAUC,eAAewD,KAAK5B,EAASrB,KAChD6P,EAAW7P,GAAKqB,EAAQrB,IAa5B,OAVA6P,EAAWE,QAGUD,GAFrBnB,EAAQb,EAAIY,cAAgBZ,EAAIa,QAChCG,EAAShB,EAAIe,eAAiBf,EAAIgB,SAEhCe,EAAWG,SAAWlB,EAASgB,EAC/BD,EAAWI,UAAYnB,IAEvBe,EAAWG,SAAWrB,EACtBkB,EAAWI,UAAYtB,EAAQmB,GAE1BD,GAITnC,EAAUwC,UAAY,SACpBpC,EACA2B,EACAU,EACAC,EACAC,EACAC,EACAC,EACAC,EACAnP,GAoBA,OAlBIoP,EAAMhB,EAAOiB,WAAW,OAkB5B,IAjBIrP,EAAQsP,uBACVF,EAAIG,2BACJH,EAAIE,0BACKtP,EAAQwP,wBACjBJ,EAAII,sBAAwBxP,EAAQwP,uBAEtCJ,EAAIP,UACFpC,EACAqC,EACAC,EACAC,EACAC,EACA,EACA,EACAC,EACAC,GAEKC,GAIT/C,EAAUoD,eAAiB,SAAUzP,GACnC,OAAOA,EAAQoO,QAAUpO,EAAQ0O,QAAU1O,EAAQyO,aAKrDpC,EAAUgC,MAAQ,SAAU5B,EAAKzM,EAASD,GAExCC,EAAUA,GAAW,GAErBD,EAAOA,GAAQ,GACf,IAQI4O,EACAC,EACAc,EACAC,EACAX,EACAC,EACAH,EACAC,EAEAa,EACAC,EACAzB,EAnBA0B,EACFrD,EAAI4C,YACHhD,EAAUoD,eAAezP,MACtBqM,EAAU0B,OAAOgC,kBACnBzC,EAAQb,EAAIY,cAAgBZ,EAAIa,MAChCG,EAAShB,EAAIe,eAAiBf,EAAIgB,OAClCyB,EAAY5B,EACZ6B,EAAa1B,EAgBjB,SAASuC,IACP,IAAI3B,EAAQ4B,KAAKC,KACdR,GAAYR,GAAaA,GACzBS,GAAaR,GAAcA,GAElB,EAARd,IACFa,GAAab,EACbc,GAAcd,GAMlB,SAAS8B,IACP,IAAI9B,EAAQ4B,KAAKG,KACdzB,GAAYO,GAAaA,GACzBN,GAAaO,GAAcA,GAE1Bd,EAAQ,IACVa,GAAab,EACbc,GAAcd,GA2DlB,GAxDIyB,IAGFhB,GADA9O,EAAUqM,EAAUkC,sBAAsB9B,EAAKzM,EAASD,IACtCsQ,MAAQ,EAC1BtB,EAAU/O,EAAQsQ,KAAO,EACrBtQ,EAAQgP,aACVA,EAAchP,EAAQgP,iBACAjN,IAAlB/B,EAAQuQ,YAAwCxO,IAAjB/B,EAAQqQ,OACzCvB,EAAUxB,EAAQ0B,EAAchP,EAAQuQ,QAG1CvB,EAAc1B,EAAQwB,GAAW9O,EAAQuQ,OAAS,GAEhDvQ,EAAQiP,cACVA,EAAejP,EAAQiP,kBACAlN,IAAnB/B,EAAQwQ,aAAwCzO,IAAhB/B,EAAQsQ,MAC1CvB,EAAUtB,EAASwB,EAAejP,EAAQwQ,SAG5CvB,EAAexB,EAASsB,GAAW/O,EAAQwQ,QAAU,GAEvDtB,EAAYF,EACZG,EAAaF,GAEfN,EAAW3O,EAAQ2O,SACnBC,EAAY5O,EAAQ4O,UACpBc,EAAW1P,EAAQ0P,SACnBC,EAAY3P,EAAQ2P,UAChBG,GAAanB,GAAYC,GAAa5O,EAAQ0O,MAGhDmB,EAAMb,EAAcC,GAFpBC,EAAYP,IACZQ,EAAaP,IAEH,GACRK,EAAgBL,EAAYI,EAAeL,OACvB5M,IAAhB/B,EAAQsQ,UAAwCvO,IAAnB/B,EAAQwQ,SACvCzB,GAAWtB,EAASwB,GAAgB,IAEvB,EAANY,IACTb,EAAeL,EAAWM,EAAgBL,OACrB7M,IAAjB/B,EAAQqQ,WAAwCtO,IAAlB/B,EAAQuQ,QACxCzB,GAAWxB,EAAQ0B,GAAe,MAIlChP,EAAQyQ,SAAWzQ,EAAQ0Q,SAC7BhB,EAAWf,EAAWA,GAAYe,EAClCC,EAAYf,EAAYA,GAAae,GAEnC3P,EAAQ0Q,OACVP,IACAH,MAEAA,IACAG,MAGAL,EAAW,CAsCb,GAnCe,GAFfa,EAAa3Q,EAAQ2Q,eAKjBlE,EAAI9I,MAAM2J,OACV2C,KAAKW,MAAMC,WAAWpE,EAAI9I,MAAM2J,MAAO,OACrC2C,KAAKW,MAAMtD,EAAQqD,MAGvBzB,GAAayB,EACbxB,GAAcwB,GAKdtE,EAAUyE,qBACTrE,EAAI4C,aACJP,GAAWC,GAAWC,IAAgB1B,GAAS2B,IAAiBxB,KAGjEoC,EAAMpD,EAENA,EAAMJ,EAAU4B,aAAaX,EAAOG,MACpCpB,EAAUwC,UACRgB,EACApD,EACA,EACA,EACAa,EACAG,EACAH,EACAG,EACAzN,IAKkB,GAFtB4P,EAAoB5P,EAAQ4P,oBAG1BA,EAAoB,GACpBV,EAAYF,GACZG,EAAaF,EAEb,KAAyCC,EAAlCF,EAAcY,GACnBxB,EAAS/B,EAAU4B,aACjBe,EAAcY,EACdX,EAAeW,MAGjBvD,EAAUwC,UACRpC,EACA2B,EACAU,EACAC,EACAC,EACAC,EACAb,EAAOd,MACPc,EAAOX,OACPzN,GAGF+O,EADAD,EAAU,EAEVE,EAAcZ,EAAOd,MACrB2B,EAAeb,EAAOX,OAEtBhB,EAAM2B,EAqBV,OAlBAA,EAAS/B,EAAU4B,aAAaiB,EAAWC,GAC3C9C,EAAUiC,qBAAqBF,EAAQpO,EAASD,GAC/B,EAAb4Q,IACFvC,EAAOzK,MAAM2J,MAAQc,EAAOd,MAAQqD,EAAa,MAEnDtE,EACGwC,UACCpC,EACA2B,EACAU,EACAC,EACAC,EACAC,EACAC,EACAC,EACAnP,GAED+Q,aAAa,EAAG,EAAG,EAAG,EAAG,EAAG,GACxB3C,EAIT,OAFA3B,EAAIa,MAAQ4B,EACZzC,EAAIgB,OAAS0B,EACN1C,MCnTV,SAAWxP,gBAEY,mBAAXC,QAAyBA,OAAOC,IAEzCD,OAAO,CAAC,gBAAiBD,GACE,iBAAX6N,QAAuBA,OAAO1N,QAC9CH,EAAQI,QAAQ,iBAGhBJ,EAAQK,OAAO+O,WATlB,EAWE,SAAUA,gBAGX,IAAI0B,EAAS1B,EAAU0B,OACnBC,EAAoB3B,EAAUqB,UAE9BsD,EACFjD,EAAOkD,OACNA,KAAK9S,UAAUG,OACd2S,KAAK9S,UAAU+S,aACfD,KAAK9S,UAAUgT,UAEfC,EACDrD,EAAOsD,aAAeA,YAAYlT,UAAUG,OAC7C,SAAUgT,EAAOC,GAOf,OAJAA,EAAMA,GAAOrR,KAAKsR,WAAaF,EAC3BG,EAAO,IAAIC,WAAWxR,KAAMoR,EAAOC,IACnCI,EAAO,IAAID,WAAWH,IACrBK,IAAIH,GACFE,EAAKE,QAGZC,EAAkB,CACpBC,KAAM,CACJC,MAAQ,GACRC,MAAQ,KAmBZ,SAASC,EAAczG,EAAMvD,EAAUlI,EAASD,GAC9C,IAAIsE,EAAOnE,KAQX,SAASoM,EAASC,EAASC,GACzB,KAEIuB,EAAOoE,UACPnB,GACAvF,GACa,IAAbA,EAAK2G,MACS,eAAd3G,EAAKxD,MAIP,OAAOsE,EAAQxM,GAGjB,IAAIsS,EAAkBrS,EAAQqS,iBAAmB,OAE9ChG,EAAUb,SACTwF,EAAUpP,KAAK6J,EAAM,EAAG4G,IACxB,SAAUR,GAKR,IAAIS,EAAW,IAAIH,SAASN,GAE5B,GAA8B,QAA1BS,EAASC,UAAU,GACrB,OAAO/F,EACL,IAAII,MAAM,4CAUd,IAPA,IAGI4F,EACAC,EACAC,EACA/T,EANAgU,EAAS,EACTC,EAAYN,EAASd,WAAa,EAClCqB,EAAaF,EAKVA,EAASC,IAMI,QALlBJ,EAAcF,EAASC,UAAUI,KAKLH,GAAe,OACzB,QAAhBA,IAPuB,CAcvB,GAAIG,GADJF,EAAeH,EAASC,UAAUI,EAAS,GAAK,GACpBL,EAASd,WAAY,CAE/CxE,QAAQC,IAAI,gDACZ,MAGF,IADAyF,EAAUZ,EAAgBC,KAAKS,MACfxS,EAAQ8S,uBACtB,IAAKnU,EAAI,EAAGA,EAAI+T,EAAQrS,OAAQ1B,GAAK,EACnC+T,EAAQ/T,GAAGiD,KACTyC,EACAiO,EACAK,EACAF,EACA1S,EACAC,GAKN6S,EADAF,GAAUF,GAUTzS,EAAQ+S,kBAAiC,EAAbF,IAC/B9S,EAAKiT,UAAY5B,EAAYxP,KAAKiQ,EAAQ,EAAGgB,IAE/CtG,EAAQxM,KAEVyM,EACA,sBAIFD,EAAQxM,GAIZ,OADAC,EAAUA,GAAW,GACjB+N,EAAOF,SAA+B,mBAAb3F,GAE3BnI,EADAC,EAAUkI,GAAY,GAEf,IAAI2F,QAAQvB,KAErBvM,EAAOA,GAAQ,GACRuM,EAASpE,EAAUA,IAW5B,SAAS+K,EAAgB9H,EAAM+H,EAASC,GACtC,OAAKhI,GAAS+H,GAAYC,EACnB,IAAIlC,KAAK,CAACkC,EAASnC,EAAUpP,KAAKuJ,EAAM+H,EAAQ1B,aAAc,CACnEvJ,KAAM,eAFkC,KA+B5CoE,EAAUqB,UAAY,SAAUjB,EAAKzM,EAASkI,EAAUuD,EAAM1L,GACxDsM,EAAUsB,iBAAiB3N,GAE7BkS,EACEzG,GACA,SAAUK,GACJA,IAAW/L,IAETgO,EAAOf,SAASA,QAAQC,IAAInB,GAChCA,EAAS/L,GAEXiO,EAAkBpM,KAChByK,EACAI,EACAzM,EACAkI,EACAuD,EACAK,KAGJ9L,EAlBFD,EAAOA,GAAQ,IAsBfiO,EAAkBpO,MAAMyM,EAAWjM,YAIvCiM,EAAU2E,UAAYA,EACtB3E,EAAU+E,YAAcA,EACxB/E,EAAU+G,YA9CV,SAAqBjI,EAAMkI,EAAMnL,GAC/B,IAAIlI,EAAU,CAAEqS,gBAAiB,KAAMS,2BACvC,IAAK5K,GAAY6F,EAAOF,QACtB,OAAOqE,EAAc/G,EAAMnL,GAASsT,MAAK,SAAUvT,GACjD,OAAOkT,EAAgB9H,EAAMpL,EAAKiT,UAAWK,MAGjDnB,EACE/G,GACA,SAAUpL,GACRmI,EAAS+K,EAAgB9H,EAAMpL,EAAKiT,UAAWK,MAEjDrT,IAmCJqM,EAAU6F,cAAgBA,EAC1B7F,EAAUyF,gBAAkBA,KCpP7B,SAAW7U,gBAEY,mBAAXC,QAAyBA,OAAOC,IAEzCD,OAAO,CAAC,gBAAiBD,GACE,iBAAX6N,QAAuBA,OAAO1N,QAC9CH,EAAQI,QAAQ,iBAGhBJ,EAAQK,OAAO+O,WATlB,EAWE,SAAUA,gBAGX,IAAI0B,EAAS1B,EAAU0B,OAGrBA,EAAOwF,OACPxF,EAAOyF,SACPzF,EAAO0F,UACP1F,EAAO0F,SAAStV,UAAUgN,KAE1BkB,EAAUuB,UAAY,SAAUvC,EAAKnD,EAAUlI,GAO7C,SAAS0T,EAAgBC,GACvB,OAAOA,EAASxI,OAElB,GAAI4C,EAAOF,SAA+B,mBAAb3F,EAC3B,OAAOqL,MAAM,IAAIC,QAAQnI,EAAKnD,IAAWoL,KAAKI,GAEhDH,MAAM,IAAIC,QAAQnI,EAAKrL,IACpBsT,KAAKI,GACLJ,KAAKpL,GAKN,OAAE,SAAU6E,GACV7E,EAAS,KAAM6E,OAIrBgB,EAAO6F,gBAE+B,UAAlCA,gBAAiBC,eAErBxH,EAAUuB,UAAY,SAAUvC,EAAKnD,EAAUlI,GAO7C,SAASsM,EAASC,EAASC,GACzBxM,EAAUA,GAAW,GACrB,IAAI8T,EAAM,IAAIF,eACdE,EAAIC,KAAK/T,EAAQyI,QAAU,MAAO4C,GAC9BrL,EAAQgU,SACV7H,OAAO5G,KAAKvF,EAAQgU,SAASC,SAAQ,SAAUvS,GAC7CoS,EAAII,iBAAiBxS,EAAK1B,EAAQgU,QAAQtS,OAG9CoS,EAAIK,gBAA0C,YAAxBnU,EAAQoU,YAC9BN,EAAID,aAAe,OACnBC,EAAIpI,OAAS,WACXa,EAAQuH,EAAIH,WAEdG,EAAInI,QACFmI,EAAI/H,QACJ+H,EAAIO,UACF,SAAUtH,GACJR,IAAYC,EAEdA,EAAO,KAAMO,GAEbP,EAAOO,IAGf+G,EAAIQ,KAAKtU,EAAQuU,MAEnB,OAAIxG,EAAOF,SAA+B,mBAAb3F,GAC3BlI,EAAUkI,EACH,IAAI2F,QAAQvB,IAEdA,EAASpE,EAAUA,QC5D/B,SAAWjL,gBAEY,mBAAXC,QAAyBA,OAAOC,IAEzCD,OAAO,CAAC,eAAgB,qBAAsB,qBAAsBD,GACzC,iBAAX6N,QAAuBA,OAAO1N,QAC9CH,EACEI,QAAQ,gBACRA,QAAQ,sBACRA,QAAQ,sBAIVJ,EAAQK,OAAO+O,WAblB,EAeE,SAAUA,gBAGX,IAMY7O,EAiBNiP,EAvBFuB,EAAoB3B,EAAUqB,UAC9B8G,EAAyBnI,EAAUoD,eACnCgF,EAA2BpI,EAAUsB,iBACrC+G,EAA+BrI,EAAUiC,qBACzCqG,EAAgCtI,EAAUkC,sBAgD9C,SAASqG,EAA0B5U,EAAS6U,GAE1C,YADIC,EAAc9U,GAAWA,EAAQ8U,eAGTzI,EAAUyI,aAEnB,IAAhBA,GAAqBzI,EAAUyI,eAE7BD,GAAgBxI,EAAUyI,cACb,EAAdA,GACAA,EAAc,EAWpB,SAASC,EAA0BD,EAAaE,GAC9C,OACEF,IAAgBE,IACE,IAAhBF,GAAuC,EAAlBE,GAAuBA,EAAkB,GAC/C,EAAdF,GAAmBA,EAAc,GAsBxC,SAASG,EAAeH,EAAaE,GACnC,GAAsB,EAAlBA,GAAuBA,EAAkB,EAC3C,OAAQF,GACN,KAAK,EACL,KAAK,EACH,OAAyB,EAAlBE,EACT,KAAK,EACL,KAAK,EACH,OAAOA,EAAkB,GAAM,EACjC,KAAK,EACL,KAAK,EACH,OACsB,IAApBA,GACoB,IAApBA,GACoB,IAApBA,GACoB,IAApBA,IA5GExX,EAqCT6O,GAnCM0B,OAAOrK,YAeV+I,EAAM/I,SAASgJ,cAAc,QAC7BhB,OAAS,WAGX,IAEM0D,EAHN5R,EAAEsX,YAA4B,IAAdrI,EAAIa,OAA8B,IAAfb,EAAIgB,OACnCjQ,EAAEsX,eAEA1F,EADS5R,EAAEyQ,aAAa,EAAG,MACdoB,WAAW,OACxBR,UAAUpC,EAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAQxCjP,EAAEsT,mBACiD,oBAAjD1B,EAAI8F,aAAa,EAAG,EAAG,EAAG,GAAGnV,KAAKqM,aAGxCK,EAAIU,IA3BF,mfA2GJd,EAAUoD,eAAiB,SAAUzP,GACnC,OACE4U,EAA0B5U,IAC1BwU,EAAuB5S,KAAKyK,EAAWrM,IAK3CqM,EAAUsB,iBAAmB,SAAU3N,GACrC,OACE4U,EAA0B5U,OAC1ByU,EAAyB7S,KAAKyK,EAAWrM,IAI7CqM,EAAUqB,UAAY,SAAUjB,EAAKzM,EAASkI,EAAUuD,EAAM1L,GAC5DiO,EAAkBpM,KAChByK,EACAI,EACAzM,GACA,SAAUyM,EAAK1M,GACb,IAKQqN,EACAG,GANJxN,GAGoB,GAFlBiV,EACF3I,EAAUyI,aAAe/U,EAAKoV,MAAQpV,EAAKoV,KAAK1S,IAAI,iBAC3BuS,EAAkB,IAEvC5H,EAAgBrN,EAAKqN,cACrBG,EAAiBxN,EAAKwN,eAC1BxN,EAAKqN,cAAgBG,EACrBxN,EAAKwN,eAAiBH,GAG1BlF,EAASuE,EAAK1M,KAEhB0L,EACA1L,IAMJsM,EAAUkC,sBAAwB,SAAU9B,EAAK2I,EAAMrV,GACrD,IAAIC,EAAU2U,EAA8B/S,KAAKyK,EAAWI,EAAK2I,GAC7DC,EAAkBtV,EAAKoV,MAAQpV,EAAKoV,KAAK1S,IAAI,eAIjD,IAAKsS,EADqBD,QAFtBA,EAAc9U,EAAQ8U,aAEcO,EACTP,EAF3BE,EAAkB3I,EAAUyI,aAAeO,GAG7C,OAAOrV,EAET,IAKSrB,EALL2R,EAAMtQ,EAAQsQ,IACdC,EAAQvQ,EAAQuQ,MAChBC,EAASxQ,EAAQwQ,OACjBH,EAAOrQ,EAAQqQ,KACf7B,EAAa,GACjB,IAAS7P,KAAKqB,EACRmM,OAAOhO,UAAUC,eAAewD,KAAK5B,EAASrB,KAChD6P,EAAW7P,GAAKqB,EAAQrB,IAgB5B,IAXiB,GAFjB6P,EAAWsG,YAAcA,MAEiB,EAAlBE,IACrBF,EAAc,GAAuB,EAAlBE,KAGpBxG,EAAWG,SAAW3O,EAAQ4O,UAC9BJ,EAAWI,UAAY5O,EAAQ2O,SAC/BH,EAAWkB,SAAW1P,EAAQ2P,UAC9BnB,EAAWmB,UAAY3P,EAAQ0P,SAC/BlB,EAAWQ,YAAchP,EAAQiP,aACjCT,EAAWS,aAAejP,EAAQgP,aAEd,EAAlBgG,EAAqB,CAGvB,OAAQA,GACN,KAAK,EAEHzE,EAAQvQ,EAAQqQ,KAChBA,EAAOrQ,EAAQuQ,MACf,MACF,KAAK,EAEHD,EAAMtQ,EAAQwQ,OACdD,EAAQvQ,EAAQqQ,KAChBG,EAASxQ,EAAQsQ,IACjBD,EAAOrQ,EAAQuQ,MACf,MACF,KAAK,EAEHD,EAAMtQ,EAAQwQ,OACdA,EAASxQ,EAAQsQ,IACjB,MACF,KAAK,EAEHA,EAAMtQ,EAAQqQ,KACdE,EAAQvQ,EAAQwQ,OAChBA,EAASxQ,EAAQuQ,MACjBF,EAAOrQ,EAAQsQ,IACf,MACF,KAAK,EAEHA,EAAMtQ,EAAQqQ,KACdE,EAAQvQ,EAAQsQ,IAChBE,EAASxQ,EAAQuQ,MACjBF,EAAOrQ,EAAQwQ,OACf,MACF,KAAK,EAEHF,EAAMtQ,EAAQuQ,MACdA,EAAQvQ,EAAQsQ,IAChBE,EAASxQ,EAAQqQ,KACjBA,EAAOrQ,EAAQwQ,OACf,MACF,KAAK,EAEHF,EAAMtQ,EAAQuQ,MACdA,EAAQvQ,EAAQwQ,OAChBA,EAASxQ,EAAQqQ,KACjBA,EAAOrQ,EAAQsQ,IAIf2E,EAAeH,EAAaE,KAC1BM,EAAShF,EACTiF,EAAWhF,EACfD,EAAME,EACND,EAAQF,EACRG,EAAS8E,EACTjF,EAAOkF,GAQX,OALA/G,EAAW8B,IAAMA,EACjB9B,EAAW+B,MAAQA,EACnB/B,EAAWgC,OAASA,EACpBhC,EAAW6B,KAAOA,EAEVyE,GACN,KAAK,EAEHtG,EAAW+B,MAAQF,EACnB7B,EAAW6B,KAAOE,EAClB,MACF,KAAK,EAEH/B,EAAW8B,IAAME,EACjBhC,EAAW+B,MAAQF,EACnB7B,EAAWgC,OAASF,EACpB9B,EAAW6B,KAAOE,EAClB,MACF,KAAK,EAEH/B,EAAW8B,IAAME,EACjBhC,EAAWgC,OAASF,EACpB,MACF,KAAK,EAEH9B,EAAW8B,IAAMD,EACjB7B,EAAW+B,MAAQC,EACnBhC,EAAWgC,OAASD,EACpB/B,EAAW6B,KAAOC,EAClB,MACF,KAAK,EAEH9B,EAAW8B,IAAMC,EACjB/B,EAAW+B,MAAQC,EACnBhC,EAAWgC,OAASH,EACpB7B,EAAW6B,KAAOC,EAClB,MACF,KAAK,EAEH9B,EAAW8B,IAAMC,EACjB/B,EAAW+B,MAAQD,EACnB9B,EAAWgC,OAASH,EACpB7B,EAAW6B,KAAOG,EAClB,MACF,KAAK,EAEHhC,EAAW8B,IAAMD,EACjB7B,EAAW+B,MAAQD,EACnB9B,EAAWgC,OAASD,EACpB/B,EAAW6B,KAAOG,EAGtB,OAAOhC,GAITnC,EAAUiC,qBAAuB,SAAUF,EAAQpO,EAASD,GAK1D,GAJA2U,EAA6B9S,KAAKyK,EAAW+B,EAAQpO,EAASD,GAIzDgV,EAHDD,EAAc9U,EAAQ8U,YACtBE,EACF3I,EAAUyI,aAAe/U,EAAKoV,MAAQpV,EAAKoV,KAAK1S,IAAI,gBACtD,CAGA,IAAI2M,EAAMhB,EAAOiB,WAAW,MACxB/B,EAAQc,EAAOd,MACfG,EAASW,EAAOX,OAChBuB,EAAc1B,EACd2B,EAAexB,EAenB,QAbiB,EAAdqH,KAAuC,EAAlBE,IACrBF,EAAc,GAAuB,EAAlBE,KAGpB5G,EAAOd,MAAQG,EACfW,EAAOX,OAASH,GAEA,EAAdwH,IAEF9F,EAAcvB,EACdwB,EAAe3B,GAGT0H,GACN,KAAK,EAEH5F,EAAIoG,UAAUxG,EAAa,GAC3BI,EAAIf,OAAO,EAAG,GACd,MACF,KAAK,EAEHe,EAAIoG,UAAUxG,EAAaC,GAC3BG,EAAIqG,OAAOxF,KAAKyF,IAChB,MACF,KAAK,EAEHtG,EAAIoG,UAAU,EAAGvG,GACjBG,EAAIf,MAAM,GAAI,GACd,MACF,KAAK,EAEHe,EAAIqG,QAAQ,GAAMxF,KAAKyF,IACvBtG,EAAIf,OAAO,EAAG,GACd,MACF,KAAK,EAEHe,EAAIqG,QAAQ,GAAMxF,KAAKyF,IACvBtG,EAAIoG,WAAWxG,EAAa,GAC5B,MACF,KAAK,EAEHI,EAAIqG,QAAQ,GAAMxF,KAAKyF,IACvBtG,EAAIoG,WAAWxG,EAAaC,GAC5BG,EAAIf,MAAM,GAAI,GACd,MACF,KAAK,EAEHe,EAAIqG,OAAO,GAAMxF,KAAKyF,IACtBtG,EAAIoG,UAAU,GAAIvG,GAQtB,OAJIgG,EAAeH,EAAaE,KAC9B5F,EAAIoG,UAAUxG,EAAaC,GAC3BG,EAAIqG,OAAOxF,KAAKyF,KAEVZ,GACN,KAAK,EAEH1F,EAAIoG,UAAUlI,EAAO,GACrB8B,EAAIf,OAAO,EAAG,GACd,MACF,KAAK,EAEHe,EAAIoG,UAAUlI,EAAOG,GACrB2B,EAAIqG,OAAOxF,KAAKyF,IAChB,MACF,KAAK,EAEHtG,EAAIoG,UAAU,EAAG/H,GACjB2B,EAAIf,MAAM,GAAI,GACd,MACF,KAAK,EAEHe,EAAIqG,OAAO,GAAMxF,KAAKyF,IACtBtG,EAAIf,MAAM,GAAI,GACd,MACF,KAAK,EAEHe,EAAIqG,OAAO,GAAMxF,KAAKyF,IACtBtG,EAAIoG,UAAU,GAAI/H,GAClB,MACF,KAAK,EAEH2B,EAAIqG,OAAO,GAAMxF,KAAKyF,IACtBtG,EAAIoG,UAAUlI,GAAQG,GACtB2B,EAAIf,OAAO,EAAG,GACd,MACF,KAAK,EAEHe,EAAIqG,QAAQ,GAAMxF,KAAKyF,IACvBtG,EAAIoG,WAAWlI,EAAO,SC7c7B,SAAWrQ,gBAEY,mBAAXC,QAAyBA,OAAOC,IAEzCD,OAAO,CAAC,eAAgB,qBAAsBD,GACnB,iBAAX6N,QAAuBA,OAAO1N,QAC9CH,EAAQI,QAAQ,gBAAiBA,QAAQ,sBAGzCJ,EAAQK,OAAO+O,WATlB,EAWE,SAAUA,gBAUX,SAASsJ,EAAQC,GACXA,IACFzJ,OAAO0J,eAAe3V,KAAM,MAAO,CACjCQ,MAAOR,KAAK4V,KAAKF,GAAS3P,MAE5BkG,OAAO0J,eAAe3V,KAAM,OAAQ,CAClCQ,MAAQR,KAAK6V,MAAQ7V,KAAK6V,KAAKH,IAAa,MAclDD,EAAQxX,UAAU2X,KAAO,CACvBE,KAAM,CAAEhX,KAAM,YAAaiH,IAV7B0P,EAAQxX,UAAU8H,IAAM,CACtBgQ,YAAa,IACbC,UAAW,OACXjF,KAAM,IACNkF,KAAM,MACNC,QAAS,MACTC,iBAAkB,QAKlBC,MAAQ,CAAEtX,KAAM,OAAQiH,IAAK,IAC7BsQ,MAAQ,CAAEvX,KAAM,UAAWiH,IAAK,IAChCuQ,MAAQ,CAAExX,KAAM,mBAAoBiH,IAAK,KAS3C0P,EAAQxX,UAAUsE,IAAM,SAAUwH,GAChC,OAAO/J,KAAK+J,IAAO/J,KAAKA,KAAK+F,IAAIgE,KAyBnC,IAAIwM,EAAe,CAEjBC,EAAG,CACDC,SAAU,SAAUrE,EAAUsE,GAC5B,OAAOtE,EAASuE,SAASD,IAE3BxE,KAAM,GAGR0E,EAAG,CACDH,SAAU,SAAUrE,EAAUsE,GAC5B,OAAOG,OAAOC,aAAa1E,EAASuE,SAASD,KAE/CxE,KAAM,EACN6E,UAGFC,EAAG,CACDP,SAAU,SAAUrE,EAAUsE,EAAYO,GACxC,OAAO7E,EAASC,UAAUqE,EAAYO,IAExC/E,KAAM,GAGRgF,EAAG,CACDT,SAAU,SAAUrE,EAAUsE,EAAYO,GACxC,OAAO7E,EAAS+E,UAAUT,EAAYO,IAExC/E,KAAM,GAGRkF,EAAG,CACDX,SAAU,SAAUrE,EAAUsE,EAAYO,GACxC,OACE7E,EAAS+E,UAAUT,EAAYO,GAC/B7E,EAAS+E,UAAUT,EAAa,EAAGO,IAGvC/E,KAAM,GAGRmF,EAAG,CACDZ,SAAU,SAAUrE,EAAUsE,EAAYO,GACxC,OAAO7E,EAASkF,SAASZ,EAAYO,IAEvC/E,KAAM,GAGRqF,GAAI,CACFd,SAAU,SAAUrE,EAAUsE,EAAYO,GACxC,OACE7E,EAASkF,SAASZ,EAAYO,GAC9B7E,EAASkF,SAASZ,EAAa,EAAGO,IAGtC/E,KAAM,IAkFV,SAASsF,EAAiBC,EAAaC,EAAahC,GAClD,QACI+B,GAAeA,EAAY/B,OAC3BgC,QAAeA,EAAYhC,IAiBjC,SAASiC,EACPvF,EACAwF,EACAC,EACAZ,EACApB,EACAiC,EACAL,EACAC,GAEA,IAAIK,EAAYC,EAAcvZ,EAAGwZ,EAAWC,EAAWC,EACvD,GAAIN,EAAY,EAAIzF,EAASd,WAC3BxE,QAAQC,IAAI,oDADd,CAMA,MADAiL,EAAeH,EAAY,EAAI,IAD/BE,EAAa3F,EAASC,UAAUwF,EAAWZ,KAExB,EAAI7E,EAASd,YAAhC,CAIA,IAAK7S,EAAI,EAAGA,EAAIsZ,EAAYtZ,GAAK,EAG1B+Y,EAAiBC,EAAaC,EADnCQ,EAAY9F,EAASC,UADrB4F,EAAYJ,EAAY,EAAI,GAAKpZ,EACSwY,MAE1CkB,EA9GJ,SACE/F,EACAwF,EACAnF,EACA1K,EACA5H,EACA8W,GAEA,IAEIP,EACA0B,EACA3Z,EACA2K,EACAuB,EANA0N,EAAU9B,EAAaxO,GAO3B,GAAKsQ,EAAL,CAWA,MAJA3B,EACY,GAJZ4B,EAAUD,EAAQnG,KAAO/R,GAKnByX,EAAaxF,EAAS+E,UAAU1E,EAAS,EAAGwE,GAC5CxE,EAAS,GACE6F,EAAUlG,EAASd,YAApC,CAIA,GAAe,IAAXnR,EACF,OAAOkY,EAAQ5B,SAASrE,EAAUsE,EAAYO,GAGhD,IADAmB,EAAS,GACJ3Z,EAAI,EAAGA,EAAI0B,EAAQ1B,GAAK,EAC3B2Z,EAAO3Z,GAAK4Z,EAAQ5B,SAClBrE,EACAsE,EAAajY,EAAI4Z,EAAQnG,KACzB+E,GAGJ,GAAIoB,EAAQtB,MAAO,CAGjB,IAFA3N,EAAM,GAED3K,EAAI,EAAGA,EAAI2Z,EAAOjY,QAGX,QAFVwK,EAAIyN,EAAO3Z,IADkBA,GAAK,EAMlC2K,GAAOuB,EAET,OAAOvB,EAET,OAAOgP,EA3BLtL,QAAQC,IAAI,gDAXZD,QAAQC,IAAI,wCAhBhB,CA+GMqF,EACAwF,EACAK,EACA7F,EAASC,UAAU4F,EAAY,EAAGhB,GAClC7E,EAAS+E,UAAUc,EAAY,EAAGhB,GAClCA,GAEFpB,EAAKqC,GAAaC,EACdL,IACFA,EAAWI,GAAaD,IAI5B,OAAO7F,EAAS+E,UAAUa,EAAcf,GArBtCnK,QAAQC,IAAI,+CApHhBwJ,EAAa,GAAKA,EAAa,GAmL/BpK,EAAUoM,cAAgB,SAAUnG,EAAUK,EAAQtS,EAAQN,EAAMC,GAClE,IAAIA,EAAQ0Y,YAAZ,CAGA,IAQIvB,EARAQ,EAAc3X,EAAQ2Y,gBACtBf,EAAc5X,EAAQ4Y,iBAAmB,CAC3CtC,MAAQ,CAENuC,WAGAf,EAAanF,EAAS,GAK1B,GAAuC,aAAnCL,EAAS+E,UAAU1E,EAAS,GAIhC,GAAImF,EAAa,EAAIxF,EAASd,WAC5BxE,QAAQC,IAAI,iDAId,GAAuC,IAAnCqF,EAASC,UAAUI,EAAS,GAAhC,CAKA,OAAQL,EAASC,UAAUuF,IACzB,KAAK,MACHX,KACA,MACF,KAAK,MACHA,KACA,MACF,QAEE,YADAnK,QAAQC,IAAI,qDAIyC,KAArDqF,EAASC,UAAUuF,EAAa,EAAGX,IAKvCY,EAAYzF,EAAS+E,UAAUS,EAAa,EAAGX,GAE/CpX,EAAKoV,KAAO,IAAIQ,EACX3V,EAAQ8Y,qBACX/Y,EAAKgZ,YAAc,IAAIpD,EACvB5V,EAAKiZ,eAAiBlB,EACtB/X,EAAKkZ,iBAAmB9B,IAI1BY,EAAYF,EACVvF,EACAwF,EACAA,EAAaC,EACbZ,EACApX,EAAKoV,KACLpV,EAAKgZ,YACLpB,EACAC,KAEeF,EAAiBC,EAAaC,EAAa,UAC1D7X,EAAKoV,KAAKa,KAAO+B,EACbhY,EAAKgZ,cACPhZ,EAAKgZ,YAAY/C,KAAO8B,EAAaC,IAGzC5L,OAAO5G,KAAKxF,EAAKoV,KAAKW,MAAM7B,SAAQ,SAAU2B,GArGhD,IACE7V,EACA6V,EACAtD,EACAwF,EACAX,EACAQ,EACAC,EALAhC,EAsGIA,EArGJtD,EAsGIA,EArGJwF,EAsGIA,EArGJX,EAsGIA,EArGJQ,EAsGIA,EArGJC,EAsGIA,GApGAG,GARJhY,EAsGIA,GA9FiBoV,KAAKS,MAExB7V,EAAKoV,KAAKS,GAAW,IAAID,EAAQC,GAC7B7V,EAAKgZ,cACPhZ,EAAKgZ,YAAYnD,GAAW,IAAID,EAAQC,IAE1CiC,EACEvF,EACAwF,EACAA,EAAaC,EACbZ,EACApX,EAAKoV,KAAKS,GACV7V,EAAKgZ,aAAehZ,EAAKgZ,YAAYnD,GACrC+B,GAAeA,EAAY/B,GAC3BgC,GAAeA,EAAYhC,SAyF/BsD,EAAenZ,EAAKoV,KAAKa,OAELkD,EAAa,OAC/BA,EAAa,KAnVjB,SAA0B5G,EAAUK,EAAQtS,GAC1C,GAAKA,EAAL,CACA,KAAIsS,EAAStS,EAASiS,EAASd,YAI/B,OAAO,IAAIP,KACT,CAAC5E,EAAU+E,YAAYxP,KAAK0Q,EAAST,OAAQc,EAAQA,EAAStS,IAC9D,CACE4H,KAAM,eANR+E,QAAQC,IAAI,+CAHhB,CAoVMqF,EACAwF,EAAaoB,EAAa,KAC1BA,EAAa,QA/CflM,QAAQC,IAAI,gDAjBZD,QAAQC,IAAI,uDAsEhBZ,EAAUyF,gBAAgBC,KAAK,OAAQxQ,KAAK8K,EAAUoM,eAEtDpM,EAAU8M,YAAc,CAEtBC,IAAQ,SAAUvH,EAAQ9R,EAAMW,GAC9B,IAAI2Y,EAAoBtZ,EAAKgZ,YAAY,KACzC,OAAKM,GACM,IAAIlH,SAASN,EAAQwH,EAAoB,EAAG,GAClDC,UAAU,EAAG5Y,EAAOX,EAAKkZ,kBACvBpH,IAIXxF,EAAUkN,cAAgB,SAAU1H,EAAQ9R,EAAMkK,EAAIvJ,GACpD,OAAO2L,EAAU8M,YAAYpZ,EAAKoV,KAAKlP,IAAIgE,IAAK4H,EAAQ9R,EAAMW,IAGhE2L,EAAUsJ,QAAUA,KC9arB,SAAW1Y,gBAEY,mBAAXC,QAAyBA,OAAOC,IAEzCD,OAAO,CAAC,eAAgB,qBAAsBD,GACnB,iBAAX6N,QAAuBA,OAAO1N,QAC9CH,EAAQI,QAAQ,gBAAiBA,QAAQ,sBAGzCJ,EAAQK,OAAO+O,WATlB,EAWE,SAAUA,gBAGX,IAAImN,EAAenN,EAAUsJ,QAAQxX,UAErCqb,EAAazD,KAAO,CAIlB0D,IAAQ,aACRC,IAAQ,cACRC,IAAQ,gBACRC,IAAQ,cACRC,IAAQ,4BACRT,IAAQ,cACRU,IAAQ,kBACRC,IAAQ,sBACRC,IAAQ,mBACRC,IAAQ,mBACRC,IAAQ,cACRC,IAAQ,cACRC,IAAQ,iBACRC,IAAQ,eACRC,IAAQ,eACRC,IAAQ,kBACRC,IAAQ,wBACRC,IAAQ,8BACRC,IAAQ,mBACRC,IAAQ,aACRC,IAAQ,wBACRC,IAAQ,oBACRC,IAAQ,sBACRC,IAAQ,WACRC,IAAQ,mBACRC,IAAQ,OACRC,IAAQ,QACRC,IAAQ,WACRC,IAAQ,SACRC,MAAQ,YACR/E,MAAQ,CAENgF,MAAQ,cACRC,MAAQ,kBACRC,MAAQ,aACRC,MAAQ,kBACRC,MAAQ,kBACRC,MAAQ,QACRC,MAAQ,0BACRC,MAAQ,yBACRhD,MAAQ,YACRiD,MAAQ,cACRC,MAAQ,mBACRC,MAAQ,mBACRC,MAAQ,oBACRC,MAAQ,aACRC,MAAQ,qBACRC,MAAQ,sBACRC,MAAQ,aACRC,MAAQ,qBACRC,MAAQ,sBACRC,MAAQ,eACRC,MAAQ,UACRC,MAAQ,kBACRC,MAAQ,sBACRC,MAAQ,0BACRC,MAAQ,OACRC,MAAQ,kBACRC,MAAQ,4BACRC,MAAQ,2BACRC,MAAQ,WACRC,MAAQ,sBACRC,MAAQ,sBACRC,MAAQ,oBACRC,MAAQ,gBACRC,MAAQ,kBACRC,MAAQ,eACRC,MAAQ,mBACRC,MAAQ,kBACRC,MAAQ,eACRC,MAAQ,cACRC,MAAQ,QACRC,MAAQ,cACRC,MAAQ,cACRC,MAAQ,cACRC,MAAQ,2BACRC,MAAQ,wBACRC,MAAQ,wBACRC,MAAQ,2BACRC,MAAQ,kBACRC,MAAQ,gBACRC,MAAQ,gBACRC,MAAQ,aACRC,MAAQ,YACRC,MAAQ,aACRC,MAAQ,iBACRC,MAAQ,eACRC,MAAQ,eACRC,MAAQ,mBACRC,MAAQ,wBACRC,MAAQ,mBACRC,MAAQ,cACRC,MAAQ,WACRC,MAAQ,aACRC,MAAQ,YACRC,MAAQ,2BACRC,MAAQ,uBACRC,MAAQ,gBACRC,MAAQ,kBACRC,MAAQ,mBACRC,MAAQ,oBACRC,MAAQ,WACRC,MAAQ,YACRC,MAAQ,oBAEVrJ,MAAQ,CAENsJ,EAAQ,eACRnJ,EAAQ,iBACRI,EAAQ,cACRI,EAAQ,kBACRE,EAAQ,eACRE,EAAQ,iBACRwI,EAAQ,cACRC,EAAQ,eACRC,EAAQ,gBACRzI,EAAQ,YACRE,GAAQ,iBACRwI,GAAQ,SACRC,GAAQ,cACRC,GAAQ,WACRC,GAAQ,cACRC,GAAQ,WACRC,GAAQ,qBACRC,GAAQ,kBACRC,GAAQ,cACRC,GAAQ,qBACRC,GAAQ,kBACRC,GAAQ,sBACRC,GAAQ,mBACRC,GAAQ,oBACRC,GAAQ,iBACRC,GAAQ,qBACRC,GAAQ,kBACRC,GAAQ,sBACRC,GAAQ,qBACRC,GAAQ,eACRC,GAAQ,kBACRC,GAAQ,wBAEV7K,MAAQ,CAENE,EAAQ,0BAKZ8C,EAAazD,KAAKC,KAAOwD,EAAazD,KAEtCyD,EAAa8H,aAAe,CAC1BC,gBAAiB,CACf1B,EAAG,YACHnJ,EAAG,SACHI,EAAG,iBACHI,EAAG,oBACHE,EAAG,mBACHE,EAAG,mBACHwI,EAAG,iBACHC,EAAG,gBACHC,EAAG,kBAELwB,aAAc,CACZ3B,EAAG,UACHnJ,EAAG,UACHI,EAAG,wBACHI,EAAG,OACHE,EAAG,YACHE,EAAG,UACHwI,EAAG,UACH2B,IAAK,SAEPC,YAAa,CACX7B,EAAG,UACHnJ,EAAG,WACHI,EAAG,cACHI,EAAG,gCACHE,EAAG,QACHG,EAAG,eACHE,GAAI,iBACJwI,GAAI,QACJC,GAAI,wCACJC,GAAI,yCACJC,GAAI,0CACJC,GAAI,sCACJE,GAAI,mBACJC,GAAI,mBACJC,GAAI,mBACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,MACJC,GAAI,sBACJW,IAAK,SAEPE,MAAO,CACL9B,EAAQ,qBACRnJ,EAAQ,cACRY,EAAQ,mCACRyI,EAAQ,+BACRxI,EAAQ,qCACR4I,GAAQ,gEACRE,GAAQ,4DACRC,GAAQ,4CACRQ,GAAQ,gCACRC,GAAQ,yBACRI,GAAQ,oDACRE,GAAQ,gDACRO,GAAQ,oBACRC,GAAQ,sCACRC,GAAQ,iEACRC,GAAQ,6DACRC,GAAQ,6DACRC,GACE,wFACFC,GACE,oFACFC,GAAQ,iDACRC,GACE,4EACFC,GACE,yEAEJC,cAAe,CACb5L,EAAG,YACHI,EAAG,6BACHI,EAAG,6BACHE,EAAG,+BACHE,EAAG,+BACHyI,EAAG,mBACHC,EAAG,kCAELuC,iBAAkB,CAChB1C,EAAG,WACHnJ,EAAG,YACHI,EAAG,WACHI,EAAG,eAELsL,UAAW,CACT9L,EAAG,yBAEL+L,eAAgB,CACd5C,EAAG,iBACHnJ,EAAG,kBAELgM,aAAc,CACZ7C,EAAG,qBACHnJ,EAAG,wBAELiM,YAAa,CACX9C,EAAG,OACHnJ,EAAG,cACHI,EAAG,eACHI,EAAG,gBACHE,EAAG,kBAELwL,SAAU,CACR/C,EAAG,SACHnJ,EAAG,OACHI,EAAG,QAEL+L,WAAY,CACVhD,EAAG,SACHnJ,EAAG,iBACHI,EAAG,mBAELgM,UAAW,CACTjD,EAAG,SACHnJ,EAAG,OACHI,EAAG,QAELiM,qBAAsB,CACpBlD,EAAG,UACHnJ,EAAG,QACHI,EAAG,aACHI,EAAG,gBAEL8L,WAAY,CACV9L,EAAG,OAEL+L,wBAAyB,CACvBpD,EAAG,GACHnJ,EAAG,IACHI,EAAG,KACHI,EAAG,KACHE,EAAG,IACHE,EAAG,IACHwI,EAAG,KAEL7J,YAAa,CACXS,EAAG,WACHI,EAAG,kBACHI,EAAG,kBACHE,EAAG,gBACHE,EAAG,gCACHwI,EAAG,gBACHC,EAAG,kCACHC,EAAG,mBAIPxG,EAAa0J,QAAU,SAAUlkB,GAC/B,IAAI0B,EAAQR,KAAKuC,IAAIzD,GACrB,OAAQA,GACN,IAAK,cACL,IAAK,QACL,IAAK,eACL,IAAK,kBACL,IAAK,gBACL,IAAK,mBACL,IAAK,YACL,IAAK,iBACL,IAAK,eACL,IAAK,cACL,IAAK,WACL,IAAK,aACL,IAAK,YACL,IAAK,uBACL,IAAK,aACL,IAAK,cACH,OAAOkB,KAAKohB,aAAatiB,GAAM0B,GACjC,IAAK,cACL,IAAK,kBACH,OAAKA,EACEqW,OAAOC,aAAatW,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,WACjE,IAAK,0BACH,OAAKA,EAEHR,KAAKohB,aAAatiB,GAAM0B,EAAM,IAC9BR,KAAKohB,aAAatiB,GAAM0B,EAAM,IAC9BR,KAAKohB,aAAatiB,GAAM0B,EAAM,IAC9BR,KAAKohB,aAAatiB,GAAM0B,EAAM,WAElC,IAAK,eACH,OAAKA,EACEA,EAAM,GAAK,IAAMA,EAAM,GAAK,IAAMA,EAAM,GAAK,IAAMA,EAAM,UAEpE,OAAOqW,OAAOrW,IAGhB8Y,EAAa2J,OAAS,WACpB,IACI1iB,EAEAzB,EAHAiH,EAAM,GAIV,IAAKxF,KAAQP,KACPiM,OAAOhO,UAAUC,eAAewD,KAAK1B,KAAMO,MAC7CyL,EAAMhM,KAAKO,KACAyL,EAAIiX,OACbld,EAAI/F,KAAK4V,KAAKrV,GAAMzB,MAAQkN,EAAIiX,UAEhCnkB,EAAOkB,KAAK6V,KAAKtV,MACPwF,EAAIjH,GAAQkB,KAAKgjB,QAAQlkB,KAIzC,OAAOiH,GAGTuT,EAAa4J,QAAU,SAAUxN,GAC/B,IAAI5W,EAAOkB,KAAK6V,KAAKH,GACrB,MAAoB,iBAAT5W,EAA0BkB,KAAK4V,KAAKF,GAAS5W,KACjDA,GAIR,WACC,IACIyB,EACA4iB,EACAC,EAHAvN,EAAOyD,EAAazD,KAKxB,IAAKtV,KAAQsV,EACX,GAAI5J,OAAOhO,UAAUC,eAAewD,KAAKmU,EAAMtV,GAE7C,GADA4iB,EAAM7J,EAAa1D,KAAKrV,GAGtB,IAAKA,KADL6iB,EAAUvN,EAAKtV,GAET0L,OAAOhO,UAAUC,eAAewD,KAAK0hB,EAAS7iB,KAChD4iB,EAAIpd,IAAIqd,EAAQ7iB,IAAS8iB,OAAO9iB,SAIpC+Y,EAAavT,IAAI8P,EAAKtV,IAAS8iB,OAAO9iB,GAjB7C,MCnYF,SAAWxD,gBAEY,mBAAXC,QAAyBA,OAAOC,IAEzCD,OAAO,CAAC,eAAgB,qBAAsBD,GACnB,iBAAX6N,QAAuBA,OAAO1N,QAC9CH,EAAQI,QAAQ,gBAAiBA,QAAQ,sBAGzCJ,EAAQK,OAAO+O,WATlB,EAWE,SAAUA,gBASX,SAASmX,KAkDT,SAASC,EAAY7N,EAAS3P,EAAKqM,EAAUK,EAAQtS,GACnD,MAA2B,WAAvB4F,EAAIyd,MAAM9N,GACL,IAAI3E,KAAK,CAACqB,EAAST,OAAOvT,MAAMqU,EAAQA,EAAStS,KAE/B,WAAvB4F,EAAIyd,MAAM9N,GACLtD,EAASC,UAAUI,GAxB9B,SAAwBL,EAAUK,EAAQtS,GAGxC,IAFA,IAAIsjB,EAAS,GACTpS,EAAMoB,EAAStS,EACVujB,EAAIjR,EAAQiR,EAAIrS,EAAKqS,GAAK,EACjCD,GAAU5M,OAAOC,aAAa1E,EAASuE,SAAS+M,IAElD,OAAOD,EANT,CA0BwBrR,EAAUK,EAAQtS,GA6B1C,SAASwjB,EACPvR,EACAwR,EACAC,EACAhkB,EACA4X,EACAC,GAKA,IAHA,IAAoBhC,EA3BIlV,EAAOsjB,EA4B3BC,EAAaH,EAAgBC,EAC7BpR,EAASmR,EACNnR,EAASsR,GAEkB,KAA9B3R,EAASuE,SAASlE,IACgB,IAAlCL,EAASuE,SAASlE,EAAS,KAE3BiD,EAAUtD,EAASuE,SAASlE,EAAS,GAEjCgF,IAAeA,EAAY/B,IAC3BgC,GAAgBA,EAAYhC,KAE9B4C,EAAUlG,EAAS4R,SAASvR,EAAS,GACrCjS,EAAQ+iB,EAAY7N,EAAS7V,EAAKokB,KAAM7R,EAAUK,EAAS,EAAG6F,GAC9DzY,EAAKokB,KAAKvO,QAzCF7T,KADUrB,EA0CoBX,EAAKokB,KAAKvO,IAzCtBoO,EAC5BtjB,aAAiBxC,OACnBwC,EAAMa,KAAKyiB,GACJtjB,GAEF,CAACA,EAAOsjB,GAqCLjkB,EAAKqkB,cACPrkB,EAAKqkB,YAAYxO,GAAWjD,KAIlCA,GAAU,EAjHd6Q,EAAQrlB,UAAU8H,IAAM,CACtBoe,WAAY,GAGdb,EAAQrlB,UAAUulB,MAAQ,CACxB7D,EAAG,SACHyE,IAAK,SACLC,IAAK,SACLC,IAAK,UASPhB,EAAQrlB,UAAUsE,IAAM,SAAUwH,GAChC,OAAO/J,KAAK+J,IAAO/J,KAAKA,KAAK+F,IAAIgE,KAmInCoC,EAAUoY,cAAgB,SAAUnS,EAAUK,EAAQtS,EAAQN,EAAMC,GAClE,IAAIA,EAAQ0kB,YAIZ,IADA,IAAIjS,EAAeE,EAAStS,EACrBsS,EAAS,EAAIF,GAAc,CAChC,GA/B8BE,EA+BDA,EA7BE,aAFXL,EA+BDA,GA7BV+E,UAAU1E,IACgB,OAAnCL,EAASC,UAAUI,EAAS,GA4BU,CACpC,IAAIgS,GAlByBhS,EAkBgBA,GAjB7CtS,GADmBiS,EAkBgBA,GAjBjBuE,SAASlE,EAAS,IAC3B,GAAM,IAAGtS,GAAU,GAI9BA,EAFa,IAAXA,EAEO,EAEJA,GAWCyjB,EAAgBnR,EAAS,EAAIgS,EACjC,GAAoBlS,EAAhBqR,EAA8B,CAEhC9W,QAAQC,IAAI,8CACZ,MAGF,GAA6BwF,EAAzBE,GADAoR,EAAgBzR,EAASC,UAAUI,EAAS,EAAIgS,IACT,CAEzC3X,QAAQC,IAAI,4CACZ,MAeF,OAZAlN,EAAKokB,KAAO,IAAIX,EACXxjB,EAAQ4kB,qBACX7kB,EAAKqkB,YAAc,IAAIZ,QAEzBK,EACEvR,EACAwR,EACAC,EACAhkB,EACAC,EAAQ6kB,gBACR7kB,EAAQ8kB,iBAAmB,CAAEN,QAAK,CAKtC7R,GAAU,IAKdtG,EAAUyF,gBAAgBC,KAAK,OAAQxQ,KAAK8K,EAAUoY,eAEtDpY,EAAUmX,QAAUA,KCnNrB,SAAWvmB,gBAEY,mBAAXC,QAAyBA,OAAOC,IAEzCD,OAAO,CAAC,eAAgB,qBAAsBD,GACnB,iBAAX6N,QAAuBA,OAAO1N,QAC9CH,EAAQI,QAAQ,gBAAiBA,QAAQ,sBAGzCJ,EAAQK,OAAO+O,WATlB,EAWE,SAAUA,gBAGX,IAAI0Y,EAAe1Y,EAAUmX,QAAQrlB,UAErC4mB,EAAahP,KAAO,CAClB8J,EAAG,2BACH3I,EAAG,sBACHE,EAAG,2BACHE,EAAG,aACHyI,EAAG,aACHC,EAAG,kBACHvI,GAAI,UACJyI,GAAI,mBACJG,GAAI,WACJK,GAAI,yBACJE,GAAI,oBACJG,GAAI,WACJC,GAAI,sBACJC,GAAI,sBACJG,GAAI,cACJ4D,GAAI,cACJC,GAAI,iBACJC,GAAI,iBACJC,GAAI,sBACJC,GAAI,gBACJC,GAAI,mBACJC,GAAI,gBACJC,GAAI,kBACJC,GAAI,cACJC,GAAI,cACJC,GAAI,sBACJC,GAAI,sBACJ9D,GAAI,qBACJ+D,GAAI,iBACJC,GAAI,cACJC,GAAI,SACJC,GAAI,cACJC,GAAI,OACJC,GAAI,cACJ5D,GAAI,QACJ6D,IAAK,cACLC,IAAK,UACLC,IAAK,gCACLC,IAAK,WACLC,IAAK,SACLC,IAAK,SACLC,IAAK,kBACLC,IAAK,UACLC,IAAK,UACLC,IAAK,eACLC,IAAK,SACLC,IAAK,oBACLC,IAAK,YACLC,IAAK,mBACLC,IAAK,qBACLC,IAAK,YACLC,IAAK,oBACLC,IAAK,0BACLC,IAAK,gBACLC,IAAK,cACLC,IAAK,QACLC,IAAK,mBACLC,IAAK,kBACLC,IAAK,mBACLC,IAAK,UACLpD,IAAK,0BACLC,IAAK,2BACLC,IAAK,oBACLmD,IAAK,QACLC,IAAK,gBACLC,IAAK,kBACLC,IAAK,gBACLC,IAAK,kBACLC,IAAK,iBACLvG,IAAK,eAGPsD,EAAazD,aAAe,CAC1B7J,GAAI,CACFoI,EAAG,eACHnJ,EAAG,kBACHI,EAAG,IACHI,EAAG,IACHE,EAAG,IACHE,EAAG,qBACHwI,EAAG,IACHC,EAAG,IACHC,EAAG,mBACHzI,EAAG,6BAELsO,GAAI,CACFoC,EAAG,UACHC,EAAG,2BACHC,EAAG,WAELpB,IAAK,CACHqB,EAAG,YACHC,EAAG,WACHC,EAAG,WAIPvD,EAAa7B,QAAU,SAAUjZ,GAC/B,IAAIvJ,EAAQR,KAAKuC,IAAIwH,GACjB2L,EAAU1V,KAAK+F,IAAIgE,GAEvB,OADIse,EAAcroB,KAAKohB,aAAa1L,IACZ2S,EAAY7nB,GAC7BqW,OAAOrW,IAGhBqkB,EAAa5B,OAAS,WACpB,IACI1iB,EACAzB,EAFAiH,EAAM,GAGV,IAAKxF,KAAQP,KACPiM,OAAOhO,UAAUC,eAAewD,KAAK1B,KAAMO,KAC7CzB,EAAOkB,KAAK6V,KAAKtV,MACPwF,EAAIjH,GAAQkB,KAAKgjB,QAAQlkB,IAGvC,OAAOiH,GAGT8e,EAAa3B,QAAU,SAAUxN,GAC/B,OAAO1V,KAAK6V,KAAKH,IAIlB,WACC,IAEInV,EAFAsV,EAAOgP,EAAahP,KACpB9P,EAAM8e,EAAa9e,KAAO,GAG9B,IAAKxF,KAAQsV,EACP5J,OAAOhO,UAAUC,eAAewD,KAAKmU,EAAMtV,KAC7CwF,EAAI8P,EAAKtV,IAAS8iB,OAAO9iB,IAP9B,MC7IF,SAAWnD,gBAGV,IAAIkrB,EACFlrB,EAAOyS,mBAAqBzS,EAAOyS,kBAAkB5R,UACnDsqB,EACFnrB,EAAO2T,MACP,WACE,IACE,OAAOyX,QAAQ,IAAIzX,MACnB,MAAO0X,GACP,QAAO,EAJX,GAOEC,EACFH,GACAnrB,EAAOoU,YACP,WACE,IACE,OAAgD,MAAzC,IAAIT,KAAK,CAAC,IAAIS,WAAW,OAAOU,KACvC,MAAOuW,GACP,QAAO,EAJX,GAOEE,EACFvrB,EAAOurB,aACPvrB,EAAOwrB,mBACPxrB,EAAOyrB,gBACPzrB,EAAO0rB,cACLC,EAAiB,0CACjBC,GACDT,GAAsBI,IACvBvrB,EAAO6rB,MACP7rB,EAAO+T,aACP/T,EAAOoU,YACP,SAAU0X,GACR,IACEC,EAGAC,EACAC,EACAC,EACA7qB,EAGF8qB,EAAUL,EAAQ/iB,MAAM4iB,GACxB,IAAKQ,EACH,MAAM,IAAI7c,MAAM,oBAkBlB,IAfAyc,EAAYI,EAAQ,GAChBA,EAAQ,GACR,cAAgBA,EAAQ,IAAM,qBAClCC,IAAaD,EAAQ,GACrBE,EAAaP,EAAQ9qB,MAAMmrB,EAAQ,GAAGppB,QAGpCipB,GAFEI,EAEWP,KAGAS,oBAHKD,GAMpBJ,EAAc,IAAIlY,YAAYiY,EAAWjpB,QACzCmpB,EAAW,IAAI9X,WAAW6X,GACrB5qB,EAAI,EAAGA,EAAI2qB,EAAWjpB,OAAQ1B,GAAK,EACtC6qB,EAAS7qB,GAAK2qB,EAAWO,WAAWlrB,GAGtC,OAAI8pB,EACK,IAAIxX,KAAK,CAAC2X,EAA4BY,EAAWD,GAAc,CACpEthB,KAAMohB,MAGVS,EAAK,IAAIjB,GACNkB,OAAOR,GACHO,EAAGE,QAAQX,KAElB/rB,EAAOyS,oBAAsByY,EAAgByB,SAC3CzB,EAAgB0B,aAClB1B,EAAgByB,OAAS,SAAU/hB,EAAUD,EAAMkiB,GACjD,IAAIC,EAAOlqB,KACXuH,YAAW,WACL0iB,GAAW3B,EAAgB6B,WAAanB,EAC1ChhB,EAASghB,EAAckB,EAAKC,UAAUpiB,EAAMkiB,KAE5CjiB,EAASkiB,EAAKF,aAAa,OAAQjiB,QAIhCugB,EAAgB6B,WAAanB,IAClCV,EAAgB8B,SAClB9B,EAAgByB,OAAS,SAAU/hB,EAAUD,EAAMkiB,GACjD,IAAIC,EAAOlqB,KACXuH,YAAW,YAELQ,GAAiB,cAATA,GAAyBkiB,IACnC3B,EAAgB6B,WAChBnB,EAEAhhB,EAASghB,EAAckB,EAAKC,UAAUpiB,EAAMkiB,KAE5CjiB,EAASkiB,EAAKE,SAASriB,QAK7BugB,EAAgByB,OAAS,SAAU/hB,EAAUD,EAAMkiB,GACjD,IAAIC,EAAOlqB,KACXuH,YAAW,WACTS,EAASghB,EAAckB,EAAKC,UAAUpiB,EAAMkiB,WAMhC,mBAAXjtB,QAAyBA,OAAOC,IACzCD,QAAO,WACL,OAAOgsB,KAEkB,iBAAXpe,QAAuBA,OAAO1N,QAC9C0N,OAAO1N,QAAU8rB,EAEjB5rB,EAAO4rB,cAAgBA,EA5H1B,CA8HE5rB,QCjIH,SAAAL,GACA,aACA,mBAAAC,eAAAC,IAEAD,OAAA,WAAAD,GACA,iBAAAG,QAEAH,EAAAI,QAAA,WAGAJ,EAAAK,OAAAC,OAEA,CAZA,EAYA,SAAAC,GACA,aAGA,IAAA+sB,EAAA,EACAC,EAAAhtB,EACAitB,EAAA,YAEA,SAAAntB,QAAA,UAAAotB,OACAF,EAAAE,KACAD,EAAA,SAaAjtB,EAAAmtB,cAAA,mBAAA3qB,GACA,GAAAA,EAAA4qB,MAAA,CAIA,IACAC,EACAC,EACAC,EAHAC,EAAAhrB,EAAAgrB,kBAAA,oBAIA,OACA1W,KAAA,SAAAtO,EAAAilB,IACAJ,EAAArtB,EAAA,wCACA0tB,KAAA,iBAAAlrB,EAAAmrB,mBACAJ,EAAA,KAAAvhB,KAAAxJ,EAAAqL,KAAA,QAEA,WAAArL,EAAAiI,MACAjI,EAAAqL,IAAArL,EAAAqL,IAAA0f,EAAA,iBACA/qB,EAAAiI,KAAA,QACA,QAAAjI,EAAAiI,MACAjI,EAAAqL,IAAArL,EAAAqL,IAAA0f,EAAA,cACA/qB,EAAAiI,KAAA,QACA,UAAAjI,EAAAiI,OACAjI,EAAAqL,IAAArL,EAAAqL,IAAA0f,EAAA,gBACA/qB,EAAAiI,KAAA,QAMA6iB,EAAAttB,EACA,gBACAwtB,EACA,6BAJAT,GAAA,GAMA,eACAjjB,GAAA,mBACA,IAAA8jB,EACAC,EAAA7tB,EAAAkC,QAAAM,EAAAsrB,WACAtrB,EAAAsrB,UACA,CAAAtrB,EAAAsrB,WACAR,EAAAtmB,IAAA,QAAA8C,GAAA,mBACA,IAAAqM,EAGA,IAKA,KAJAA,EAAAmX,EAAAS,YAIAlrB,SAAAsT,EAAA,GAAA6X,WACA,UAAA5e,KAEA,OAAA+b,GACAhV,OAAA5R,CACA,CAGAkpB,EAAA,eAAAH,OAAAnX,IAGAnW,EAAA,gBAAAwtB,EAAA,eAAAS,SACAZ,GAEAvtB,OAAAmK,YAAA,WAIAojB,EAAAhsB,QACA,KACA,IACAgsB,EACApqB,KAAA,SAAAqqB,EAAArqB,KAAA,SACAA,KAAA,SAAAT,EAAAqL,KACA5K,KAAA,SAAAT,EAAAiI,MACAjI,EAAA0rB,UACAluB,EAAAgD,KAAAR,EAAA0rB,UAAA,SAAAC,EAAAC,GACApuB,EAAA,0BACAiD,KAAA,OAAAmrB,EAAA5sB,MACA6sB,IAAAD,EAAAlrB,OACA+qB,SAAAZ,EACA,IAGA7qB,EAAA8rB,WACA9rB,EAAA8rB,UAAAzrB,QACA,SAAAL,EAAAiI,OAEAmjB,EAAAprB,EAAA8rB,UAAAC,QAEA/rB,EAAA8rB,UAAAE,OAAA,SAAAL,GACA,OAAAP,EAAAO,EACA,IACA3rB,EAAAsrB,WACAtrB,EAAA8rB,UAAAtrB,MAAA,SAAAmrB,GACAnuB,EAAA0C,MAAAO,KAAA,OAAA4qB,EAAAM,IAAA3rB,EAAAsrB,UACA,IAIAT,EACAd,OAAA/pB,EAAA8rB,WACArrB,KAAA,iCAEAA,KAAA,kCAEAT,EAAA8rB,UAAApnB,WAAA,SAEApH,OAAAmK,YAAA,WAKAojB,EAAAoB,SAGAb,KAAA/qB,QACAL,EAAA8rB,UAAAtrB,MAAA,SAAAmrB,EAAAhqB,GACA,IAAAoqB,EAAAvuB,EAAA4tB,EAAAO,IAEAnuB,EAAAmE,GACAlB,KAAA,OAAAsrB,EAAAtrB,KAAA,SACAyqB,KAAA,OAAAa,EAAAb,KAAA,SACAa,EAAAG,YAAAvqB,EACA,GAEA,KACA,IACAkpB,EAAAd,OAAAe,GAAAW,SAAA/nB,SAAA6Q,KACA,EACA4X,MAAA,WACArB,GAGAA,EAAAtmB,IAAA,QAAA/D,KAAA,MAAAuqB,GAEAH,GACAA,EAAAhsB,QAEA,EAEA,CACA,IAYArB,EAAA4uB,UAAA,CACAC,WAAA,CACA,uBAAAvB,GACA,OAAAA,GAAAttB,EAAAstB,EAAA,GAAAvW,MAAA+X,MACA,EACA,uBAAAxB,GACA,OAAAA,GAAAN,EAAAC,GAAAjtB,EAAAstB,EAAA,GAAAvW,MAAA+X,OACA,EACA,uBAAAxB,GACA,OAAAA,GAAAttB,EAAAstB,EAAA,GAAAvW,MAAAgY,MACA,EACA,sBAAAzB,GACA,IAAA0B,EAAA1B,KAAA,GACA,OAAA0B,GAAAhvB,EAAAivB,SAAAD,GACAA,EACAhvB,EAAAkvB,SACAF,EAAAG,aAAAH,EAAAG,YAAAC,KACApvB,EAAAgvB,EAAAjY,MAAAgY,OAEA,EACA,yBAAAzB,GACA,OAAAA,GAAAttB,EAAAqvB,WAAArvB,EAAAstB,EAAA,GAAAvW,MAAA+X,OACA,IAGA,ICpNA,SAAArvB,GACA,aACA,mBAAAC,eAAAC,IAEAD,OAAA,iCAAAD,GACA,iBAAAG,QAEAH,EAAAI,QAAA,UAAAA,QAAA,8BAGAJ,EAAAK,OAAAC,OAEA,CAZA,EAYA,SAAAC,GACA,aAqCA,SAAAsvB,EAAA7kB,GACA,IAAA8kB,EAAA,aAAA9kB,EACA,gBAAA0gB,GACAA,EAAAqE,aAAArE,EAAAvgB,eAAAugB,EAAAvgB,cAAA4kB,aACA,IAAAA,EAAArE,EAAAqE,aAEAA,IACA,IAAAxvB,EAAAiJ,QAAA,QAAAumB,EAAAtJ,SACA,IAAAxjB,KAAAgE,SAAA+D,EAAAzK,EAAA2K,MAAAF,EAAA,CAAAglB,eAAAtE,OAEAA,EAAAuE,iBACAH,IACAC,EAAAG,WAAA,QAGA,CACA,CAoOA,IACAxoB,EAtRAnH,EAAA4vB,QAAAtB,YACA,IAAAuB,OAEA,uJAIA7jB,KAAAlM,OAAAgwB,UAAAC,YAEA/vB,EAAA,wBAAAiD,KAAA,aAQAjD,EAAA4vB,QAAAI,iBAAAlwB,OAAAmwB,gBAAAnwB,OAAAsO,YACApO,EAAA4vB,QAAAM,wBAAApwB,OAAAqwB,SAGAnwB,EAAA4vB,QAAApc,UACA1T,OAAA2T,OACAA,KAAA9S,UAAAG,OACA2S,KAAA9S,UAAA+S,aACAD,KAAA9S,UAAAgT,UAkCA3T,EAAAuB,OAAA,sBACAiB,QAAA,CAGA4tB,SAAApwB,EAAAkG,UAGAmqB,eAAA9rB,EAKA+pB,eAAA/pB,EAKA+rB,kBAAA,EAKAxC,eAAAvpB,EAIAgsB,mBAAA,EAGAC,2BAAAjsB,EAIAksB,8BAAAlsB,EAIAmsB,iCAAA,IAGAC,mBAAA,EAGAC,4BAAArsB,EAEAssB,sBAAA,EAGAC,cAAAvsB,EAGAwsB,uBAAAxsB,EAGAysB,iBAAAzsB,EAIA0sB,WAAA,EAKAC,kBAAA3sB,EAMA4sB,mBAAA5sB,EAIA6sB,qBAAA,EAEAC,iBAAA,IAEAC,gBAAA,IAEAC,YAAA,EASAC,qBAAAjtB,EAGAktB,SAAA,CACAN,cAAA,mCAKAO,KAAA,SAAAC,EAAAC,GASA,OAPAD,EAAAjvB,KAAA+uB,SAAAE,MAAA/iB,WACAgjB,GACA5xB,EAAAgD,KAAA4uB,GAAA,SAAA1tB,EAAAhB,GAEAyuB,IAAAvlB,QAAA,IAAAlI,EAAA,IAAAhB,EACA,IAEAyuB,CACA,EAOAzD,SAAA,SAAAb,GACA,OAAAA,EAAAwE,gBACA,EAkBA7pB,IAAA,SAAAmjB,EAAA5oB,GACA,GAAA4oB,EAAArgB,qBACA,UAGAvI,EAAAgvB,aACA,IAAAhvB,EAAAgvB,YACAvxB,EAAA0C,MAAAovB,WAAA,yBAEAvvB,EAAAwvB,UAAAC,MAAA,WACAzvB,EAAAksB,QACA,GAEA,EA4DAwD,aAAA,EACAC,aAAA,EACA3lB,OAAA,EACA4lB,QAAA,GAQAC,cACAjrB,EAAAnH,EAAA0E,GAAAK,OAAAhD,MAAA,KACAgkB,OAAA5e,EAAA,OAAA4e,OAAA5e,EAAA,qBAKAkrB,gBAAA,CACA,YACA,WACA,YACA,YACA,wBAGAC,WACAtyB,EAAA4vB,QAAApc,WACA,WAEA,OADA9Q,KAAA5B,OAAA4B,KAAAgR,aAAAhR,KAAAiR,UACAvR,MAAAM,KAAAE,UACA,EAEA2vB,cAAA,WACA7vB,KAAA8vB,UAAAC,KAAAC,IAAAD,KAAAC,OAAA,IAAAD,MAAAE,UACAjwB,KAAAkwB,OAAA,EACAlwB,KAAAmwB,QAAA,EACAnwB,KAAAowB,WAAA,SAAAJ,EAAAE,EAAAG,GACA,IAAAC,EAAAN,EAAAhwB,KAAA8vB,UAMA,QALA9vB,KAAAmwB,UAAAE,GAAAC,EAAAD,KACArwB,KAAAmwB,SAAAD,EAAAlwB,KAAAkwB,SAAA,IAAAI,GAAA,EACAtwB,KAAAkwB,SACAlwB,KAAA8vB,UAAAE,GAEAhwB,KAAAmwB,OACA,CACA,EAEAI,aAAA,SAAAzwB,GACA,OACAA,EAAAquB,wBACAruB,EAAAyuB,WAAAjxB,EAAA4vB,QAAAI,eACAhwB,EAAA4vB,QAAAM,sBAEA,EAEAgD,aAAA,SAAA1wB,GACA,IAAA0rB,EACA,mBAAAluB,EAAAyK,KAAAjI,EAAA0rB,UACA1rB,EAAA0rB,SAAA1rB,EAAA6qB,MAEArtB,EAAAkC,QAAAM,EAAA0rB,UACA1rB,EAAA0rB,SAEA,WAAAluB,EAAAyK,KAAAjI,EAAA0rB,WACAA,EAAA,GACAluB,EAAAgD,KAAAR,EAAA0rB,UAAA,SAAA1sB,EAAA0B,GACAgrB,EAAAnqB,KAAA,CAAAvC,OAAA0B,SACA,IACAgrB,GAEA,EACA,EAEAiF,UAAA,SAAAC,GACA,IAAAC,EAAA,EAIA,OAHArzB,EAAAgD,KAAAowB,GAAA,SAAAjF,EAAAlgB,GACAolB,GAAAplB,EAAA2G,MAAA,CACA,IACAye,CACA,EAEAC,oBAAA,SAAA5kB,GACA,IAAA6kB,EAAA,CACAX,OAAA,EACAS,MAAA,EACAR,QAAA,GAEAnkB,EAAA8kB,UACAxzB,EAAAmC,OAAAuM,EAAA8kB,UAAAD,GAEA7kB,EAAA8kB,UAAAD,CAEA,EAEAE,oBAAA,SAAA/kB,GACA,IAAAzL,EACA,GAAAyL,EAAAglB,UACA,IAAAzwB,KAAAyL,EAAAglB,UACA/kB,OAAAhO,UAAAC,eAAAwD,KAAAsK,EAAAglB,UAAAzwB,WACAyL,EAAAglB,UAAAzwB,QAIAyL,EAAAglB,UAAA,EAEA,EAEAC,YAAA,SAAAxI,EAAA5oB,GACA,GAAA4oB,EAAAyI,iBAAA,CACA,IACAhB,EADAF,EAAAD,KAAAC,IAAAD,KAAAC,OAAA,IAAAD,MAAAE,UAEA,GACApwB,EAAAsxB,OACAtxB,EAAA8uB,kBACAqB,EAAAnwB,EAAAsxB,MAAAtxB,EAAA8uB,kBACAlG,EAAAyH,SAAAzH,EAAAkI,MAEA,OAEA9wB,EAAAsxB,MAAAnB,EACAE,EACAngB,KAAAW,MACA+X,EAAAyH,OAAAzH,EAAAkI,OAAA9wB,EAAAuxB,WAAAvxB,EAAAixB,UAAAH,SACA9wB,EAAA4uB,eAAA,GAGAzuB,KAAA8wB,UAAAZ,UAAArwB,EAAAixB,UAAAZ,OACAlwB,KAAA8wB,UAAAX,QAAAnwB,KAAAqxB,cAAAjB,WACAJ,EACAhwB,KAAA8wB,UAAAZ,OACArwB,EAAA+uB,iBAEA/uB,EAAAixB,UAAAZ,OAAArwB,EAAAqwB,SACArwB,EAAAixB,UAAAX,QAAAtwB,EAAAswB,QAAAtwB,EAAAwxB,cAAAjB,WACAJ,EACAE,EACArwB,EAAA+uB,iBAKA5uB,KAAAgE,SACA,WACA1G,EAAA2K,MAAA,YAAA8kB,eAAAtE,IACA5oB,GAIAG,KAAAgE,SACA,cACA1G,EAAA2K,MAAA,eAAA8kB,eAAAtE,IACAzoB,KAAA8wB,UAEA,CACA,EAEAQ,sBAAA,SAAAxxB,GACA,IAAAqE,EAAAnE,KACAuxB,EAAAzxB,EAAAyxB,IAAAzxB,EAAAyxB,MAAAj0B,EAAAk0B,aAAAD,MAGAA,EAAAE,SACAn0B,EAAAi0B,EAAAE,QAAArqB,GAAA,qBAAAqhB,GACA,IAAAiJ,EAAAjJ,EAAAvgB,cAEAugB,EAAAyI,iBAAAQ,EAAAR,iBACAzI,EAAAyH,OAAAwB,EAAAxB,OACAzH,EAAAkI,MAAAe,EAAAf,MACAxsB,EAAA8sB,YAAAxI,EAAA3oB,EACA,IACAA,EAAAyxB,IAAA,WACA,OAAAA,CACA,EAEA,EAEAI,wBAAA,SAAA7xB,GACA,IAAAyxB,EAAAzxB,EAAAyxB,IAAAzxB,EAAAyxB,MAAAj0B,EAAAk0B,aAAAD,MACAA,EAAAE,QACAn0B,EAAAi0B,EAAAE,QAAAntB,IAAA,WAEA,EAEAstB,cAAA,SAAA7pB,EAAAiE,GAEA,OAAAC,OAAAhO,UAAAiO,SAAAxK,KAAAsK,KAAA,WAAAjE,EAAA,GACA,EAEA8pB,mBAAA,SAAA/yB,EAAAiH,GAGA,OAAAA,EADAjH,EAAA+X,OAAA/X,KAGAA,IAAA4K,QACA,gCACA,SAAA5D,EAAAqE,EAAAC,GAGA,YAFAD,EAAAkZ,OAAAlZ,GAAA,KAEA,KADAC,GAAA,GAEA,IAEApK,KAAA6xB,mBAAA/yB,EAAAiH,KAEAA,EAAAjH,IAAA,EACAA,EACA,EAEAgzB,aAAA,SAAAhyB,GACA,IACA0rB,EADArnB,EAAAnE,KAEAuL,EAAAzL,EAAA4wB,MAAA,GAEAnC,EAAAzuB,EAAAyuB,YAAAjxB,EAAA4vB,QAAAI,cACAlC,EACA,UAAA9tB,EAAAyK,KAAAjI,EAAAsrB,WACAtrB,EAAAsrB,UAAA,GACAtrB,EAAAsrB,UACAtrB,EAAAgU,QAAAxW,EAAAmC,OAAA,GAAAK,EAAAgU,SACAhU,EAAAiyB,eACAjyB,EAAAgU,QAAA,iBAAAhU,EAAAiyB,cAEAxD,IAAAzuB,EAAAmL,MAAAjL,KAAA4xB,cAAA,OAAArmB,KACAzL,EAAAgU,QAAA,uBACA,yBACAke,UAAAzmB,EAAA0mB,YAAA1mB,EAAAzM,MACA,KAEAyvB,EAGAjxB,EAAA4vB,QAAAM,wBACA1tB,EAAAwuB,aAKA9C,EAAAxrB,KAAAwwB,aAAA1wB,GACAA,EAAAmL,KACAugB,EAAAnqB,KAAA,CACAvC,KAAAssB,EACA5qB,MAAAV,EAAAmL,OAGA3N,EAAAgD,KAAAR,EAAA4wB,OAAA,SAAAjF,EAAAlgB,GACAigB,EAAAnqB,KAAA,CACAvC,KACA,UAAAxB,EAAAyK,KAAAjI,EAAAsrB,YACAtrB,EAAAsrB,UAAAK,IACAL,EACA5qB,MAAA+K,GAEA,MAGApH,EAAAytB,cAAA,WAAA9xB,EAAA0rB,UACAA,EAAA1rB,EAAA0rB,UAEAA,EAAA,IAAAiC,SACAnwB,EAAAgD,KAAAN,KAAAwwB,aAAA1wB,IAAA,SAAA2rB,EAAAC,GACAF,EAAA3B,OAAA6B,EAAA5sB,KAAA4sB,EAAAlrB,MACA,KAEAV,EAAAmL,KACAugB,EAAA3B,OACAuB,EACAtrB,EAAAmL,KACAM,EAAA0mB,YAAA1mB,EAAAzM,MAGAxB,EAAAgD,KAAAR,EAAA4wB,OAAA,SAAAjF,EAAAlgB,GAGA,GACApH,EAAAytB,cAAA,OAAArmB,IACApH,EAAAytB,cAAA,OAAArmB,GACA,CACA,IAAA2mB,EAAA3mB,EAAA0mB,YAAA1mB,EAAAzM,KACAgB,EAAAgvB,kBACAoD,EAAA/tB,EAAA0tB,mBACAK,EACApyB,EAAAgvB,kBAGAtD,EAAA3B,OACA,UAAAvsB,EAAAyK,KAAAjI,EAAAsrB,YACAtrB,EAAAsrB,UAAAK,IACAL,EACA7f,EACA2mB,EAEA,CACA,KAGApyB,EAAAD,KAAA2rB,IAlEA1rB,EAAA0vB,YAAAjkB,EAAAxD,MAAA,2BACAjI,EAAAD,KAAAC,EAAAmL,MAAAM,GAoEAzL,EAAAmL,KAAA,IACA,EAEAknB,oBAAA,SAAAryB,GACA,IAAAsyB,EAAA90B,EAAA,WAAAiD,KAAA,OAAAT,EAAAqL,KAAA5K,KAAA,QAEAT,EAAAuyB,SAAA,WAAAvyB,EAAAuyB,UAAA,IAEAvyB,EAAA0rB,SAAAxrB,KAAAwwB,aAAA1wB,GAEAA,EAAAsuB,UAAAgE,OAAAE,SAAAC,MACAzyB,EAAA0rB,SAAAnqB,KAAA,CACAvC,KAAAgB,EAAAuuB,mBAAA,WACA7tB,MAAAV,EAAAsuB,UAGA,EAEAoE,kBAAA,SAAA1yB,GACAE,KAAAuwB,aAAAzwB,IACAE,KAAAyyB,eAAA3yB,GAAA,KACAA,EAAAD,MACAG,KAAA8xB,aAAAhyB,GAEAE,KAAAsxB,sBAAAxxB,IAEAA,EAAAwuB,cAGAxuB,EAAAuyB,SAAA,gBAAAvyB,EAAAuyB,UAAA,MAGAryB,KAAAmyB,oBAAAryB,EAEA,EAEA4yB,cAAA,SAAA5yB,GACA,IAAA8rB,EAAAtuB,EAAAwC,EAAA8rB,WACAR,EAAAtrB,EAAAsrB,UAkBA,OAjBAA,EAcA9tB,EAAAkC,QAAA4rB,KACAA,EAAA,CAAAA,KAdAA,EAAA,GACAQ,EAAAtrB,MAAA,WAIA,IAHA,IAAAmB,EAAAnE,EAAA0C,MACAlB,EAAA2C,EAAAlB,KAAA,mBACA9B,GAAAgD,EAAAlB,KAAA,eAAAJ,OACA1B,GACA2sB,EAAA/pB,KAAAvC,GACAL,GAAA,CAEA,IACA2sB,EAAAjrB,SACAirB,EAAA,CAAAQ,EAAArrB,KAAA,sBAKA6qB,CACA,EAEAuH,kBAAA,SAAA7yB,GAGAA,EAAA6qB,MAAA7qB,EAAA6qB,KAAAxqB,SACAL,EAAA6qB,KAAArtB,EAAAwC,EAAA8rB,UAAArrB,KAAA,SAGAT,EAAA6qB,KAAAxqB,SACAL,EAAA6qB,KAAArtB,EAAA0C,KAAAF,QAAA8rB,UAAArrB,KAAA,WAGAT,EAAAsrB,UAAAprB,KAAA0yB,cAAA5yB,GACAA,EAAAqL,MACArL,EAAAqL,IAAArL,EAAA6qB,KAAApqB,KAAA,WAAA+xB,SAAAM,MAGA9yB,EAAAiI,MACAjI,EAAAiI,MACA,WAAAzK,EAAAyK,KAAAjI,EAAA6qB,KAAApqB,KAAA,YACAT,EAAA6qB,KAAApqB,KAAA,WACA,IACAsyB,cAEA,SAAA/yB,EAAAiI,MACA,QAAAjI,EAAAiI,MACA,UAAAjI,EAAAiI,OAEAjI,EAAAiI,KAAA,QAEAjI,EAAAmrB,oBACAnrB,EAAAmrB,kBAAAnrB,EAAA6qB,KAAAK,KAAA,kBAEA,EAEA8H,iBAAA,SAAAjzB,GACA,IAAAC,EAAAxC,EAAAmC,OAAA,GAAAO,KAAAF,QAAAD,GAGA,OAFAG,KAAA2yB,kBAAA7yB,GACAE,KAAAwyB,kBAAA1yB,GACAA,CACA,EAIAizB,kBAAA,SAAAC,GACA,OAAAA,EAAAC,MACAD,EAAAC,QAEAD,EAAAE,aACA,WAEAF,EAAAG,aACA,WAEA,SACA,EAIAC,gBAAA,SAAAC,GAIA,OAHAA,EAAAC,QAAAD,EAAA/D,KACA+D,EAAA7wB,MAAA6wB,EAAAE,KACAF,EAAAvqB,SAAAuqB,EAAAG,OACAH,CACA,EAIAI,eAAA,SAAAC,EAAAxE,EAAAtuB,GACA,IAAA+yB,EAAAr2B,EAAAs2B,WACAP,EAAAM,EAAAN,UASA,OAPAnE,KAAAlvB,KAAAF,QAAAovB,SAAAmE,GACA,IAAAK,EACAC,EAAAE,YAAA3E,EAAAtuB,IACA,IAAA8yB,GACAC,EAAAG,WAAA5E,EAAAtuB,GAEAyyB,EAAApH,MAAA0H,EAAAN,QACArzB,KAAAozB,gBAAAC,EACA,EAGAU,uBAAA,SAAAtL,EAAA5oB,GACA,IAAAsE,EAAAnE,KACAg0B,EAAA,SAAApzB,GACA,OAAAtD,EAAAs2B,WAAAC,YAAA1vB,EAAAvD,GAAAyyB,SACA,EACAxzB,EAAAwvB,QAAA,SAAA4E,EAAAC,GAYA,OAXAD,GAAAC,KACAr0B,EAAAs0B,cAAAn0B,KAAAm0B,eAAAn0B,KAAAm0B,eACAH,EAAA,CAAAh0B,QACAmE,EAAAurB,eAAA,WACA,OAAA7vB,EAAAu0B,YACA92B,EAAAs2B,WAAAE,WAAA3vB,EAAA,CAAAtE,IAAAwzB,UAEAW,EAAA9zB,UACA,IACAiE,EAAAurB,cAAAuE,EAAAC,IAEAl0B,KAAAm0B,eAAAH,EAAA,CAAAh0B,MACA,EACAH,EAAAksB,OAAA,WASA,MARA,YAAA/rB,KAAAizB,UACApzB,EAAAw0B,MAAAr0B,KAAAq0B,OAKA,IAJAlwB,EAAAH,SACA,SACA1G,EAAA2K,MAAA,UAAA8kB,eAAAtE,IACAzoB,OACAmE,EAAAmwB,QAAA7L,EAAAzoB,OAEAA,KAAAq0B,OAAAlwB,EAAAsvB,gBACA,EACA5zB,EAAAosB,MAAA,WACA,OAAAjsB,KAAAq0B,MACAr0B,KAAAq0B,MAAApI,SAEAjsB,KAAAo0B,YAAA,QACAjwB,EAAAH,SAAA,YAAAhE,MACAmE,EAAAsvB,gBAAA,GACA,EACA5zB,EAAAozB,MAAA,WACA,OAAAjzB,KAAAq0B,MACAlwB,EAAA4uB,kBAAA/yB,KAAAq0B,OAEAr0B,KAAAm0B,cACAhwB,EAAA4uB,kBAAA/yB,KAAAm0B,oBADA,CAGA,EACAt0B,EAAA00B,WAAA,WACA,OACAv0B,KAAAq0B,OACAr0B,KAAAm0B,eACA,YAAAhwB,EAAA4uB,kBAAA/yB,KAAAm0B,cAEA,EACAt0B,EAAAgxB,SAAA,WACA,OAAA7wB,KAAA8wB,SACA,EACAjxB,EAAA4T,SAAA,WACA,OAAAzT,KAAAgxB,SACA,CACA,EAIAwD,kBAAA,SAAAH,GACA,IAAAI,EAAAJ,EAAAK,kBAAA,SACAjwB,EAAAgwB,KAAAp1B,MAAA,KACAs1B,EAAAlwB,KAAAtE,OAAA,GAAAy0B,SAAAnwB,EAAA,OACA,OAAAkwB,KAAA,CACA,EAOAlC,eAAA,SAAA3yB,EAAA+0B,GACA/0B,EAAA2uB,cAAA3uB,EAAA2uB,eAAA,EACA,IAQA4F,EACA5C,EATAttB,EAAAnE,KACAuL,EAAAzL,EAAA4wB,MAAA,GACAoE,EAAAvpB,EAAA2G,KACA6iB,EAAAj1B,EAAA2uB,cACAuG,EAAAl1B,EAAA0uB,cAAAsG,EACA12B,EAAA4B,KAAA4vB,WACA+D,EAAAr2B,EAAAs2B,WACAP,EAAAM,EAAAN,UAGA,UAEArzB,KAAAuwB,aAAAzwB,IACA1B,IACA22B,IAAA,aAAAz3B,EAAAyK,KAAAitB,KAAAl1B,GAAAk1B,GAAAF,KAEAh1B,EAAAD,UAIAg1B,IAGAE,GAAAD,GACAvpB,EAAA/I,MAAA1C,EAAAkvB,KAAA,iBACAhvB,KAAAyzB,gBAAA,EAAA3zB,EAAAovB,QAAA,CACA,KACA,QACA3jB,EAAA/I,UAIAivB,EAAA,WAEA,IAAAwD,EAAA33B,EAAAmC,OAAA,GAAAK,GACAo1B,EAAAD,EAAAnE,UAAAZ,OACA+E,EAAAhqB,KAAA7M,EAAAsD,KACA6J,EACAwpB,EACAA,GAAA,aAAAz3B,EAAAyK,KAAAitB,KAAAC,GAAAD,GACAzpB,EAAAxD,MAIAktB,EAAA7D,UAAA6D,EAAAhqB,KAAAiH,KAEA+iB,EAAAlD,aACA,SAAAgD,EAAA,KAAAA,EAAAE,EAAA7D,UAAA,OAAA0D,EAEA3wB,EAAAH,SAAA,uBAAAixB,GAEA9wB,EAAA2tB,aAAAmD,GAEA9wB,EAAAmtB,sBAAA2D,GACAZ,IACA,IAAAlwB,EAAAH,SAAA,iBAAAixB,IAAA33B,EAAA63B,KAAAF,IACA9wB,EAAAsvB,gBAAA,EAAAwB,EAAA/F,UAEAI,MAAA,SAAA1jB,EAAAwpB,EAAAf,GACAU,EAAA5wB,EAAAqwB,kBAAAH,IAAAU,EAAAE,EAAA7D,UAIA8D,EAAAD,EAAA7D,UAAA6D,EAAAnE,UAAAZ,QACA/rB,EAAA8sB,YACA3zB,EAAA2K,MAAA,YACAipB,kBAAA,EACAhB,OAAA6E,EAAAE,EAAAxG,cACAkC,MAAAoE,EAAAE,EAAAxG,gBAEAwG,GAGAn1B,EAAA2uB,cAAAwG,EAAAxG,cAAAsG,EACAE,EAAArpB,SACAqpB,EAAAG,aACAH,EAAAZ,QACAlwB,EAAAH,SAAA,iBAAAixB,GACA9wB,EAAAH,SAAA,mBAAAixB,GACAF,EAAAD,EAGArD,IAEAkC,EAAAE,YAAAoB,EAAA/F,QAAA,CAAAtjB,EAAAwpB,EAAAf,GAEA,IACAd,MAAA,SAAAc,EAAAe,EAAAhB,GACAa,EAAAZ,QACAY,EAAAG,aACAH,EAAAb,cACAjwB,EAAAH,SAAA,iBAAAixB,GACA9wB,EAAAH,SAAA,mBAAAixB,GACAtB,EAAAG,WAAAmB,EAAA/F,QAAA,CAAAmF,EAAAe,EAAAhB,GACA,IACAZ,QAAA,WACArvB,EAAAwtB,wBAAAsD,EACA,GACA,EACAj1B,KAAAozB,gBAAAC,GACAA,EAAApH,MAAA,WACA,OAAAoI,EAAApI,OACA,EACAwF,IACA4B,IACA,EAEAgC,YAAA,SAAA5M,EAAA5oB,GACA,IAAAG,KAAAs1B,UAIAt1B,KAAAgE,SAAA,SAEAhE,KAAAqxB,cAAA,IAAArxB,KAAA6vB,cAEA7vB,KAAA8wB,UAAAZ,OAAAlwB,KAAA8wB,UAAAH,MAAA,EACA3wB,KAAA8wB,UAAAX,QAAA,GAKAnwB,KAAA+wB,oBAAAlxB,GACAG,KAAA4wB,oBAAA/wB,GACAA,EAAAixB,UAAAZ,OAAArwB,EAAAqwB,OAAArwB,EAAA4uB,eAAA,EACA5uB,EAAAixB,UAAAH,MAAA9wB,EAAA8wB,MAAA3wB,KAAAywB,UAAA5wB,EAAA6wB,QAAA,EACA7wB,EAAAixB,UAAAX,QAAAtwB,EAAAswB,QAAA,EACAnwB,KAAAs1B,SAAA,EAEAt1B,KAAA8wB,UAAAZ,QAAArwB,EAAAqwB,OACAlwB,KAAA8wB,UAAAH,OAAA9wB,EAAA8wB,KACA,EAEA4E,QAAA,SAAA3pB,EAAAwpB,EAAAf,EAAAv0B,GACA,IAAA6wB,EAAA7wB,EAAAgxB,UAAAH,MACAld,EAAA3T,EAAAkxB,UACAlxB,EAAAgxB,UAAAZ,OAAAS,GAGA3wB,KAAAixB,YACA3zB,EAAA2K,MAAA,YACAipB,kBAAA,EACAhB,OAAAS,EACAA,UAEA7wB,GAGA2T,EAAA7H,OAAA9L,EAAA8L,SACA6H,EAAA2hB,WAAAt1B,EAAAs1B,aACA3hB,EAAA4gB,MAAAv0B,EAAAu0B,QACAr0B,KAAAgE,SAAA,YAAAlE,EACA,EAEA01B,QAAA,SAAAnB,EAAAe,EAAAhB,EAAAt0B,GACA,IAAA2T,EAAA3T,EAAAkxB,UACAlxB,EAAA4uB,sBAGA1uB,KAAA8wB,UAAAZ,QAAApwB,EAAAgxB,UAAAZ,OACAlwB,KAAA8wB,UAAAH,OAAA7wB,EAAAgxB,UAAAH,OAEAld,EAAA4gB,MAAAv0B,EAAAu0B,QACA5gB,EAAA2hB,WAAAt1B,EAAAs1B,aACA3hB,EAAA2gB,YAAAt0B,EAAAs0B,cACAp0B,KAAAgE,SAAA,YAAAlE,EACA,EAEA21B,UAAA,SAAAC,EAAAN,EAAAO,EAAA71B,GAGAE,KAAAgE,SAAA,cAAAlE,EACA,EAEAw0B,QAAA,SAAA7L,EAAA5oB,GACAA,EAAAksB,QACA/rB,KAAA+zB,uBAAAtL,EAAA5oB,GAEA,IACAw0B,EACAuB,EACAC,EACAC,EAJA3xB,EAAAnE,KAKAF,EAAAqE,EAAA2uB,iBAAAjzB,GACAuU,EAAA,WAsDA,OArDAjQ,EAAA4xB,UAAA,EAEAj2B,EAAAuxB,cAAA,IAAAltB,EAAA0rB,cACAwE,EACAA,KAEAuB,IAKA,IAJAzxB,EAAAH,SACA,OACA1G,EAAA2K,MAAA,QAAA8kB,eAAAtE,IACA3oB,KAEAqE,EAAAsvB,gBAAA,EAAA3zB,EAAAovB,QAAA0G,IACAzxB,EAAAsuB,eAAA3yB,IACAxC,EAAA63B,KAAAr1B,IAEAwvB,MAAA,SAAA1jB,EAAAwpB,EAAAf,GACAlwB,EAAAoxB,QAAA3pB,EAAAwpB,EAAAf,EAAAv0B,EACA,IACAyzB,MAAA,SAAAc,EAAAe,EAAAhB,GACAjwB,EAAAqxB,QAAAnB,EAAAe,EAAAhB,EAAAt0B,EACA,IACA0zB,QAAA,SAAAkC,EAAAN,EAAAO,GAUA,GATAxxB,EAAAwtB,wBAAA7xB,GACAqE,EAAAsxB,UACAC,EACAN,EACAO,EACA71B,GAEAqE,EAAA4xB,UAAA,EACA5xB,EAAAmxB,SAAA,EAEAx1B,EAAAouB,wBACApuB,EAAAouB,uBAAA/pB,EAAA4xB,SAKA,IADA,IAAAC,EAAA7xB,EAAA8xB,OAAAtxB,QACAqxB,GAAA,CACA,eAAA7xB,EAAA4uB,kBAAAiD,GAAA,CACAA,EAAA3pB,UACA,KACA,CACA2pB,EAAA7xB,EAAA8xB,OAAAtxB,OACA,CAEA,IAAAR,EAAAmxB,SAGAnxB,EAAAH,SAAA,OAEA,GAEA,EAEA,OADAhE,KAAAq1B,YAAA5M,EAAA3oB,GAEAE,KAAAF,QAAAmuB,mBACAjuB,KAAAF,QAAAouB,wBACAluB,KAAAF,QAAAouB,wBAAAluB,KAAA+1B,UAEA/1B,KAAAF,QAAAouB,uBAAA,GACA2H,EAAAv4B,EAAAs2B,WACA5zB,KAAAi2B,OAAA50B,KAAAw0B,GACAC,EAAAD,EAAA1xB,EAAAurB,cAAAtb,KAEApU,KAAAk2B,UAAAl2B,KAAAk2B,UAAA/xB,EAAAurB,cAAAtb,KACA0hB,EAAA91B,KAAAk2B,WAKAJ,EAAA7J,MAAA,WAEA,OADA2J,EAAA,MAAA/zB,EAAA,iBACAwyB,EAMAA,EAAApI,SALA4J,GACAA,EAAA/B,WAAAh0B,EAAAovB,QAAA0G,GAEAxhB,IAGA,EACApU,KAAAozB,gBAAA0C,IAEA1hB,GACA,EAEA+hB,OAAA,SAAA1N,EAAA5oB,GACA,IAUAu2B,EACAC,EACAC,EACA73B,EAbA0F,EAAAnE,KACA4L,GAAA,EACA9L,EAAAxC,EAAAmC,OAAA,GAAAO,KAAAF,QAAAD,GACA6wB,EAAA7wB,EAAA6wB,MACA6F,EAAA7F,EAAAvwB,OACAq2B,EAAA12B,EAAAguB,sBACA2I,EAAA32B,EAAAiuB,yBACA2I,EAAA52B,EAAAkuB,iCACA2I,EAAA,EACAvL,EAAAprB,KAAA0yB,cAAA5yB,GAKA82B,EAAA,EACA,IAAAL,EACA,SAKA,GAHAE,QAAA50B,IAAA6uB,EAAA,GAAAxe,OACAukB,OAAA50B,IAGA/B,EAAA+tB,mBAAA2I,GAAAC,IACAz2B,KAAAuwB,aAAAzwB,GAIA,GAAAA,EAAA+tB,mBAAA4I,IAAAD,EAWA,IAAA12B,EAAA+tB,mBAAA4I,EAGA,IAFAH,EAAA,GACAF,EAAA,GACA33B,EAAA,EAAAA,EAAA83B,EAAA93B,GAAA,EACAk4B,GAAAjG,EAAAjyB,GAAAyT,KAAAwkB,GAEAj4B,EAAA,IAAA83B,GACAI,EAAAjG,EAAAjyB,EAAA,GAAAyT,KAAAwkB,EAAAD,GACAD,GAAA/3B,EAAA,EAAAm4B,GAAAJ,KAEAF,EAAAj1B,KAAAqvB,EAAAtyB,MAAAw4B,EAAAn4B,EAAA,KACA43B,EAAAjL,EAAAhtB,MAAAw4B,EAAAn4B,EAAA,IACA0B,SACAk2B,EAAAjL,GAEAgL,EAAA/0B,KAAAg1B,GACAO,EAAAn4B,EAAA,EACAk4B,EAAA,QAIAP,EAAAhL,OA7BA,IAFAkL,EAAA,GACAF,EAAA,GACA33B,EAAA,EAAAA,EAAA83B,EAAA93B,GAAA+3B,EACAF,EAAAj1B,KAAAqvB,EAAAtyB,MAAAK,IAAA+3B,KACAH,EAAAjL,EAAAhtB,MAAAK,IAAA+3B,IACAr2B,SACAk2B,EAAAjL,GAEAgL,EAAA/0B,KAAAg1B,QAXAC,EAAA,CAAA5F,GACA0F,EAAA,CAAAhL,GAkDA,OAfAvrB,EAAAg3B,cAAAnG,EACApzB,EAAAgD,KAAAg2B,GAAA5F,GAAA,SAAAjF,EAAA1rB,GACA,IAAA+2B,EAAAx5B,EAAAmC,OAAA,GAAAI,GAWA,OAVAi3B,EAAApG,MAAA4F,EAAAv2B,EAAA,CAAAA,GACA+2B,EAAA1L,UAAAgL,EAAA3K,GACAtnB,EAAA4sB,oBAAA+F,GACA3yB,EAAAysB,oBAAAkG,GACA3yB,EAAA4vB,uBAAAtL,EAAAqO,GACAlrB,EAAAzH,EAAAH,SACA,MACA1G,EAAA2K,MAAA,OAAA8kB,eAAAtE,IACAqO,EAGA,IACAlrB,CACA,EAEAmrB,kBAAA,SAAAl3B,GACA,IAAA4B,EAAA5B,EAAA+rB,UACAoL,EAAAv1B,EAAAoqB,OAAA,GACAoL,EAAAx1B,EAAAwE,GAAAzC,SAAA0zB,eAEAr3B,EAAAs3B,eAAAH,EACA15B,EAAA,iBAAAusB,OAAAmN,GAAA,GAAAI,QAGA31B,EAAAqqB,MAAAkL,GAAAK,SAGAJ,GACAD,EAAA7uB,QAAA,SAGA7K,EAAAe,UAAAoD,EAAA6C,IAAA,WAIAtE,KAAAF,QAAA8rB,UAAA5rB,KAAAF,QAAA8rB,UAAA7lB,KAAA,SAAAtH,EAAA64B,GACA,OAAAA,IAAA71B,EAAA,GACAu1B,EAAA,GAEAM,CACA,IAGA71B,EAAA,KAAAzB,KAAAD,QAAA,KACAC,KAAAD,QAAAi3B,EAEA,EAEAO,qBAAA,SAAAC,EAAAC,GACA,IAGAC,EAHAvzB,EAAAnE,KACA2zB,EAAAr2B,EAAAs2B,WACA+D,EAAA,GAEAC,EAAA,SAAAnP,GACAA,MAAA+O,QACA/O,EAAA+O,SAMA7D,EAAAtnB,QAAA,CAAAoc,GACA,EASAoP,EAAA,WACAH,EAAAG,aAAA,SAAAC,GACAA,EAAA33B,QAGAw3B,IAAAh4B,OAAAm4B,GACAD,KAdA,SAAAF,GACAxzB,EACA4zB,uBAAAJ,EAAAF,EAAAD,EAAA14B,KAAA,KACAwwB,MAAA,SAAAoB,GACAiD,EAAAtnB,QAAAqkB,EACA,IACA6C,KAAAqE,EACA,CAIAI,CAAAL,EAKA,GAAAC,EACA,EAsBA,OApBAH,KAAA,GACAD,EAAAS,OACAT,EAAAU,OAEAV,EAAAU,MAAAC,aAAAV,EACA9D,EAAAtnB,QAAAmrB,EAAAU,QAEAV,EAAAjsB,MAAA,SAAAA,GACAA,EAAA4sB,aAAAV,EACA9D,EAAAtnB,QAAAd,EACA,GAAAqsB,GAEAJ,EAAAY,aACAV,EAAAF,EAAAa,eACAR,KAIAlE,EAAAtnB,QAAA,IAEAsnB,EAAAN,SACA,EAEA0E,uBAAA,SAAAJ,EAAAF,GACA,IAAAtzB,EAAAnE,KACA,OAAA1C,EAAAg7B,KACA54B,MACApC,EACAA,EAAAyI,IAAA4xB,GAAA,SAAAH,GACA,OAAArzB,EAAAozB,qBAAAC,EAAAC,EACA,KAEAz3B,KAAA0vB,eAAA,WACA,OAAA1xB,MAAAC,UAAA0B,OAAAD,MAAA,GAAAQ,UACA,GACA,EAEAq4B,iBAAA,SAAAzL,GAGA,IAAA0L,GADA1L,KAAA,IACA0L,MACA,OACAA,GACAA,EAAAr4B,SACAq4B,EAAA,GAAAC,kBAAAD,EAAA,GAAAE,YAEA14B,KAAA+3B,uBACAz6B,EAAAyI,IAAAyyB,GAAA,SAAAG,GACA,IAAAnB,EACA,OAAAmB,EAAAF,mBACAjB,EAAAmB,EAAAF,sBAGAjB,EAAAU,MAAAS,EAAAC,aAEApB,GAEAmB,EAAAD,YACA,KAGAp7B,EAAAs2B,WAAAvnB,QAAA/O,EAAAu7B,UAAA/L,EAAA4D,QAAA2C,SACA,EAEAyF,yBAAA,SAAAlN,GAGA,IACA8E,EACAlwB,EAFAm3B,GADA/L,EAAAtuB,EAAAsuB,IACArrB,KAAA,WAGA,GAAAo3B,KAAAx3B,OACA,OAAAH,KAAA+3B,uBAAAJ,GAGA,IADAjH,EAAApzB,EAAAu7B,UAAAjN,EAAArrB,KAAA,WACAJ,YASA0B,IAAA6uB,EAAA,GAAA5xB,MAAA4xB,EAAA,GAAAwB,UAEA50B,EAAAgD,KAAAowB,GAAA,SAAAjF,EAAAlgB,GACAA,EAAAzM,KAAAyM,EAAA2mB,SACA3mB,EAAA2G,KAAA3G,EAAAwtB,QACA,QAdA,CAEA,KADAv4B,EAAAorB,EAAArrB,KAAA,UAEA,OAAAjD,EAAAs2B,WAAAvnB,QAAA,IAAAgnB,UAKA3C,EAAA,EAAA5xB,KAAA0B,EAAAkJ,QAAA,aACA,CAOA,OAAApM,EAAAs2B,WAAAvnB,QAAAqkB,GAAA2C,SACA,EAEA2F,mBAAA,SAAApN,GACA,OAAAA,aAAAtuB,GAAA,IAAAsuB,EAAAzrB,OAGA7C,EAAAg7B,KACA54B,MAAApC,IAAAyI,IAAA6lB,EAAA5rB,KAAA84B,2BACA94B,KAAA0vB,eAAA,WACA,OAAA1xB,MAAAC,UAAA0B,OAAAD,MAAA,GAAAQ,UACA,IANAF,KAAA84B,yBAAAlN,EAOA,EAEAqN,UAAA,SAAAxQ,GACA,IAAAtkB,EAAAnE,KACAH,EAAA,CACA+rB,UAAAtuB,EAAAmrB,EAAAlnB,QACAopB,KAAArtB,EAAAmrB,EAAAlnB,OAAAopB,OAEA3qB,KAAAg5B,mBAAAn5B,EAAA+rB,WAAA4H,QAAA,SAAA9C,GACA7wB,EAAA6wB,QACAvsB,EAAArE,QAAA8tB,kBACAzpB,EAAA4yB,kBAAAl3B,IAOA,IAJAsE,EAAAH,SACA,SACA1G,EAAA2K,MAAA,UAAA8kB,eAAAtE,IACA5oB,IAGAsE,EAAAgyB,OAAA1N,EAAA5oB,EAEA,GACA,EAEAq5B,SAAA,SAAAzQ,GACA,IAAA+P,EACA/P,EAAAvgB,eACAugB,EAAAvgB,cAAAixB,eACA1Q,EAAAvgB,cAAAixB,cAAAX,MACA34B,EAAA,CAAA6wB,MAAA,IACA8H,KAAAr4B,SACA7C,EAAAgD,KAAAk4B,GAAA,SAAA/M,EAAAkN,GACA,IAAAptB,EAAAotB,EAAAC,WAAAD,EAAAC,YACArtB,GACA1L,EAAA6wB,MAAArvB,KAAAkK,EAEA,KAMA,IAJAvL,KAAAgE,SACA,QACA1G,EAAA2K,MAAA,SAAA8kB,eAAAtE,IACA5oB,IAGAG,KAAAm2B,OAAA1N,EAAA5oB,GAGA,EAEAu5B,QAAA,SAAA3Q,GACAA,EAAAqE,aAAArE,EAAAvgB,eAAAugB,EAAAvgB,cAAA4kB,aACA,IAAA3oB,EAAAnE,KACA8sB,EAAArE,EAAAqE,aACAjtB,EAAA,GACAitB,KAAA4D,OAAA5D,EAAA4D,MAAAvwB,SACAsoB,EAAAuE,iBACAhtB,KAAAu4B,iBAAAzL,GAAA0G,QAAA,SAAA9C,GACA7wB,EAAA6wB,SAMA,IAJAvsB,EAAAH,SACA,OACA1G,EAAA2K,MAAA,QAAA8kB,eAAAtE,IACA5oB,IAGAsE,EAAAgyB,OAAA1N,EAAA5oB,EAEA,IAEA,EAEAw5B,YAAAzM,EAAA,YAEA0M,aAAA1M,EAAA,aAEA2M,aAAA3M,EAAA,aAEA4M,mBAAA,WACAx5B,KAAAuwB,aAAAvwB,KAAAF,WACAE,KAAAqD,IAAArD,KAAAF,QAAA4tB,SAAA,CACA+L,SAAAz5B,KAAAq5B,YACAK,KAAA15B,KAAAo5B,QAEAO,UAAA35B,KAAAs5B,aAEAM,UAAA55B,KAAAu5B,eAEAv5B,KAAAqD,IAAArD,KAAAF,QAAA6tB,UAAA,CACAkM,MAAA75B,KAAAk5B,YAGA57B,EAAA4vB,QAAAtB,WACA5rB,KAAAqD,IAAArD,KAAAF,QAAA8rB,UAAA,CACAkO,OAAA95B,KAAAi5B,WAGA,EAEAc,sBAAA,WACA/5B,KAAAwG,KAAAxG,KAAAF,QAAA4tB,SAAA,qCACA1tB,KAAAwG,KAAAxG,KAAAF,QAAA6tB,UAAA,SACA3tB,KAAAwG,KAAAxG,KAAAF,QAAA8rB,UAAA,SACA,EAEAxnB,SAAA,WACApE,KAAA+5B,uBACA,EAEAj1B,WAAA,SAAAtD,EAAAhB,GACA,IAAAw5B,GAAA,IAAA18B,EAAAiJ,QAAA/E,EAAAxB,KAAA2vB,iBACAqK,GACAh6B,KAAA+5B,wBAEA/5B,KAAAU,OAAAc,EAAAhB,GACAw5B,IACAh6B,KAAAi6B,sBACAj6B,KAAAw5B,qBAEA,EAEAS,oBAAA,WACA,IAAAn6B,EAAAE,KAAAF,aACA+B,IAAA/B,EAAA8rB,UACA9rB,EAAA8rB,UAAA5rB,KAAAD,QAAAkG,GAAA,sBACAjG,KAAAD,QACAC,KAAAD,QAAAm6B,KAAA,sBACAp6B,EAAA8rB,qBAAAtuB,IACAwC,EAAA8rB,UAAAtuB,EAAAwC,EAAA8rB,YAEA9rB,EAAA4tB,oBAAApwB,IACAwC,EAAA4tB,SAAApwB,EAAAwC,EAAA4tB,WAEA5tB,EAAA6tB,qBAAArwB,IACAwC,EAAA6tB,UAAArwB,EAAAwC,EAAA6tB,WAEA,EAEAwM,WAAA,SAAA/wB,GACA,IAAA3E,EAAA2E,EAAA/J,MAAA,KACA+6B,EAAA31B,EAAAG,MAEA,OADAH,EAAAE,QACA,IAAAwoB,OAAA1oB,EAAA4B,KAAA,KAAA+zB,EACA,EAEAC,gBAAA,SAAA74B,EAAAhB,GACA,MACA,QAAAgB,GACA,WAAAlE,EAAAyK,KAAAvH,IACA,qBAAA8I,KAAA9I,EAEA,EAEA85B,oBAAA,WACA,IAAAn2B,EAAAnE,KACAF,EAAAE,KAAAF,QACAD,EAAAG,KAAAD,QAAAF,OAEAvC,EAAAgD,KAAAN,KAAAD,QAAA,GAAAw6B,YAAA,SAAA9O,EAAAT,GACA,IACAxqB,EADAgB,EAAAwpB,EAAAlsB,KAAAc,cAEA,SAAA0J,KAAA9H,KAEAA,IAAApD,MAAA,GAAAsL,QAAA,oBAAAN,GACA,OAAAA,EAAAhH,OAAA,GAAAywB,aACA,IACAryB,EAAAX,EAAA2B,GACA2C,EAAAk2B,gBAAA74B,EAAAhB,KACAA,EAAA2D,EAAAg2B,WAAA35B,IAEAV,EAAA0B,GAAAhB,EAEA,GACA,EAEAsD,QAAA,WACA9D,KAAAs6B,sBACAt6B,KAAAi6B,sBACAj6B,KAAAi2B,OAAA,GACAj2B,KAAAk2B,UAAAl2B,KAAAyzB,gBAAA,GACAzzB,KAAA+1B,SAAA/1B,KAAAs1B,QAAA,EACAt1B,KAAA4wB,oBAAA5wB,MACAA,KAAAw5B,oBACA,EAIAgB,OAAA,WACA,OAAAx6B,KAAAs1B,OACA,EAMAzE,SAAA,WACA,OAAA7wB,KAAA8wB,SACA,EAMAxrB,IAAA,SAAAzF,GACA,IAAAsE,EAAAnE,KACAH,IAAAG,KAAAF,QAAA+C,WAGAhD,EAAA+rB,YAAA/rB,EAAA6wB,MACA1wB,KAAAg5B,mBAAAn5B,EAAA+rB,WAAA4H,QAAA,SAAA9C,GACA7wB,EAAA6wB,QACAvsB,EAAAgyB,OAAA,KAAAt2B,EACA,KAEAA,EAAA6wB,MAAApzB,EAAAu7B,UAAAh5B,EAAA6wB,OACA1wB,KAAAm2B,OAAA,KAAAt2B,IAEA,EAOAuU,KAAA,SAAAvU,GACA,GAAAA,IAAAG,KAAAF,QAAA+C,SAAA,CACA,GAAAhD,EAAA+rB,YAAA/rB,EAAA6wB,MAAA,CACA,IAGA2D,EACAuB,EAJAzxB,EAAAnE,KACA2zB,EAAAr2B,EAAAs2B,WACAP,EAAAM,EAAAN,UA8BA,OA3BAA,EAAApH,MAAA,WAEA,OADA2J,GAAA,EACAvB,EACAA,EAAApI,SAEA0H,EAAArnB,OAAA,sBACA+mB,EACA,EACArzB,KAAAg5B,mBAAAn5B,EAAA+rB,WAAA4H,QAAA,SAAA9C,GACAkF,IAGAlF,EAAAvwB,QAIAN,EAAA6wB,SACA2D,EAAAlwB,EAAAmwB,QAAA,KAAAz0B,IACAuT,MACA,SAAAxH,EAAAwpB,EAAAf,GACAV,EAAAtnB,QAAAT,EAAAwpB,EAAAf,EACA,IACA,SAAAA,EAAAe,EAAAhB,GACAT,EAAArnB,OAAA+nB,EAAAe,EAAAhB,EACA,KAXAT,EAAArnB,SAaA,IACAtM,KAAAozB,gBAAAC,EACA,CAEA,GADAxzB,EAAA6wB,MAAApzB,EAAAu7B,UAAAh5B,EAAA6wB,OACA7wB,EAAA6wB,MAAAvwB,OACA,OAAAH,KAAAs0B,QAAA,KAAAz0B,EAEA,CACA,OAAAG,KAAAyzB,gBAAA,EAAA5zB,KAAAqvB,QACA,GAEA,ICtjDA,SAAAnyB,GACA,aACA,mBAAAC,eAAAC,IAEAD,OAAA,iCAAAD,GACA,iBAAAG,QAEAH,EAAAI,QAAA,UAAAA,QAAA,wBAGAJ,EAAAK,OAAAC,OAEA,CAZA,EAYA,SAAAC,GACA,aAEA,IAAAm9B,EAAAn9B,EAAAo9B,QAAAtL,WAAAnxB,UAAA6B,QAAAwF,IAIAhI,EAAAuB,OAAA,qBAAAvB,EAAAo9B,QAAAtL,WAAA,CACAtvB,QAAA,CAEA66B,aAAA,GAQAr1B,IAAA,SAAAmjB,EAAA5oB,GACA,IAAA+6B,EAAAt9B,EAAA0C,MACAH,EAAAwvB,SAAA,WACA,OAAAuL,EAAAxL,WAAA,UAAAvvB,EACA,IACA46B,EAAA/4B,KAAA1B,KAAAyoB,EAAA5oB,EACA,GAGAg7B,eAAA,CAQA,EAEAC,aAAA,SAAAj7B,EAAAk7B,GACA,IAAA52B,EAAAnE,KAGAg7B,EADA19B,EAAAs2B,WAAAC,YAAA1vB,EAAA,CAAAtE,IACAwzB,UAyBA,OAxBArzB,KAAAgE,SAAA,eAAAnE,GACAvC,EAAAgD,KAAAT,EAAA86B,cAAA,SAAAl8B,EAAAw8B,GACA,IAAArxB,EAAA,SAAA/J,GACA,OAAAk7B,EAAA3G,YAEA92B,EAAAs2B,WAAAE,WAAA3vB,EAAA,CAAA42B,IAAA1H,UAEAlvB,EAAA02B,eAAAI,EAAAC,QAAAx5B,KACAyC,EACAtE,EACAo7B,EAEA,EACAD,IAAA72B,EAAAurB,cAAA9lB,EAAAqxB,EAAAzH,QAAA5pB,EACA,IACAoxB,EACA1L,MAAA,WACAnrB,EAAAH,SAAA,mBAAAnE,GACAsE,EAAAH,SAAA,qBAAAnE,EACA,IACA0zB,MAAA,WACApvB,EAAAH,SAAA,mBAAAnE,GACAsE,EAAAH,SAAA,qBAAAnE,EACA,IACAm7B,CACA,EAMAG,uBAAA,SAAAr7B,GACA,IAAA66B,EAAA,GACAr9B,EAAAgD,KAAAR,EAAA66B,cAAA,WACA,IAAAM,EAAA,GACAC,EAAAl7B,KAAAk7B,OACAE,GAAA,IAAAp7B,KAAAo7B,OAAAF,EAAAl7B,KAAAo7B,OACA99B,EAAAgD,KAAAN,MAAA,SAAAwB,EAAAhB,GACA,WAAAlD,EAAAyK,KAAAvH,IAAA,MAAAA,EAAA4B,OAAA,GACA64B,EAAAz5B,GACA1B,EACAU,EAAApC,MAAA,KACAg9B,EACAA,EAAA55B,EAAAY,OAAA,GAAAywB,cAAArxB,EAAApD,MAAA,GACAoD,IAGAy5B,EAAAz5B,GAAAhB,CAEA,IACAm6B,EAAAt5B,KAAA45B,EACA,IACAn7B,EAAA66B,cACA,EAGApG,WAAA,WACA,OAAAv0B,KAAAq7B,WACA,EAIAhM,QAAA,SAAAxvB,GACA,IAAAsE,EAAAnE,KACAF,EAAAxC,EAAAmC,OAAA,GAAAO,KAAAF,QAAAD,GA4BA,OA3BAC,EAAA66B,cAAA76B,EAAA66B,aAAAx6B,SACAH,KAAAm7B,uBAAAr7B,GACA,IAAAE,KAAAq7B,aACAr7B,KAAAgE,SAAA,gBAEA1G,EAAAgD,KAAAT,EAAA6wB,OAAA,SAAAjF,GACA,IAAAvW,EAAAuW,EAAAnuB,EAAAmC,OAAA,GAAAK,KACA8J,EAAA,WACA,OAAA/J,EAAAu0B,YAEA92B,EAAAs2B,WAAAE,WAAA3vB,EAAA,CAAAtE,IAAAwzB,UAEAlvB,EAAA22B,aAAA5lB,EAAArV,EACA,EACAqV,EAAAuW,QACAtnB,EAAAk3B,aAAA,EACAl3B,EAAAm3B,iBAAAn3B,EAAAm3B,iBAAAn3B,EAAAurB,cACA9lB,EACAA,GACA4pB,QAAA,WACArvB,EAAAk3B,aAAA,EACA,IAAAl3B,EAAAk3B,aACAl3B,EAAAH,SAAA,cAEA,GACA,KAEAhE,KAAAs7B,gBACA,EAEAx3B,QAAA,WACA9D,KAAAU,SACAV,KAAAq7B,YAAA,EAEAr7B,KAAAs7B,iBAAAh+B,EAAAs2B,WAAAC,YAAA7zB,MAAAqzB,SACA,GAEA,IC5JA,SAAAt2B,GACA,aACA,mBAAAC,eAAAC,IAEAD,OAAA,CACA,SACA,aACA,kBACA,mBACA,kBACA,yBACA,iBACA,+BACAD,GACA,iBAAAG,QAEAH,EACAI,QAAA,UACAA,QAAA,oCACAA,QAAA,yCACAA,QAAA,0CACAA,QAAA,yCACAA,QAAA,gDACAA,QAAA,0BACAA,QAAA,gCAIAJ,EAAAK,OAAAC,OAAAD,OAAA+O,UAEA,CA9BA,EA8BA,SAAA7O,EAAA6O,GACA,aAGA7O,EAAAo9B,QAAAtL,WAAAnxB,UAAA6B,QAAA66B,aAAAY,QACA,CACAL,OAAA,oBACA/oB,gBAAA,IACAU,iBAAA,IACAD,uBAAA,IACA4F,YAAA,IACAI,mBAAA,IACAH,gBAAA,IACAC,gBAAA,IACA8L,YAAA,IACAE,mBAAA,IACAC,gBAAA,IACAC,gBAAA,IACA/hB,SAAA,6BAEA,CACAq4B,OAAA,YAEAE,QAAA,EACAI,UAAA,IACAC,YAAA,IACApwB,SAAA,IACAxI,SAAA,qBAEA,CACAq4B,OAAA,cAEAE,OAAA,QACA3sB,SAAA,IACAC,UAAA,IACAc,SAAA,IACAC,UAAA,IACAjB,KAAA,IACAoG,YAAA,IACA8mB,YAAA,IACA74B,SAAA,sBACAyM,sBAAA,0BAEA,CACA4rB,OAAA,YACAjR,QAAA,gBACAliB,KAAA,aACAlF,SAAA,uBAEA,CACAq4B,OAAA,oBACAr4B,SAAA,6BAEA,CACAq4B,OAAA,cAEAE,OAAA,UACA3sB,SAAA,IACAC,UAAA,IACAc,SAAA,IACAC,UAAA,IACAjB,KAAA,IACAoG,YAAA,IACA+mB,UAAA,IACAztB,OAAA,IACArL,SAAA,wBAEA,CACAq4B,OAAA,WACAp8B,KAAA,oBACA+D,SAAA,wBAEA,CACAq4B,OAAA,wBACAr4B,SAAA,oCAMAvF,EAAAuB,OAAA,qBAAAvB,EAAAo9B,QAAAtL,WAAA,CACAtvB,QAAA,CAGA87B,mBAAA,mCAEAC,qBAAA,IAEAC,cAAA,KAEAC,eAAA,KAGAC,kBAAA,EAEAC,WAAA,EAEAC,oBAAA,EAEAC,gBAAA,GAEAC,iBAAA,GAGAC,oBAAA,EAEAC,kBAAA,EAEAC,aAAA,EAEAC,eAAA,GAGA3B,eAAA,CAKA1uB,UAAA,SAAAtM,EAAAC,GACA,GAAAA,EAAA+C,SACA,OAAAhD,EAEA,IAAAsE,EAAAnE,KACAuL,EAAA1L,EAAA6wB,MAAA7wB,EAAA4rB,OAEAkI,EAAAr2B,EAAAs2B,WACA,MACA,WAAAt2B,EAAAyK,KAAAjI,EAAA27B,cACAlwB,EAAA2G,KAAApS,EAAA27B,aACA37B,EAAA07B,YAAA17B,EAAA07B,UAAAlyB,KAAAiC,EAAAxD,QACAoE,EACAZ,GACA,SAAAgB,GACAA,EAAAU,MACApN,EAAA0M,OAEAonB,EAAAE,YAAA1vB,EAAA,CAAAtE,GACA,GACAC,GAGAD,EAEA8zB,EAAAN,SACA,EAOAoJ,YAAA,SAAA58B,EAAAC,GACA,GAAAA,EAAA+C,WAAAhD,EAAAqO,SAAArO,EAAA0M,IACA,OAAA1M,EAGAC,EAAAxC,EAAAmC,OAAA,CAAAyO,QAAA,GAAApO,GACA,IAgBA67B,EACAe,EAjBAv4B,EAAAnE,KAEA2zB,EAAAr2B,EAAAs2B,WACArnB,EAAAzM,EAAAoO,QAAArO,EAAAqO,QAAArO,EAAA0M,IACAF,EAAA,SAAAswB,GAEAA,IACAA,EAAAvvB,QAAAb,EAAAa,OACAuvB,EAAApvB,SAAAhB,EAAAgB,QACAzN,EAAA47B,eAEA77B,EAAA88B,EAAAxtB,WAAA,gBAAAwtB,GAEA98B,EAAA+8B,QAAAD,EACAhJ,EAAAE,YAAA1vB,EAAA,CAAAtE,GACA,EAGA,OAAAA,EAAAoV,MAAAnV,EAAA67B,YAEAe,GADAf,EAAA97B,EAAAoV,KAAA1S,IAAA,eACAo5B,EAAAp5B,IAAA,UAEAzC,EAAA8U,YAAA/U,EAAAoV,KAAA1S,IAAA,eACA4J,EAAAuwB,EAAArwB,EAAAvM,GACA6zB,EAAAN,YAGAxzB,EAAA+U,mBAEA9U,EAAA8U,YAEA/U,EAAA+U,YAAA9U,EAAA8U,aAAAzI,EAAAyI,YAEArI,GACAF,EAAAF,EAAAgC,MAAA5B,EAAAzM,EAAAD,IACA8zB,EAAAN,WAEAxzB,EACA,EAIAg9B,UAAA,SAAAh9B,EAAAC,GACA,IAAAD,EAAAqO,QAAApO,EAAA+C,SACA,OAAAhD,EAEA,IAAAsE,EAAAnE,KACAuL,EAAA1L,EAAA6wB,MAAA7wB,EAAA4rB,OAEAkI,EAAAr2B,EAAAs2B,WACA,OAAA/zB,EAAAqO,OAAA6b,QACAlqB,EAAAqO,OAAA6b,QACA,SAAA9e,GACAA,EAAAnM,OACAyM,EAAAxD,OAAAkD,EAAAlD,KACAkD,EAAAnM,KAAAyM,EAAAzM,KACAyM,EAAAzM,OACAmM,EAAAnM,KAAAyM,EAAAzM,KAAA4K,QACA,SACA,IAAAuB,EAAAlD,KAAA+0B,OAAA,MAKAvxB,EAAAxD,OAAAkD,EAAAlD,aACAlI,EAAAiT,UAIAjT,EAAA6wB,MAAA7wB,EAAA4rB,OAAAxgB,EACA0oB,EAAAE,YAAA1vB,EAAA,CAAAtE,GACA,GACAC,EAAAiI,MAAAwD,EAAAxD,KACAjI,EAAAmqB,SAKA0J,EAAAN,WAFAxzB,CAGA,EAEAk9B,kBAAA,SAAAl9B,EAAAC,GACA,GAAAA,EAAA+C,SACA,OAAAhD,EAEA,IAAAsE,EAAAnE,KAEA2zB,EAAAr2B,EAAAs2B,WASA,OARAznB,EAAA6F,cACAnS,EAAA6wB,MAAA7wB,EAAA4rB,QACA,SAAA7f,GACAtO,EAAAmC,OAAAI,EAAA+L,GACA+nB,EAAAE,YAAA1vB,EAAA,CAAAtE,GACA,GACAC,GAEA6zB,EAAAN,SACA,EAEA2J,kBAAA,SAAAn9B,EAAAC,GACA,KAEAD,EAAAiT,WACAjT,EAAAqO,QACArO,EAAAqO,OAAA6b,SACAjqB,EAAA+C,SAGA,OAAAhD,EAEA,IAAAsE,EAAAnE,KACAuL,EAAA1L,EAAA6wB,MAAA7wB,EAAA4rB,OAEAkI,EAAAr2B,EAAAs2B,WAUA,OATA,IAAA/zB,EAAA+U,aAAA/U,EAAAgZ,aAEA1M,EAAAkN,cAAAxZ,EAAAiT,UAAAjT,EAAA,iBAEAsM,EAAA+G,YAAA3H,EAAA1L,EAAAiT,WAAA,SAAA7H,GACAA,EAAAnM,KAAAyM,EAAAzM,KACAe,EAAA6wB,MAAA7wB,EAAA4rB,OAAAxgB,EACA0oB,EAAAE,YAAA1vB,EAAA,CAAAtE,GACA,IACA8zB,EAAAN,SACA,EAIA4J,SAAA,SAAAp9B,EAAAC,GAIA,OAHAD,EAAA+8B,UAAA98B,EAAA+C,WACAhD,EAAA6wB,MAAA7wB,EAAA4rB,OAAA3rB,EAAAhB,MAAA,WAAAe,EAAA+8B,SAEA/8B,CACA,EAEAq9B,sBAAA,SAAAr9B,EAAAC,GAOA,OANAA,EAAA+C,kBACAhD,EAAA0M,WACA1M,EAAAqO,cACArO,EAAA+8B,eACA/8B,EAAAiT,WAEAjT,CACA,IAGA,IC7UA,SAAA9C,GACA,aACA,mBAAAC,eAAAC,IAEAD,OAAA,sDAAAD,GACA,iBAAAG,QAEAH,EACAI,QAAA,UACAA,QAAA,oCACAA,QAAA,gCAIAJ,EAAAK,OAAAC,OAAAD,OAAA+O,UAEA,CAhBA,EAgBA,SAAA7O,EAAA6O,GACA,aAGA7O,EAAAo9B,QAAAtL,WAAAnxB,UAAA6B,QAAA66B,aAAAY,QACA,CACAL,OAAA,YAEAE,QAAA,EACAI,UAAA,IACAC,YAAA,IACA54B,SAAA,wBAEA,CACAq4B,OAAA,WACAp8B,KAAA,oBACA+D,SAAA,yBAMAvF,EAAAuB,OAAA,qBAAAvB,EAAAo9B,QAAAtL,WAAA,CACAtvB,QAAA,CAGAq9B,mBAAA,eAGAC,cAAA55B,SAAAgJ,cAAA,SAEAquB,eAAA,CAKAwC,UAAA,SAAAx9B,EAAAC,GACA,GAAAA,EAAA+C,SACA,OAAAhD,EAEA,IACAsL,EACAmyB,EAFA/xB,EAAA1L,EAAA6wB,MAAA7wB,EAAA4rB,OAGA,OACAzrB,KAAAo9B,cAAAG,aACAv9B,KAAAo9B,cAAAG,YAAAhyB,EAAAxD,QACA,WAAAzK,EAAAyK,KAAAjI,EAAA27B,cACAlwB,EAAA2G,MAAApS,EAAA27B,gBACA37B,EAAA07B,WAAA17B,EAAA07B,UAAAlyB,KAAAiC,EAAAxD,SAEAoD,EAAAgB,EAAAnB,gBAAAO,MAEA+xB,EAAAt9B,KAAAo9B,cAAAI,WAAA,IACAvwB,IAAA9B,EACAmyB,EAAAG,UAAA,EACA59B,EAAAy9B,QACAz9B,GAGAA,CACA,EAGA69B,SAAA,SAAA79B,EAAAC,GAIA,OAHAD,EAAAy9B,QAAAx9B,EAAA+C,WACAhD,EAAA6wB,MAAA7wB,EAAA4rB,OAAA3rB,EAAAhB,MAAA,WAAAe,EAAAy9B,OAEAz9B,CACA,IAGA,ICvFA,SAAA9C,GACA,aACA,mBAAAC,eAAAC,IAEAD,OAAA,sDAAAD,GACA,iBAAAG,QAEAH,EACAI,QAAA,UACAA,QAAA,oCACAA,QAAA,gCAIAJ,EAAAK,OAAAC,OAAAD,OAAA+O,UAEA,CAhBA,EAgBA,SAAA7O,EAAA6O,GACA,aAGA7O,EAAAo9B,QAAAtL,WAAAnxB,UAAA6B,QAAA66B,aAAAY,QACA,CACAL,OAAA,YAEAE,QAAA,EACAI,UAAA,IACAC,YAAA,IACA54B,SAAA,wBAEA,CACAq4B,OAAA,WACAp8B,KAAA,oBACA+D,SAAA,yBAMAvF,EAAAuB,OAAA,qBAAAvB,EAAAo9B,QAAAtL,WAAA,CACAtvB,QAAA,CAGA69B,mBAAA,eAGAC,cAAAp6B,SAAAgJ,cAAA,SAEAquB,eAAA,CAKAgD,UAAA,SAAAh+B,EAAAC,GACA,GAAAA,EAAA+C,SACA,OAAAhD,EAEA,IACAsL,EACA2yB,EAFAvyB,EAAA1L,EAAA6wB,MAAA7wB,EAAA4rB,OAGA,OACAzrB,KAAA49B,cAAAL,aACAv9B,KAAA49B,cAAAL,YAAAhyB,EAAAxD,QACA,WAAAzK,EAAAyK,KAAAjI,EAAA27B,cACAlwB,EAAA2G,MAAApS,EAAA27B,gBACA37B,EAAA07B,WAAA17B,EAAA07B,UAAAlyB,KAAAiC,EAAAxD,SAEAoD,EAAAgB,EAAAnB,gBAAAO,MAEAuyB,EAAA99B,KAAA49B,cAAAJ,WAAA,IACAvwB,IAAA9B,EACA2yB,EAAAL,UAAA,EACA59B,EAAAi+B,QACAj+B,GAGAA,CACA,EAGAk+B,SAAA,SAAAl+B,EAAAC,GAIA,OAHAD,EAAAi+B,QAAAh+B,EAAA+C,WACAhD,EAAA6wB,MAAA7wB,EAAA4rB,OAAA3rB,EAAAhB,MAAA,WAAAe,EAAAi+B,OAEAj+B,CACA,IAGA,ICvFA,SAAA9C,GACA,aACA,mBAAAC,eAAAC,IAEAD,OAAA,yCAAAD,GACA,iBAAAG,QAEAH,EAAAI,QAAA,UAAAA,QAAA,gCAGAJ,EAAAK,OAAAC,OAEA,CAZA,EAYA,SAAAC,GACA,aAGAA,EAAAo9B,QAAAtL,WAAAnxB,UAAA6B,QAAA66B,aAAAt5B,KAAA,CACA65B,OAAA,WAGA1H,QAAA,EAEAwK,gBAAA,IACAvC,YAAA,IACAwC,YAAA,IACAC,iBAAA,IACAr7B,SAAA,uBAKAvF,EAAAuB,OAAA,qBAAAvB,EAAAo9B,QAAAtL,WAAA,CACAtvB,QAAA,CAeAq+B,iBAAA7gC,EAAA4G,KAGA6qB,SAAA,CACAmP,iBAAA,mCACAF,gBAAA,wBACAvC,YAAA,oBACAwC,YAAA,sBAIApD,eAAA,CACAuD,SAAA,SAAAv+B,EAAAC,GACA,GAAAA,EAAA+C,SACA,OAAAhD,EAGA,IAGAk5B,EAHApF,EAAAr2B,EAAAs2B,WACAqH,EAAAj7B,KAAAF,QACAyL,EAAA1L,EAAA6wB,MAAA7wB,EAAA4rB,OAmCA,OAjCA3rB,EAAAm+B,aAAAn+B,EAAA27B,eACA1C,EAAAxtB,EAAA2G,MAGA,WAAA5U,EAAAyK,KAAAjI,EAAAo+B,oBACAjD,EAAAkD,oBAAA,GAAAt+B,EAAA6wB,MAAAvwB,OACAL,EAAAo+B,iBAEA3yB,EAAA/I,MAAAy4B,EAAAjM,KAAA,qBAEAlvB,EAAAk+B,iBAEAl+B,EAAAk+B,gBAAA10B,KAAAiC,EAAAxD,OACAjI,EAAAk+B,gBAAA10B,KAAAiC,EAAAzM,MAIAi6B,EAAAj5B,EAAA27B,YACAlwB,EAAA/I,MAAAy4B,EAAAjM,KAAA,eAEA,WAAA1xB,EAAAyK,KAAAgxB,IACAA,EAAAj5B,EAAAm+B,YAEA1yB,EAAA/I,MAAAy4B,EAAAjM,KAAA,sBAEAzjB,EAAA/I,MATA+I,EAAA/I,MAAAy4B,EAAAjM,KAAA,mBAWAzjB,EAAA/I,OAAA3C,EAAA6wB,MAAAluB,OACA3C,EAAA6wB,MAAAluB,OAAA,EACAmxB,EAAAG,WAAA9zB,KAAA,CAAAH,KAEA8zB,EAAAE,YAAA7zB,KAAA,CAAAH,IAEA8zB,EAAAN,SACA,IAGA,ICzGA,SAAAt2B,GACA,aACA,mBAAAC,eAAAC,IAEAD,OAAA,CACA,SACA,eACA,4BACA,4BACA,4BACA,gCACAD,GACA,iBAAAG,QAEAH,EACAI,QAAA,UACAA,QAAA,gBACAA,QAAA,6BACAA,QAAA,6BACAA,QAAA,6BACAA,QAAA,iCAIAJ,EAAAK,OAAAC,OAAAD,OAAA+L,KAEA,CA1BA,EA0BA,SAAA7L,EAAA6L,GACA,aAEA7L,EAAAo9B,QAAAtL,WAAAnxB,UAAA0xB,gBAAAtuB,KACA,iBACA,mBACA,sBAKA/D,EAAAuB,OAAA,qBAAAvB,EAAAo9B,QAAAtL,WAAA,CACAtvB,QAAA,CAIA+uB,YAAA,EAEAwP,iBAAA,KAEAC,iBAAA,kBAEAC,mBAAA,oBAGAC,oBAAA38B,EAGA48B,cAAA,EAGApM,SAAA,OAGAtD,SAAA,CACA2P,aAAA,iBAKAP,iBAAA,WACA,OAAAn+B,KAAAw+B,eAAAG,WAAAz4B,IAAA,eAAA/F,MACA,EAGAy+B,qBAAA,SAAA/+B,GACA,OAAAA,EAAA+L,QAAAtO,EAAAkC,QAAAK,EAAA+L,OAAA8kB,OACA7wB,EAAA+L,OAAA8kB,MAEA,EACA,EAKAprB,IAAA,SAAAmjB,EAAA5oB,GACA,GAAA4oB,EAAArgB,qBACA,SAEA,IAAAwyB,EAAAt9B,EAAA0C,MACAmE,EAAAy2B,EAAA/6B,KAAA,uBAAA+6B,EAAA/6B,KAAA,cACAC,EAAAqE,EAAArE,QACAD,EAAAqvB,QAAA/qB,EACA06B,cAAAh/B,EAAA6wB,OACA7wB,KAAA,OAAAA,GACAsF,SAAA,cACArF,EAAA0+B,eAAA1+B,EAAA2+B,aAAA,oBACA5+B,EAAAqvB,SAEA/qB,EAAA26B,aAAAj/B,EAAAqvB,SACA/qB,EAAA46B,YAAAl/B,EAAAqvB,SACArvB,EACAwvB,SAAA,WACA,OAAAuL,EAAAxL,WAAA,UAAAvvB,EACA,IACA2zB,QAAA,WACA3zB,EAAAqvB,QACA5uB,MAAA,SAAAmrB,GACAnuB,EAAA0C,MACAk6B,KAAA,SACA9N,KAAAjoB,EAAA66B,gBAAAn/B,EAAA6wB,MAAAjF,GAAAvZ,MACA,IACA+sB,YAAA,cACA96B,EAAA+6B,gBAAAr/B,EACA,IACAyvB,MAAA,WACAzvB,EAAAqvB,QAAAgL,KAAA,gBAAA35B,KAAA,gBAEA,IAAA4D,EAAAH,SAAA,QAAAykB,EAAA5oB,KACAC,EAAA+uB,YAAAhvB,EAAAgvB,cACA,IAAAhvB,EAAAgvB,YAEAhvB,EAAAksB,QAEA,IACAwH,MAAA,WACA1zB,EAAA6wB,MAAAluB,OACA3C,EAAAqvB,QAAA5uB,MAAA,SAAAmrB,GACA,IAAAjpB,EAAA3C,EAAA6wB,MAAAjF,GAAAjpB,MACAA,GACAlF,EAAA0C,MAAAk6B,KAAA,UAAA9N,KAAA5pB,EAEA,GAEA,GACA,EAEA4R,KAAA,SAAAqU,EAAA5oB,GACA,GAAA4oB,EAAArgB,qBACA,SAEA,IAAAjE,EACA7G,EAAA0C,MAAAH,KAAA,uBAAAvC,EAAA0C,MAAAH,KAAA,cAiBA,OAfAA,EAAAqvB,SACArvB,EAAAwyB,UACA,WAAAxyB,EAAAwyB,SAAAyK,OAAA,MAKAj9B,EAAAqvB,QACAgL,KAAA,aACA/0B,UAAA7H,EAAA4vB,QAAAiS,YAAA,qBACAnU,KAAA,qBACA2T,WACAS,QACAC,IAAA,gBAEAl7B,EAAAH,SAAA,OAAAykB,EAAA5oB,EACA,EAEAyvB,KAAA,SAAA7G,EAAA5oB,GACA,GAAA4oB,EAAArgB,qBACA,SAEA,IAKAk3B,EACAtM,EANA7uB,EACA7G,EAAA0C,MAAAH,KAAA,uBAAAvC,EAAA0C,MAAAH,KAAA,cAGA6wB,GADA7wB,EAAA++B,sBAAAz6B,EAAArE,QAAA8+B,sBACA/+B,GAGAA,EAAAqvB,QACArvB,EAAAqvB,QAAA5uB,MAAA,SAAAmrB,GACA,IAAAlgB,EAAAmlB,EAAAjF,IAAA,CAAAjpB,MAAA,4BACAwwB,EAAA7uB,EAAAo7B,wBACAp7B,EAAA46B,YAAAzhC,EAAA0C,OAAAsvB,MAAA,WACA,IAAAkQ,EAAAliC,EAAA0C,MACAs/B,EAAAn7B,EAAAs7B,gBAAA,CAAAl0B,IAAAm0B,WAAAF,GACAr7B,EAAA26B,aAAAQ,GACAn7B,EAAA46B,YAAAO,GAAAhQ,MAAA,WACAzvB,EAAAqvB,QAAA5xB,EAAA0C,MACAmE,EAAAH,SAAA,YAAAykB,EAAA5oB,GACAsE,EAAAH,SAAA,WAAAykB,EAAA5oB,GACAmzB,EAAA3mB,SACA,GACA,GACA,KAEAizB,EAAAn7B,EACAs7B,gBAAA/O,GACAvsB,EAAArE,QAAA2+B,aAAA,wBACAt6B,EAAArE,QAAA0+B,gBAEAr6B,EAAA26B,aAAAQ,GACAtM,EAAA7uB,EAAAo7B,wBACAp7B,EAAA46B,YAAAO,GAAAhQ,MAAA,WACAzvB,EAAAqvB,QAAA5xB,EAAA0C,MACAmE,EAAAH,SAAA,YAAAykB,EAAA5oB,GACAsE,EAAAH,SAAA,WAAAykB,EAAA5oB,GACAmzB,EAAA3mB,SACA,IAEA,EAEAknB,KAAA,SAAA9K,EAAA5oB,GACA,GAAA4oB,EAAArgB,qBACA,SAEA,IAEAk3B,EACAtM,EAHA7uB,EACA7G,EAAA0C,MAAAH,KAAA,uBAAAvC,EAAA0C,MAAAH,KAAA,cAGAA,EAAAqvB,QACArvB,EAAAqvB,QAAA5uB,MAAA,SAAAmrB,GACA,aAAA5rB,EAAAu0B,YAAA,CACA,IAAA7oB,EAAA1L,EAAA6wB,MAAAjF,GACAlgB,EAAA/I,MACA+I,EAAA/I,OAAA3C,EAAAu0B,aAAAv0B,EAAAmvB,KAAA,gBACAgE,EAAA7uB,EAAAo7B,wBACAp7B,EAAA46B,YAAAzhC,EAAA0C,OAAAsvB,MAAA,WACA,IAAAkQ,EAAAliC,EAAA0C,MACAs/B,EAAAn7B,EAAAs7B,gBAAA,CAAAl0B,IAAAm0B,WAAAF,GACAr7B,EAAA26B,aAAAQ,GACAn7B,EAAA46B,YAAAO,GAAAhQ,MAAA,WACAzvB,EAAAqvB,QAAA5xB,EAAA0C,MACAmE,EAAAH,SAAA,SAAAykB,EAAA5oB,GACAsE,EAAAH,SAAA,WAAAykB,EAAA5oB,GACAmzB,EAAA3mB,SACA,GACA,GACA,MACA2mB,EAAA7uB,EAAAo7B,wBACAp7B,EAAA46B,YAAAzhC,EAAA0C,OAAAsvB,MAAA,WACAhyB,EAAA0C,MAAArB,SACAwF,EAAAH,SAAA,SAAAykB,EAAA5oB,GACAsE,EAAAH,SAAA,WAAAykB,EAAA5oB,GACAmzB,EAAA3mB,SACA,GAEA,IACA,UAAAxM,EAAAu0B,aACAv0B,EAAAqvB,QAAA/qB,EACA06B,cAAAh/B,EAAA6wB,OACAvsB,EAAArE,QAAA2+B,aAAA,wBACAt6B,EAAArE,QAAA0+B,gBAEA3+B,KAAA,OAAAA,GACAsE,EAAA26B,aAAAj/B,EAAAqvB,SACA8D,EAAA7uB,EAAAo7B,wBACAp7B,EAAA46B,YAAAl/B,EAAAqvB,SAAAI,MAAA,WACAzvB,EAAAqvB,QAAA5xB,EAAA0C,MACAmE,EAAAH,SAAA,SAAAykB,EAAA5oB,GACAsE,EAAAH,SAAA,WAAAykB,EAAA5oB,GACAmzB,EAAA3mB,SACA,MAEAlI,EAAAH,SAAA,SAAAykB,EAAA5oB,GACAsE,EAAAH,SAAA,WAAAykB,EAAA5oB,GACAsE,EAAAo7B,wBAAAlzB,UAEA,EAEAwkB,SAAA,SAAApI,EAAA5oB,GACA,GAAA4oB,EAAArgB,qBACA,SAEA,IAAAyoB,EAAA9gB,KAAAW,MAAA7Q,EAAAqwB,OAAArwB,EAAA8wB,MAAA,KACA9wB,EAAAqvB,SACArvB,EAAAqvB,QAAA5uB,MAAA,WACAhD,EAAA0C,MACAk6B,KAAA,aACAlP,KAAA,gBAAA6F,GACA8N,WACAS,QACAC,IAAA,QAAAxO,EAAA,IACA,GAEA,EAEA8O,YAAA,SAAAlX,EAAA5oB,GACA,GAAA4oB,EAAArgB,qBACA,SAEA,IAAAwyB,EAAAt9B,EAAA0C,MACA6wB,EAAA9gB,KAAAW,MAAA7Q,EAAAqwB,OAAArwB,EAAA8wB,MAAA,KACAiP,EAAAhF,EAAAV,KAAA,wBACA2F,EAAAD,EAAA1F,KAAA,sBACA2F,EAAA1/B,QACA0/B,EAAAxT,MAEAuO,EAAA/6B,KAAA,uBAAA+6B,EAAA/6B,KAAA,eACAigC,wBAAAjgC,IAGA+/B,EACA1F,KAAA,aACAlP,KAAA,gBAAA6F,GACA8N,WACAS,QACAC,IAAA,QAAAxO,EAAA,IACA,EAEAkP,MAAA,SAAAtX,GACA,GAAAA,EAAArgB,qBACA,SAEA,IAAAjE,EACA7G,EAAA0C,MAAAH,KAAA,uBAAAvC,EAAA0C,MAAAH,KAAA,cACAsE,EAAA67B,0BACA77B,EACA46B,YAAAzhC,EAAA0C,MAAAk6B,KAAA,yBACA5K,MAAA,WACAnrB,EAAAH,SAAA,UAAAykB,EACA,GACA,EAEAwX,KAAA,SAAAxX,GACA,GAAAA,EAAArgB,qBACA,SAEA,IAAAjE,EACA7G,EAAA0C,MAAAH,KAAA,uBAAAvC,EAAA0C,MAAAH,KAAA,cACAmzB,EAAA7uB,EAAAo7B,wBACAjiC,EAAAg7B,KAAA54B,MAAApC,EAAA6G,EAAA+7B,yBAAA5Q,MAAA,WACAnrB,EAAAH,SAAA,UAAAykB,EACA,IACAtkB,EACA46B,YAAAzhC,EAAA0C,MAAAk6B,KAAA,yBACA5K,MAAA,WACAhyB,EAAA0C,MACAk6B,KAAA,aACAlP,KAAA,qBACA2T,WACAS,QACAC,IAAA,cACA/hC,EAAA0C,MAAAk6B,KAAA,sBAAA7N,KAAA,UACA2G,EAAA3mB,SACA,GACA,EACA8zB,aAAA,SAAA1X,GACA,GAAAA,EAAArgB,qBACA,SAEA9K,EAAA0C,MAAAmF,SAAA,wBACA,EACAi7B,YAAA,SAAA3X,GACA,GAAAA,EAAArgB,qBACA,SAEA9K,EAAA0C,MAAAi/B,YAAA,wBACA,EAEA17B,QAAA,SAAAklB,EAAA5oB,GACA,GAAA4oB,EAAArgB,qBACA,SAEA,IAAAjE,EACA7G,EAAA0C,MAAAH,KAAA,uBAAAvC,EAAA0C,MAAAH,KAAA,cACAwgC,EAAA,WACAl8B,EAAA46B,YAAAl/B,EAAAqvB,SAAAI,MAAA,WACAhyB,EAAA0C,MAAArB,SACAwF,EAAAH,SAAA,YAAAykB,EAAA5oB,EACA,GACA,EACAA,EAAAsL,KACAtL,EAAAwyB,SAAAxyB,EAAAwyB,UAAAluB,EAAArE,QAAAuyB,SACA/0B,EAAA63B,KAAAt1B,GACAyvB,KAAA+Q,GACA9M,MAAA,WACApvB,EAAAH,SAAA,gBAAAykB,EAAA5oB,EACA,KAEAwgC,GAEA,GAGAL,wBAAA,WACAhgC,KAAAsgC,iBAAA,EACA,EAEAf,sBAAA,SAAAvM,GAEA,IAAAK,EAAAL,GAAA11B,EAAAs2B,WAEA,OADA5zB,KAAAsgC,iBAAAj/B,KAAAgyB,GACAA,CACA,EAEA6M,sBAAA,WACA,OAAAlgC,KAAAsgC,gBACA,EAIAC,qBAAA,WACA,IAAAC,EAAAljC,EAAA0C,MACAmL,EAAAq1B,EAAAjgC,KAAA,QACAzB,EAAA0hC,EAAAjgC,KAAA,YACAwH,EAAA,2BACAy4B,EAAAp5B,GAAA,sBAAAqhB,GACA,IACAA,EAAAvgB,cAAA4kB,aAAA2T,QACA,cACA,CAAA14B,EAAAjJ,EAAAqM,GAAA9E,KAAA,KAEA,OAAAq6B,GAEA,CACA,GACA,EAEA1B,gBAAA,SAAA2B,GACA,uBAAAA,EACA,GAEAA,GAAA,KACAA,EAAA,KAAAC,QAAA,SAEAD,GAAA,KACAA,EAAA,KAAAC,QAAA,UAEAD,EAAA,KAAAC,QAAA,QACA,EAEAC,eAAA,SAAAC,GACA,uBAAAA,EACA,GAEAA,GAAA,KACAA,EAAA,KAAAF,QAAA,aAEAE,GAAA,KACAA,EAAA,KAAAF,QAAA,aAEAE,GAAA,KACAA,EAAA,KAAAF,QAAA,aAEAE,EAAAF,QAAA,WACA,EAEAG,YAAA,SAAAC,GACA,IAAAC,EAAA,IAAAlR,KAAA,IAAAiR,GACAE,EAAAnxB,KAAAW,MAAAswB,EAAA,OAEA,OADAE,MAAA,UAGA,IAAAD,EAAAE,eAAA/iC,OAAA,GACA,KACA,IAAA6iC,EAAAG,iBAAAhjC,OAAA,GACA,KACA,IAAA6iC,EAAAI,iBAAAjjC,OAAA,EAEA,EAEAkjC,kBAAA,SAAAC,GACA,WAAAA,GAAAX,QAAA,OACA,EAEAd,wBAAA,SAAAjgC,GACA,OACAG,KAAA6gC,eAAAhhC,EAAAswB,SACA,MACAnwB,KAAA+gC,YAAA,GAAAlhC,EAAA8wB,MAAA9wB,EAAAqwB,QAAArwB,EAAAswB,SACA,MACAnwB,KAAAshC,kBAAAzhC,EAAAqwB,OAAArwB,EAAA8wB,OACA,MACA3wB,KAAAg/B,gBAAAn/B,EAAAqwB,QACA,MACAlwB,KAAAg/B,gBAAAn/B,EAAA8wB,MAEA,EAEA6Q,gBAAA,SAAA53B,EAAA8mB,GACA,IAAA9mB,EACA,OAAAtM,IAEA,IAAAsO,EAAAhC,EAAA,CACA8mB,QACA+Q,eAAAzhC,KAAAg/B,gBACAl/B,QAAAE,KAAAF,UAEA,OAAA8L,aAAAtO,EACAsO,EAEAtO,EAAA0C,KAAAF,QAAA4hC,oBAAArV,KAAAzgB,GAAA+yB,UACA,EAEAO,gBAAA,SAAAr/B,GACAA,EAAAqvB,QAAAgL,KAAA,YAAA55B,MAAA,SAAAmrB,EAAAkW,GACArkC,EAAAqkC,GAAAC,QAAA/X,OAAAhqB,EAAA6wB,MAAAjF,GAAAmR,QACA,GACA,EAEAiC,cAAA,SAAAnO,GACA,OAAA1wB,KAAAwhC,gBAAAxhC,KAAAF,QAAA+hC,eAAAnR,EACA,EAEA+O,gBAAA,SAAA/O,GACA,OAAA1wB,KAAAwhC,gBAAAxhC,KAAAF,QAAAgiC,iBAAApR,GACAwJ,KAAA,eACA55B,KAAAN,KAAAugC,sBACAlvB,KACA,EAEA0wB,aAAA,SAAAtZ,GAEA,GADAA,EAAAuE,iBACAhtB,KAAAF,QAAAkiC,KAAA,CACA,IAAA79B,EAAAnE,KACAiiC,EAAA3kC,EAAAmrB,EAAA/gB,eACA43B,EAAA2C,EAAAC,QAAA,oBACAriC,EAAAy/B,EAAAz/B,KAAA,QACA4rB,EAAAwW,EAAApiC,OAAA4rB,MACAzrB,KAAAF,QAAAkiC,KAAAniC,EAAA6wB,MAAAjF,IAAArY,MAAA,SAAA7H,GACAA,IACA1L,EAAA6wB,MAAAjF,GAAAlgB,EACA1L,EAAAqvB,QAAA/pB,SAAA,cACAm6B,EAAApF,KAAA,gBAAA35B,KAAA,eACAjD,EAAA6G,EAAApE,SACAqvB,WAAA,UAAAvvB,GACA2zB,QAAA,WACA8L,EACApF,KAAA,SACA9N,KAAAjoB,EAAA66B,gBAAAn/B,EAAA6wB,MAAAjF,GAAAvZ,OACArS,EAAAqvB,QAAA+P,YAAA,cACA96B,EAAA+6B,gBAAAr/B,EACA,IACAyvB,MAAA,WACAgQ,EAAApF,KAAA,gBAAA35B,KAAA,cACA,IACAgzB,MAAA,WACA+L,EAAApF,KAAA,SAAA35B,KAAA,eACA,IAAAiC,EAAA3C,EAAA6wB,MAAAjF,GAAAjpB,MACAA,GACA88B,EAAApF,KAAA,UAAA9N,KAAA5pB,EAEA,IACA,GA9BA,CA+BA,EAEA2/B,cAAA,SAAA1Z,GACAA,EAAAuE,iBACA,IAAAiV,EAAA3kC,EAAAmrB,EAAA/gB,eAEA7H,EADAoiC,EAAAC,QAAA,oBACAriC,KAAA,QACAoiC,EAAA1hC,KAAA,eACAV,KAAAksB,QACAlsB,EAAAksB,QAEA,EAEAqW,eAAA,SAAA3Z,GACAA,EAAAuE,iBACA,IAAAsS,EAAAhiC,EAAAmrB,EAAA/gB,eAAAw6B,QACA,uCAEAriC,EAAAy/B,EAAAz/B,KAAA,YACAA,EAAAqvB,QAAArvB,EAAAqvB,SAAAoQ,EACAz/B,EAAAosB,MACApsB,EAAAosB,SAEApsB,EAAAu0B,YAAA,QACAp0B,KAAAgE,SAAA,OAAAykB,EAAA5oB,GAEA,EAEAwiC,eAAA,SAAA5Z,GACAA,EAAAuE,iBACA,IAAAiV,EAAA3kC,EAAAmrB,EAAA/gB,eACA1H,KAAAgE,SACA,UACAykB,EACAnrB,EAAAmC,OACA,CACAyvB,QAAA+S,EAAAC,QAAA,sBACAn6B,KAAA,UAEAk6B,EAAApiC,QAGA,EAEAi/B,aAAA,SAAAU,GACA,OAAAliC,EAAA4vB,QAAAiS,YAAAK,EAAAr/B,QAAAq/B,EAAA,GAAA8C,WACA,EAEAvD,YAAA,SAAAS,GAEA,IAAA7L,EAAAr2B,EAAAs2B,WACA,GACAt2B,EAAA4vB,QAAAiS,YACAK,EAAAx4B,SAAA,SACAw4B,EAAAv5B,GAAA,YACA,CACA,IAAAs8B,EAAA,SAAA9Z,GAGAA,EAAAlnB,SAAAi+B,EAAA,KACAA,EAAAl7B,IAAAhH,EAAA4vB,QAAAiS,WAAA9tB,IAAAkxB,GACA5O,EAAAE,YAAA2L,GAEA,EACAA,EACAp4B,GAAA9J,EAAA4vB,QAAAiS,WAAA9tB,IAAAkxB,GACA77B,YAAA1G,KAAAF,QAAAu+B,iBACA,MACAmB,EAAA94B,YAAA1G,KAAAF,QAAAu+B,kBACA1K,EAAAE,YAAA2L,GAEA,OAAA7L,CACA,EAEA6O,4BAAA,WACA,IAAAC,EAAAziC,KAAAD,QAAAm6B,KAAA,yBACAwI,EAAA1iC,KAAAF,QAAA0+B,eACAx+B,KAAAqD,IAAAo/B,EAAAvI,KAAA,WACAyI,MAAA,SAAAla,GACAA,EAAAuE,iBACA0V,EAAAxI,KAAA,UAAA/xB,QAAA,QACA,IAEAnI,KAAAqD,IAAAo/B,EAAAvI,KAAA,YACAyI,MAAA,SAAAla,GACAA,EAAAuE,iBACA0V,EAAAxI,KAAA,WAAA/xB,QAAA,QACA,IAEAnI,KAAAqD,IAAAo/B,EAAAvI,KAAA,YACAyI,MAAA,SAAAla,GACAA,EAAAuE,iBACA0V,EACAxI,KAAA,mBACAgI,QAAA,sBACAhI,KAAA,WACA/xB,QAAA,SACAs6B,EAAAvI,KAAA,WAAA35B,KAAA,aACA,IAEAP,KAAAqD,IAAAo/B,EAAAvI,KAAA,YACAJ,OAAA,SAAArR,GACAia,EACAxI,KAAA,WACA35B,KAAA,UAAAjD,EAAAmrB,EAAA/gB,eAAAzB,GAAA,YACA,GAEA,EAEA28B,+BAAA,WACA5iC,KAAAwG,KACAxG,KAAAD,QACAm6B,KAAA,yBACAA,KAAA,4BACA,SAEAl6B,KAAAwG,KAAAxG,KAAAD,QAAAm6B,KAAA,2CACA,EAEAV,mBAAA,WACAx5B,KAAAU,SACAV,KAAAqD,IAAArD,KAAAF,QAAA0+B,eAAA,CACA,cAAAx+B,KAAA+hC,aACA,eAAA/hC,KAAAmiC,cACA,gBAAAniC,KAAAoiC,eACA,gBAAApiC,KAAAqiC,iBAEAriC,KAAAwiC,6BACA,EAEAzI,sBAAA,WACA/5B,KAAA4iC,iCACA5iC,KAAAwG,KAAAxG,KAAAF,QAAA0+B,eAAA,SACAx+B,KAAAU,QACA,EAEAmiC,uBAAA,WACA7iC,KAAAD,QACAm6B,KAAA,2BACA35B,KAAA,eACAuiC,SACA7D,YAAA,WACA,EAEA8D,wBAAA,WACA/iC,KAAAD,QACAm6B,KAAA,2BACA35B,KAAA,eACAuiC,SACA39B,SAAA,WACA,EAEA69B,eAAA,WACA,IAAAljC,EAAAE,KAAAF,QACAA,EAAA4hC,mBAAA1hC,KAAAwD,SAAA,GAAAgJ,cACA1M,EAAA0+B,eAAAj+B,KAAA,aAEA4I,IACArJ,EAAAw+B,mBACAx+B,EAAA+hC,eAAA14B,EAAArJ,EAAAw+B,mBAEAx+B,EAAAy+B,qBACAz+B,EAAAgiC,iBAAA34B,EAAArJ,EAAAy+B,qBAGA,EAEA0E,oBAAA,WACA,IAAAnjC,EAAAE,KAAAF,aACA+B,IAAA/B,EAAA0+B,eACA1+B,EAAA0+B,eAAAx+B,KAAAD,QAAAm6B,KAAA,UACAp6B,EAAA0+B,0BAAAlhC,IACAwC,EAAA0+B,eAAAlhC,EAAAwC,EAAA0+B,gBAEA,EAEAvE,oBAAA,WACAj6B,KAAAU,SACAV,KAAAijC,sBACAjjC,KAAAgjC,gBACA,EAEAl/B,QAAA,WACA9D,KAAAU,SACAV,KAAAggC,0BACA1iC,EAAA4vB,QAAAtB,WACA5rB,KAAA+iC,yBAEA,EAEAv9B,OAAA,WACA,IAAA09B,GAAA,EACAljC,KAAAF,QAAA+C,WACAqgC,GAAA,GAEAljC,KAAAU,SACAwiC,IACAljC,KAAAD,QAAAm6B,KAAA,iBAAA35B,KAAA,eACAP,KAAA6iC,yBAEA,EAEAp9B,QAAA,WACAzF,KAAAF,QAAA+C,WACA7C,KAAAD,QAAAm6B,KAAA,iBAAA35B,KAAA,eACAP,KAAA+iC,2BAEA/iC,KAAAU,QACA,GAEA,I,mBChvBO,MAAMyiC,EACT1a,GAAU,CAAC,EAKX2a,GAAW,KAKXrb,GAAmB,KAKnBsb,GAAsB,KAKtBn5B,GAAmB,KAKnBzL,GAAmB,KAEnBw2B,GAAkB,oEAElB,WAAAh2B,CAAYqkC,GACRtjC,QAAesjC,CACnB,CAKA,IAAAC,CAAKxjC,GACD,GAAoC,SAAhCA,EAAQyjC,QAAQC,YAChB,OAGJzjC,QAAgBD,EAChBC,QAAwBA,QAAc0jC,cAAc,2BACtB,OAA1B1jC,UACAA,QAA2BA,QAAsB0jC,cAAc,eAGnE1jC,QAAwBA,QAAc0jC,cAAc,aACpD1jC,QAAwBA,QAAc0jC,cAAc,6BAEpD,MAAM5jC,EAAUmM,OAAO03B,OAAO,CAAC,EAAG3jC,SAElCF,EAAQqL,IAAMnL,QAAsBwjC,QAAQr4B,IAC5CrL,EAAQk+B,gBAAkB,2DAC1Bl+B,EAAQ8jC,qBACR9jC,EAAQw+B,iBAAmB,KAC3Bx+B,EAAQy+B,mBAAqB,KAC7Bz+B,EAAQ+uB,mBAAa,IAEjB9uB,EAAQyjC,QAAQK,0BACZ/jC,EAAQ0rB,WACR1rB,EAAQ0rB,SAAW,CAAC,GAExB1rB,EAAQ0rB,SAASsY,MAAQ/jC,EAAQyjC,QAAQK,yBAGzC9jC,EAAQyjC,QAAQO,sBACZjkC,EAAQ0rB,WACR1rB,EAAQ0rB,SAAW,CAAC,GAExB1rB,EAAQ0rB,SAASwY,EAAIjkC,EAAQyjC,QAAQO,qBAGrChkC,EAAQyjC,QAAQS,+BACZnkC,EAAQ0rB,WACR1rB,EAAQ0rB,SAAW,CAAC,GAExBxrB,QAAuBipB,KAAKlpB,EAAQyjC,QAAQS,sBAGhD3mC,EAAE0C,SAAuBovB,WAAWtvB,GAC/BsH,GAAG,0BAA4BqhB,IAC5BzoB,SAAqB,IAExBoH,GAAG,4BAA4BqhB,EAAG5oB,KAE/B,IAAIqkC,EAAcrkC,EAAK6wB,MAAM7wB,EAAK4rB,OAC9B5rB,EAAK6wB,MAAMluB,OAAS0hC,EAAY1hC,OAEhCxC,QAAgBkkC,EAAY1hC,MAChC,IAEH4E,GAAG,0BAA0BqhB,EAAG5oB,KAC7B,MAAMgxB,EAAW+D,SAAS/0B,EAAKqwB,OAASrwB,EAAK8wB,MAAQ,IAAK,IAE1DrzB,EAAE,8BAA8BqB,SAChCrB,EAAE,gDAAgD+hC,IAAI,QAASxO,EAAW,IAAI,IAGjFzpB,GAAG,mBAAmBqhB,EAAG5oB,KACtBG,eAAK,IAEDH,EAAK+L,iBAAwB/L,EAAK+L,OAAO8kB,MAK7C7wB,EAAK+L,OAAO8kB,MAAM3c,SAASxI,IAEvB,GADeA,EAAK/I,MAGhB,YADAxC,QAAgBuL,EAAK/I,OAGrBlF,EAAE,8BAA8BqB,SAGpC,IAAIwlC,EAAgBnkC,QAAc0jC,cAAc,iBAChD,GAAsB,OAAlBS,EAAwB,CACxB,IAAIC,EAAiBpkC,QAAqB0J,QAAQ,UAAW6B,EAAK84B,cAClED,EAAiBA,EAAe16B,QAAQ,UAAW6B,EAAKzM,MACxDqlC,EAAcl6B,UAAYm6B,CAC9B,KAlBApkC,QAAgB,6BAmBlB,IAGLoH,GAAG,mBAAmBqhB,EAAG5oB,KACtBG,QAAgB,qBAChBA,SAAmB,IAEtBO,KAAK,YAAajD,EAAE4vB,QAAQtB,WAC5BkX,SAAS39B,SAAS7H,EAAE4vB,QAAQtB,iBAAwB,YAIzDtuB,EAAEyC,GAASuE,IAAI,kBAEfvE,EAAQyjC,QAAQC,YAAc,MAClC,CAEA,EAAA/f,CAAWuL,GACPjvB,QAAsBskC,UAAUh/B,IAAI,UAEpC,IAAIi/B,EAAM/gC,SAASgJ,cAAc,OACjC+3B,EAAIC,UAAY,4BAChBD,EAAIt6B,UAAY,iDAAmDglB,EAEnEjvB,QAAsB8rB,MAAMyY,EAChC,CAEA,EAAAE,GACI,GAA8B,OAA1BzkC,QACA,OAG6B,OAA7BA,UACAA,QAAyByD,MAAMihC,QAAU,IAG7C,MAAMC,EAAYnhC,SAASgJ,cAAc,QACzCm4B,EAAUL,UAAUh/B,IAAI,yBAExBtF,QAAsB6pB,OAAO8a,GAE7B3kC,QAAsB6C,YACtB7C,QAAsBskC,UAAU3lC,OAAO,SAC3C,CAEA,EAAAimC,GACI,GAA8B,OAA1B5kC,QACA,OAGJ,MAAM2kC,EAAY3kC,QAAsB0jC,cAAc,0BACpC,OAAdiB,GACAA,EAAUhmC,SAGmB,OAA7BqB,UACAA,QAAyByD,MAAMihC,QAAU,GAG7C1kC,QAAsB6C,YAEtB7C,QAAsBskC,UAAUh/B,IAAI,SACxC,ECvLG,MAAMu/B,EACTC,GAAe,8CACfz7B,GAAe,8CACfsB,GAA0B,kDAE1Bo6B,wBAEAtc,GAAU,CAAC,EAKX2a,GAAW,KAEXnb,GAAU,KACV+c,GAAY,KACZC,GAAS,KAETC,GAAK,KAELC,GAAa,EAEb,WAAAlmC,CAAYqkC,GACRtjC,QAAesjC,WACXtjC,QAAagkC,IACbhkC,QAAUA,QAAagkC,EAE/B,CAKA,IAAAT,CAAKxjC,GACD,GAAoC,SAAhCA,EAAQyjC,QAAQC,YAChB,OAGJzjC,QAAgBD,WAEZA,EAAQyjC,QAAQ4B,cAChBplC,QAAeD,EAAQyjC,QAAQ4B,sBAE/BrlC,EAAQyjC,QAAQ6B,gBAChBrlC,QAAiBD,EAAQyjC,QAAQ6B,wBAEjCtlC,EAAQyjC,QAAQ8B,aAChBtlC,QAAcD,EAAQyjC,QAAQ8B,YAGlC,MAAMxlC,EAAUmM,OAAO03B,OAAO,CAAC,EAAG3jC,SAElCF,EAAQqL,IAAMpL,EAAQyjC,QAAQr4B,IAC9BrL,EAAQ4tB,SAAWpwB,EAAEyC,YAEjBA,EAAQyjC,QAAQK,0BACZ/jC,EAAQ0rB,WACR1rB,EAAQ0rB,SAAW,CAAC,GAExB1rB,EAAQ0rB,SAASsY,MAAQ/jC,EAAQyjC,QAAQK,yBAGzC9jC,EAAQyjC,QAAQO,sBACZjkC,EAAQ0rB,WACR1rB,EAAQ0rB,SAAW,CAAC,GAExB1rB,EAAQ0rB,SAASwY,EAAIjkC,EAAQyjC,QAAQO,WACrC/jC,QAAUD,EAAQyjC,QAAQO,YAG9BzmC,EAAEyC,GAASqvB,WAAWtvB,GAGtBxC,EAAEyC,GAASqvB,WACP,SACA,WACAhyB,OAAOk1B,SAASM,KAAKlpB,QACjB,YACA,iDAIR1J,UAEA1C,EAAEyC,GAASwlC,KAAK,mBAAmB9c,EAAG5oB,KAGlCvC,EAAEgD,KAAKT,EAAK+L,OAAO8kB,QAAQjF,EAAOlgB,KAC9BjO,EAAEyC,GAASm6B,KAAK,eAAesL,SAAS,CACpCC,YAAa,CAACC,EAAOC,KACjB,IAAIlzB,EAASnV,EAAEqoC,GAAKlzB,SACpBzS,QAAkByS,EAAOrC,KAE7Bw1B,OAAQ,CAACF,EAAOC,KACZ,IAAIlzB,EAASnV,EAAEqoC,GAAKlzB,SACpB,GAAI1C,KAAK81B,IAAI7lC,QAAkByS,EAAOrC,KAAO,GACzC,OAGJpQ,QAAkB,EAElB,IAAI8lC,EAAS,GACTrnC,EAAI,EACJsnC,EAAOL,EAAMM,QAAQ,GAAGD,KAC5BzoC,EAAEyoC,GAAMzlC,iBACJ,IAAIyJ,EAAKzM,EAAE0C,MAAMgrB,KAAK,WACtB8a,EAAOrnC,GAAKsL,EACZtL,GACJ,IAEA,MAAMkmC,EAAYnhC,SAASgJ,cAAc,QACzCm4B,EAAUL,UAAUh/B,IAAI,yBACxBqgC,EAAI9b,OAAO8a,GAEXrnC,EAAE2oC,KAAKjmC,QAAmB,CACtB8lC,OAAQA,EACRI,OAAQlmC,QACR24B,KAAM34B,QACN0rB,MAAO1rB,QACPgkC,EAAGhkC,UAAK,SACAH,GAEZ,GAAG,QAAQ0zB,iBACP4S,MAAM,gBACV,IAAG3S,mBACCmR,EAAUhmC,QACd,MAEN,GACJ,IAGNoB,EAAQqmC,iBAAiB,UAAW9iC,IACH,UAAzBA,EAAM/B,OAAO8kC,SAAuB/iC,EAAM/B,OAAO+iC,UAAUgC,SAAS,uBACpEtmC,QAA+BsD,EAAM/B,QAGrC+B,EAAM/B,OAAO+iC,UAAUgC,SAAS,cAChCtmC,QAAyBsD,EAAM/B,OACnC,IAGJxB,EAAQqmC,iBAAiB,SAAU9iC,IAC/B,MAAMqiC,EAAMriC,EAAM/B,OAAO2gC,QAAQ,sBAEjC,IAAI3gC,EAAS+B,EAAM/B,OAAO2gC,QAAQ,+BAClC,OAAe,OAAX3gC,GAAmBvB,QAAcsmC,SAAS/kC,IAC1C+B,EAAM0pB,sBACNhtB,QAA+BuB,KAInCA,EAAS+B,EAAM/B,OAAO2gC,QAAQ,WAClB,OAARyD,GAA2B,OAAXpkC,GAAmBvB,QAAcsmC,SAAS/kC,QAC1DvB,QAAoBuB,IAIxBA,EAAS+B,EAAM/B,OAAO2gC,QAAQ,eACf,OAAX3gC,GAAmBvB,QAAcsmC,SAAS/kC,IAC1C+B,EAAM0pB,sBACNhtB,QAA2BuB,KAI/BA,EAAS+B,EAAM/B,OAAO2gC,QAAQ,eACf,OAAX3gC,GAAmBvB,QAAcsmC,SAAS/kC,IAC1C+B,EAAM0pB,sBACNhtB,QAA+BuB,KAInCA,EAAS+B,EAAM/B,OAAO2gC,QAAQ,cACf,OAAX3gC,GAAmBvB,QAAcsmC,SAAS/kC,IAC1C+B,EAAM0pB,sBACNhtB,QAA0BuB,cAE9B,IAGJxB,EAAQyjC,QAAQC,YAAc,OAEzBoB,EAAa0B,eACdvmC,SAER,CAEA,EAAAgkC,GACQa,EAAa0B,gBAIjBjpC,EAAEkG,UAAU+hC,KAAK,qBAAsB9c,GACnC,IAAIiF,EAAWpwB,EAAE,aACbmyB,EAAUryB,OAAOopC,gBAChB/W,EAGDgX,aAAahX,GAFb/B,EAASvoB,SAAS,MAItB,IAAIuhC,KACAlH,EAAO/W,EAAElnB,OAEb,EAAG,CACC,GAAIi+B,IAAS9R,EAAS,GAAI,CACtBgZ,KACA,KACJ,CACAlH,EAAOA,EAAKmH,UAChB,OAAiB,MAARnH,GACLkH,EACAhZ,EAASvoB,SAAS,SAElBuoB,EAASuR,YAAY,SAGzB7hC,OAAOopC,gBAAkBj/B,uBACrBnK,OAAOopC,gBAAkB,KACzB9Y,EAASuR,YAAY,WACzB,GAAG,KACP,IAEA3hC,EAAEkG,UAAU+hC,KAAK,0BAA2B9c,GACxCA,EAAEuE,gBACN,IAEA6X,EAAa0B,iBACjB,CAEA,EAAAK,GAEI5mC,QAAcskC,UAAUh/B,IAAI,yBAC5BhI,EAAE63B,KAAK,CAGHhqB,IAAK7N,EAAE0C,SAAeovB,WAAW,SAAU,OAC3CiD,SAAU,OACVnD,QAASlvB,UAEVwzB,mBACCl2B,EAAE0C,MAAMi/B,YAAY,wBACxB,IAAG3P,MAAM1jB,IACLtO,EAAE0C,SAAeovB,WAAW,SAAU,QAAQ1tB,KAAKpE,EAAE0C,SAAgB1C,EAAE2K,MAAM,QAAS,CAAC2D,OAAQA,IAG/FrE,iBACIjK,EAAE0C,SAAek6B,KAAK,eAAesL,SAAS,CAC1CC,YAAa,CAACC,EAAOC,KACjB,MAAMlzB,EAASnV,EAAEqoC,GAAKlzB,SACtBzS,QAAkByS,EAAOrC,KAE7Bw1B,OAAQ,CAACF,EAAOC,KACZ,MAAMlzB,EAASnV,EAAEqoC,GAAKlzB,SACtB,GAAI1C,KAAK81B,IAAI7lC,QAAkByS,EAAOrC,KAAO,GACzC,OAGJpQ,QAAkB,EAElB,MAAM8lC,EAAS,GACf,IAAIrnC,EAAI,EACR,MAAMsnC,EAAOL,EAAMM,QAAQ,GAAGD,KAC9BzoC,EAAEyoC,GAAMzlC,iBACJwlC,EAAOrnC,GAAKnB,EAAE0C,MAAMgrB,KAAK,WACzBvsB,GACJ,IAEA,MAAMkmC,EAAYnhC,SAASgJ,cAAc,QACzCm4B,EAAUL,UAAUh/B,IAAI,yBACxBqgC,EAAI9b,OAAO8a,GAEXrnC,EAAE2oC,KAAKjmC,QAAmB,CACtB8lC,OAAQA,EACRI,OAAQlmC,QACR24B,KAAM34B,QACN0rB,MAAO1rB,QACPgkC,EAAGhkC,UAAK,SACAH,GAEZ,GAAG,QAAQ0zB,iBACP4S,MAAM,gBACV,IAAG3S,mBACCmR,EAAUhmC,QACd,MAEN,GACH,IAAI,GAGf,CAKA,EAAArB,CAAeyC,GACXzC,EAAE,eAAeqB,SACjB,MAAMgmC,EAAYnhC,SAASgJ,cAAc,QACzCm4B,EAAUL,UAAUh/B,IAAI,yBACxBvF,EAAQ4mC,WAAW9c,OAAO8a,EAC9B,CAKA,EAAAkC,CAA0Bjb,GAEtB,IAAI7hB,EAAK6hB,EAAU4X,QAAQz5B,GACvB+8B,EAAWlb,EAAUprB,MACrBumC,KACJ,GAAI/mC,QAAagnC,kBAAkB7mC,OAAS,EAAG,CAE3C,IAAI6kC,EAAI,WAAWiC,KAAKH,GACxB,GAAI9B,EAAG,CACH,MAAMkC,EAAMlC,EAAE,GACd+B,GAAsE,IAA/D/mC,QAAagnC,kBAAkBG,QAAQD,EAAItnC,cACtD,MACImnC,IAER,CAEA,MAAMK,EAAgBpnC,QAAc0jC,cAAc,wCAA0C35B,EAAK,MAC3E,OAAlBq9B,IACIL,EACAzpC,EAAE8pC,GAAeC,OAAO,QAExB/pC,EAAE8pC,GAAe9+B,OAG7B,CAKA,EAAAg/B,CAA0BF,GAEtB,IAAIr9B,EAAKq9B,EAAc5D,QAAQz5B,GAC3BtI,EAAQ+B,SAASwG,eAAe,aAAeD,GACnD,GAA2B,IAAvBtI,EAAMivB,MAAMvwB,OACZ,SAEJ,MAAMqrB,EAAW,IAAIiC,SACfliB,EAAO9J,EAAMivB,MAAM,GAEzBlF,EAAS3B,OAAO,OAAQte,GACxBigB,EAAS3B,OAAO,KAAM9f,GACtByhB,EAAS3B,OAAO,IAAK7pB,SAErB,MAAM2kC,EAAYnhC,SAASgJ,cAAc,QACzCm4B,EAAUL,UAAUh/B,IAAI,yBACxB8hC,EAAcT,WAAW9c,OAAO8a,GAEhCrnC,EAAE63B,KAAK,CACHhqB,IAAKnL,QACL+H,KAAM,OACNlI,KAAM2rB,EACN+D,eACAC,eACA8D,QAAS,SAAUzzB,GACfA,EAAK2C,MAAQ3C,EAAK2C,OAAS,GACR,KAAf3C,EAAK2C,OACLlF,EAAE,cAAcyM,GAAI+hB,MAAM,wBAAyB/hB,EAAI,mDACnDlK,EAAK2C,MAAQ,UACjBlF,EAAE,gBAAiByM,GAAIw9B,QAAQ,MAI/BnqC,OAAOk1B,SAASkV,QAExB,GAED,QAASjU,WACRvzB,QAAgB+J,EAAI,iCAAiC,IACtDypB,mBACCmR,EAAUhmC,QACd,GACJ,CAKA,EAAAqpB,CAAoBjoB,GAEhB,MAAM4lC,EAAM5lC,EAAQmiC,QAAQ,sBACtBn4B,EAAK47B,EAAInC,QAAQz5B,GACvB,IAAIvI,EAAMzB,EAAQjB,KAClB,MAAM0B,EAAQT,EAAQS,MAGtB,GADAgB,EAAMA,OACFA,EACA,SAGJ,MAAMmjC,EAAYnhC,SAASgJ,cAAc,QACzCm4B,EAAUL,UAAUh/B,IAAI,yBACxBqgC,EAAI9b,OAAO8a,GACX5kC,EAAQ8C,YAERvF,EAAE2oC,KAAKjmC,QAA8B,CAACwB,IAAKA,EAAKhB,MAAOA,EAAOuJ,GAAIA,EAAIi6B,EAAGhkC,UAAWH,IAChFA,EAAK2C,MAAQ3C,EAAK2C,OAAS,GACR,KAAf3C,EAAK2C,OACLxC,QAAgB+J,EAAIlK,EAAK2C,MAC7B,GACD,QAAQ+wB,WACPvzB,QAAgB+J,EAAI,qBAAqB,IAC1CypB,aACCzzB,EAAQ8C,YACR8hC,EAAUhmC,QAAQ,GAE1B,CAMA,EAAA8oC,CAAsB1nC,GAClB,MAAM4lC,EAAM5lC,EAAQmiC,QAAQ,sBACtBriC,EAAOG,QAA0B2lC,GAEvCvoC,OAAOsqC,OAAO7nC,EAAKsL,IAAKtL,EAAK8nC,MAAO9nC,EAAKf,KAC7C,CAMA,EAAA8oC,CAA0B7nC,GACtB,MAAM4lC,EAAM5lC,EAAQmiC,QAAQ,sBACtBriC,EAAOG,QAA0B2lC,GAEvCvoC,OAAOyqC,SAAShoC,EAAKsL,IAAKtL,EAAK8nC,MAAO9nC,EAAKf,KAAMe,EAAKwkC,aAC1D,CAMA,EAAAyD,CAAqB/nC,GACjB,MAAM4lC,EAAM5lC,EAAQmiC,QAAQ,sBACtBriC,EAAOG,QAA0B2lC,GAEvCvoC,OAAO2qC,QAAQloC,EAAKsL,IAAKtL,EAAK8nC,MAAO9nC,EAAKf,KAAMe,EAAKwkC,aACzD,CAMA,EAAA2D,CAAqBrC,GACjB,MAAM/5B,EAAS,CACXT,IAAKw6B,EAAInC,QAAQr4B,IACjBrM,KAAM6mC,EAAInC,QAAQ1kC,KAClBulC,aAAcsB,EAAInC,QAAQ7H,UAC1BgM,MAAO,IAGLM,EAAatC,EAAIjC,cAAc,iCAKrC,OAJmB,OAAfuE,IACAr8B,EAAO+7B,MAAQM,EAAWznC,OAGvBoL,CACX,CAEA,EAAA8X,CAAYwkB,EAAQC,GAChB7qC,EAAE,cAAe4qC,GAAQpc,MACrB,wBAAyBoc,EAAQ,mDAAqDC,EAAe,UAEzG5gC,iBAAmBjK,EAAE,gBAAiB4qC,GAAQX,QAAQ,IAAI,GAAK,IACnE,EC9ZJnqC,OAAOgrC,SAAW,IApDlB,MAEI3f,GAAU,CAAC,EAEXP,GAAoB,eACpBmgB,GAA0B,sBAE1B,IAAA9E,CAAKD,EAAS,MACK,OAAXA,GACAr3B,OAAO03B,OAAO3jC,QAAcsjC,YAG5BtjC,QAAa47B,oBAAgF,iBAApC57B,QAAa47B,qBACtE57B,QAAa47B,mBAAqB,IAAIzO,OAAOntB,QAAa47B,qBAG9Dp4B,SAAS4iC,iBAAiB,yBACtBpmC,KAAKsoC,eAAe,GAE5B,CAEA,aAAAA,GACItoC,KAAKuoC,qBACLvoC,KAAKwoC,qBACT,CAEA,kBAAAD,GACqB/kC,SAASilC,iBAAiBzoC,SAClC+T,SAAShU,IACsB,SAAhCA,EAAQyjC,QAAQC,aAGL,IAAIoB,EAAa7kC,SACvBujC,KAAKxjC,EAAQ,GAE9B,CAEA,mBAAAyoC,GACqBhlC,SAASilC,iBAAiBzoC,SAClC+T,SAAShU,IACsB,SAAhCA,EAAQyjC,QAAQC,aAGC,IAAIN,EAAenjC,SACzBujC,KAAKxjC,EAAQ,GAEpC,E","file":"files.min.js","sourcesContent":["/*! jQuery UI - v1.12.1+0b7246b6eeadfa9e2696e22f3230f6452f8129dc - 2020-02-20\n * http://jqueryui.com\n * Includes: widget.js\n * Copyright jQuery Foundation and other contributors; Licensed MIT */\n\n/* global define, require */\n/* eslint-disable no-param-reassign, new-cap, jsdoc/require-jsdoc */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS\n    factory(require('jquery'));\n  } else {\n    // Browser globals\n    factory(window.jQuery);\n  }\n})(function ($) {\n  ('use strict');\n\n  $.ui = $.ui || {};\n\n  $.ui.version = '1.12.1';\n\n  /*!\n   * jQuery UI Widget 1.12.1\n   * http://jqueryui.com\n   *\n   * Copyright jQuery Foundation and other contributors\n   * Released under the MIT license.\n   * http://jquery.org/license\n   */\n\n  //>>label: Widget\n  //>>group: Core\n  //>>description: Provides a factory for creating stateful widgets with a common API.\n  //>>docs: http://api.jqueryui.com/jQuery.widget/\n  //>>demos: http://jqueryui.com/widget/\n\n  // Support: jQuery 1.9.x or older\n  // $.expr[ \":\" ] is deprecated.\n  if (!$.expr.pseudos) {\n    $.expr.pseudos = $.expr[':'];\n  }\n\n  // Support: jQuery 1.11.x or older\n  // $.unique has been renamed to $.uniqueSort\n  if (!$.uniqueSort) {\n    $.uniqueSort = $.unique;\n  }\n\n  var widgetUuid = 0;\n  var widgetHasOwnProperty = Array.prototype.hasOwnProperty;\n  var widgetSlice = Array.prototype.slice;\n\n  $.cleanData = (function (orig) {\n    return function (elems) {\n      var events, elem, i;\n      // eslint-disable-next-line eqeqeq\n      for (i = 0; (elem = elems[i]) != null; i++) {\n        // Only trigger remove when necessary to save time\n        events = $._data(elem, 'events');\n        if (events && events.remove) {\n          $(elem).triggerHandler('remove');\n        }\n      }\n      orig(elems);\n    };\n  })($.cleanData);\n\n  $.widget = function (name, base, prototype) {\n    var existingConstructor, constructor, basePrototype;\n\n    // ProxiedPrototype allows the provided prototype to remain unmodified\n    // so that it can be used as a mixin for multiple widgets (#8876)\n    var proxiedPrototype = {};\n\n    var namespace = name.split('.')[0];\n    name = name.split('.')[1];\n    var fullName = namespace + '-' + name;\n\n    if (!prototype) {\n      prototype = base;\n      base = $.Widget;\n    }\n\n    if ($.isArray(prototype)) {\n      prototype = $.extend.apply(null, [{}].concat(prototype));\n    }\n\n    // Create selector for plugin\n    $.expr.pseudos[fullName.toLowerCase()] = function (elem) {\n      return !!$.data(elem, fullName);\n    };\n\n    $[namespace] = $[namespace] || {};\n    existingConstructor = $[namespace][name];\n    constructor = $[namespace][name] = function (options, element) {\n      // Allow instantiation without \"new\" keyword\n      if (!this._createWidget) {\n        return new constructor(options, element);\n      }\n\n      // Allow instantiation without initializing for simple inheritance\n      // must use \"new\" keyword (the code above always passes args)\n      if (arguments.length) {\n        this._createWidget(options, element);\n      }\n    };\n\n    // Extend with the existing constructor to carry over any static properties\n    $.extend(constructor, existingConstructor, {\n      version: prototype.version,\n\n      // Copy the object used to create the prototype in case we need to\n      // redefine the widget later\n      _proto: $.extend({}, prototype),\n\n      // Track widgets that inherit from this widget in case this widget is\n      // redefined after a widget inherits from it\n      _childConstructors: []\n    });\n\n    basePrototype = new base();\n\n    // We need to make the options hash a property directly on the new instance\n    // otherwise we'll modify the options hash on the prototype that we're\n    // inheriting from\n    basePrototype.options = $.widget.extend({}, basePrototype.options);\n    $.each(prototype, function (prop, value) {\n      if (!$.isFunction(value)) {\n        proxiedPrototype[prop] = value;\n        return;\n      }\n      proxiedPrototype[prop] = (function () {\n        function _super() {\n          return base.prototype[prop].apply(this, arguments);\n        }\n\n        function _superApply(args) {\n          return base.prototype[prop].apply(this, args);\n        }\n\n        return function () {\n          var __super = this._super;\n          var __superApply = this._superApply;\n          var returnValue;\n\n          this._super = _super;\n          this._superApply = _superApply;\n\n          returnValue = value.apply(this, arguments);\n\n          this._super = __super;\n          this._superApply = __superApply;\n\n          return returnValue;\n        };\n      })();\n    });\n    constructor.prototype = $.widget.extend(\n      basePrototype,\n      {\n        // TODO: remove support for widgetEventPrefix\n        // always use the name + a colon as the prefix, e.g., draggable:start\n        // don't prefix for widgets that aren't DOM-based\n        widgetEventPrefix: existingConstructor\n          ? basePrototype.widgetEventPrefix || name\n          : name\n      },\n      proxiedPrototype,\n      {\n        constructor: constructor,\n        namespace: namespace,\n        widgetName: name,\n        widgetFullName: fullName\n      }\n    );\n\n    // If this widget is being redefined then we need to find all widgets that\n    // are inheriting from it and redefine all of them so that they inherit from\n    // the new version of this widget. We're essentially trying to replace one\n    // level in the prototype chain.\n    if (existingConstructor) {\n      $.each(existingConstructor._childConstructors, function (i, child) {\n        var childPrototype = child.prototype;\n\n        // Redefine the child widget using the same prototype that was\n        // originally used, but inherit from the new version of the base\n        $.widget(\n          childPrototype.namespace + '.' + childPrototype.widgetName,\n          constructor,\n          child._proto\n        );\n      });\n\n      // Remove the list of existing child constructors from the old constructor\n      // so the old child constructors can be garbage collected\n      delete existingConstructor._childConstructors;\n    } else {\n      base._childConstructors.push(constructor);\n    }\n\n    $.widget.bridge(name, constructor);\n\n    return constructor;\n  };\n\n  $.widget.extend = function (target) {\n    var input = widgetSlice.call(arguments, 1);\n    var inputIndex = 0;\n    var inputLength = input.length;\n    var key;\n    var value;\n\n    for (; inputIndex < inputLength; inputIndex++) {\n      for (key in input[inputIndex]) {\n        value = input[inputIndex][key];\n        if (\n          widgetHasOwnProperty.call(input[inputIndex], key) &&\n          value !== undefined\n        ) {\n          // Clone objects\n          if ($.isPlainObject(value)) {\n            target[key] = $.isPlainObject(target[key])\n              ? $.widget.extend({}, target[key], value)\n              : // Don't extend strings, arrays, etc. with objects\n                $.widget.extend({}, value);\n\n            // Copy everything else by reference\n          } else {\n            target[key] = value;\n          }\n        }\n      }\n    }\n    return target;\n  };\n\n  $.widget.bridge = function (name, object) {\n    var fullName = object.prototype.widgetFullName || name;\n    $.fn[name] = function (options) {\n      var isMethodCall = typeof options === 'string';\n      var args = widgetSlice.call(arguments, 1);\n      var returnValue = this;\n\n      if (isMethodCall) {\n        // If this is an empty collection, we need to have the instance method\n        // return undefined instead of the jQuery instance\n        if (!this.length && options === 'instance') {\n          returnValue = undefined;\n        } else {\n          this.each(function () {\n            var methodValue;\n            var instance = $.data(this, fullName);\n\n            if (options === 'instance') {\n              returnValue = instance;\n              return false;\n            }\n\n            if (!instance) {\n              return $.error(\n                'cannot call methods on ' +\n                  name +\n                  ' prior to initialization; ' +\n                  \"attempted to call method '\" +\n                  options +\n                  \"'\"\n              );\n            }\n\n            if (!$.isFunction(instance[options]) || options.charAt(0) === '_') {\n              return $.error(\n                \"no such method '\" +\n                  options +\n                  \"' for \" +\n                  name +\n                  ' widget instance'\n              );\n            }\n\n            methodValue = instance[options].apply(instance, args);\n\n            if (methodValue !== instance && methodValue !== undefined) {\n              returnValue =\n                methodValue && methodValue.jquery\n                  ? returnValue.pushStack(methodValue.get())\n                  : methodValue;\n              return false;\n            }\n          });\n        }\n      } else {\n        // Allow multiple hashes to be passed on init\n        if (args.length) {\n          options = $.widget.extend.apply(null, [options].concat(args));\n        }\n\n        this.each(function () {\n          var instance = $.data(this, fullName);\n          if (instance) {\n            instance.option(options || {});\n            if (instance._init) {\n              instance._init();\n            }\n          } else {\n            $.data(this, fullName, new object(options, this));\n          }\n        });\n      }\n\n      return returnValue;\n    };\n  };\n\n  $.Widget = function (/* options, element */) {};\n  $.Widget._childConstructors = [];\n\n  $.Widget.prototype = {\n    widgetName: 'widget',\n    widgetEventPrefix: '',\n    defaultElement: '<div>',\n\n    options: {\n      classes: {},\n      disabled: false,\n\n      // Callbacks\n      create: null\n    },\n\n    _createWidget: function (options, element) {\n      element = $(element || this.defaultElement || this)[0];\n      this.element = $(element);\n      this.uuid = widgetUuid++;\n      this.eventNamespace = '.' + this.widgetName + this.uuid;\n\n      this.bindings = $();\n      this.hoverable = $();\n      this.focusable = $();\n      this.classesElementLookup = {};\n\n      if (element !== this) {\n        $.data(element, this.widgetFullName, this);\n        this._on(true, this.element, {\n          remove: function (event) {\n            if (event.target === element) {\n              this.destroy();\n            }\n          }\n        });\n        this.document = $(\n          element.style\n            ? // Element within the document\n              element.ownerDocument\n            : // Element is window or document\n              element.document || element\n        );\n        this.window = $(\n          this.document[0].defaultView || this.document[0].parentWindow\n        );\n      }\n\n      this.options = $.widget.extend(\n        {},\n        this.options,\n        this._getCreateOptions(),\n        options\n      );\n\n      this._create();\n\n      if (this.options.disabled) {\n        this._setOptionDisabled(this.options.disabled);\n      }\n\n      this._trigger('create', null, this._getCreateEventData());\n      this._init();\n    },\n\n    _getCreateOptions: function () {\n      return {};\n    },\n\n    _getCreateEventData: $.noop,\n\n    _create: $.noop,\n\n    _init: $.noop,\n\n    destroy: function () {\n      var that = this;\n\n      this._destroy();\n      $.each(this.classesElementLookup, function (key, value) {\n        that._removeClass(value, key);\n      });\n\n      // We can probably remove the unbind calls in 2.0\n      // all event bindings should go through this._on()\n      this.element.off(this.eventNamespace).removeData(this.widgetFullName);\n      this.widget().off(this.eventNamespace).removeAttr('aria-disabled');\n\n      // Clean up events and states\n      this.bindings.off(this.eventNamespace);\n    },\n\n    _destroy: $.noop,\n\n    widget: function () {\n      return this.element;\n    },\n\n    option: function (key, value) {\n      var options = key;\n      var parts;\n      var curOption;\n      var i;\n\n      if (arguments.length === 0) {\n        // Don't return a reference to the internal hash\n        return $.widget.extend({}, this.options);\n      }\n\n      if (typeof key === 'string') {\n        // Handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n        options = {};\n        parts = key.split('.');\n        key = parts.shift();\n        if (parts.length) {\n          curOption = options[key] = $.widget.extend({}, this.options[key]);\n          for (i = 0; i < parts.length - 1; i++) {\n            curOption[parts[i]] = curOption[parts[i]] || {};\n            curOption = curOption[parts[i]];\n          }\n          key = parts.pop();\n          if (arguments.length === 1) {\n            return curOption[key] === undefined ? null : curOption[key];\n          }\n          curOption[key] = value;\n        } else {\n          if (arguments.length === 1) {\n            return this.options[key] === undefined ? null : this.options[key];\n          }\n          options[key] = value;\n        }\n      }\n\n      this._setOptions(options);\n\n      return this;\n    },\n\n    _setOptions: function (options) {\n      var key;\n\n      for (key in options) {\n        this._setOption(key, options[key]);\n      }\n\n      return this;\n    },\n\n    _setOption: function (key, value) {\n      if (key === 'classes') {\n        this._setOptionClasses(value);\n      }\n\n      this.options[key] = value;\n\n      if (key === 'disabled') {\n        this._setOptionDisabled(value);\n      }\n\n      return this;\n    },\n\n    _setOptionClasses: function (value) {\n      var classKey, elements, currentElements;\n\n      for (classKey in value) {\n        currentElements = this.classesElementLookup[classKey];\n        if (\n          value[classKey] === this.options.classes[classKey] ||\n          !currentElements ||\n          !currentElements.length\n        ) {\n          continue;\n        }\n\n        // We are doing this to create a new jQuery object because the _removeClass() call\n        // on the next line is going to destroy the reference to the current elements being\n        // tracked. We need to save a copy of this collection so that we can add the new classes\n        // below.\n        elements = $(currentElements.get());\n        this._removeClass(currentElements, classKey);\n\n        // We don't use _addClass() here, because that uses this.options.classes\n        // for generating the string of classes. We want to use the value passed in from\n        // _setOption(), this is the new value of the classes option which was passed to\n        // _setOption(). We pass this value directly to _classes().\n        elements.addClass(\n          this._classes({\n            element: elements,\n            keys: classKey,\n            classes: value,\n            add: true\n          })\n        );\n      }\n    },\n\n    _setOptionDisabled: function (value) {\n      this._toggleClass(\n        this.widget(),\n        this.widgetFullName + '-disabled',\n        null,\n        !!value\n      );\n\n      // If the widget is becoming disabled, then nothing is interactive\n      if (value) {\n        this._removeClass(this.hoverable, null, 'ui-state-hover');\n        this._removeClass(this.focusable, null, 'ui-state-focus');\n      }\n    },\n\n    enable: function () {\n      return this._setOptions({ disabled: false });\n    },\n\n    disable: function () {\n      return this._setOptions({ disabled: true });\n    },\n\n    _classes: function (options) {\n      var full = [];\n      var that = this;\n\n      options = $.extend(\n        {\n          element: this.element,\n          classes: this.options.classes || {}\n        },\n        options\n      );\n\n      function bindRemoveEvent() {\n        options.element.each(function (_, element) {\n          var isTracked = $.map(that.classesElementLookup, function (elements) {\n            return elements;\n          }).some(function (elements) {\n            return elements.is(element);\n          });\n\n          if (!isTracked) {\n            that._on($(element), {\n              remove: '_untrackClassesElement'\n            });\n          }\n        });\n      }\n\n      function processClassString(classes, checkOption) {\n        var current, i;\n        for (i = 0; i < classes.length; i++) {\n          current = that.classesElementLookup[classes[i]] || $();\n          if (options.add) {\n            bindRemoveEvent();\n            current = $(\n              $.uniqueSort(current.get().concat(options.element.get()))\n            );\n          } else {\n            current = $(current.not(options.element).get());\n          }\n          that.classesElementLookup[classes[i]] = current;\n          full.push(classes[i]);\n          if (checkOption && options.classes[classes[i]]) {\n            full.push(options.classes[classes[i]]);\n          }\n        }\n      }\n\n      if (options.keys) {\n        processClassString(options.keys.match(/\\S+/g) || [], true);\n      }\n      if (options.extra) {\n        processClassString(options.extra.match(/\\S+/g) || []);\n      }\n\n      return full.join(' ');\n    },\n\n    _untrackClassesElement: function (event) {\n      var that = this;\n      $.each(that.classesElementLookup, function (key, value) {\n        if ($.inArray(event.target, value) !== -1) {\n          that.classesElementLookup[key] = $(value.not(event.target).get());\n        }\n      });\n\n      this._off($(event.target));\n    },\n\n    _removeClass: function (element, keys, extra) {\n      return this._toggleClass(element, keys, extra, false);\n    },\n\n    _addClass: function (element, keys, extra) {\n      return this._toggleClass(element, keys, extra, true);\n    },\n\n    _toggleClass: function (element, keys, extra, add) {\n      add = typeof add === 'boolean' ? add : extra;\n      var shift = typeof element === 'string' || element === null,\n        options = {\n          extra: shift ? keys : extra,\n          keys: shift ? element : keys,\n          element: shift ? this.element : element,\n          add: add\n        };\n      options.element.toggleClass(this._classes(options), add);\n      return this;\n    },\n\n    _on: function (suppressDisabledCheck, element, handlers) {\n      var delegateElement;\n      var instance = this;\n\n      // No suppressDisabledCheck flag, shuffle arguments\n      if (typeof suppressDisabledCheck !== 'boolean') {\n        handlers = element;\n        element = suppressDisabledCheck;\n        suppressDisabledCheck = false;\n      }\n\n      // No element argument, shuffle and use this.element\n      if (!handlers) {\n        handlers = element;\n        element = this.element;\n        delegateElement = this.widget();\n      } else {\n        element = delegateElement = $(element);\n        this.bindings = this.bindings.add(element);\n      }\n\n      $.each(handlers, function (event, handler) {\n        function handlerProxy() {\n          // Allow widgets to customize the disabled handling\n          // - disabled as an array instead of boolean\n          // - disabled class as method for disabling individual parts\n          if (\n            !suppressDisabledCheck &&\n            (instance.options.disabled === true ||\n              $(this).hasClass('ui-state-disabled'))\n          ) {\n            return;\n          }\n          return (\n            typeof handler === 'string' ? instance[handler] : handler\n          ).apply(instance, arguments);\n        }\n\n        // Copy the guid so direct unbinding works\n        if (typeof handler !== 'string') {\n          handlerProxy.guid = handler.guid =\n            handler.guid || handlerProxy.guid || $.guid++;\n        }\n\n        var match = event.match(/^([\\w:-]*)\\s*(.*)$/);\n        var eventName = match[1] + instance.eventNamespace;\n        var selector = match[2];\n\n        if (selector) {\n          delegateElement.on(eventName, selector, handlerProxy);\n        } else {\n          element.on(eventName, handlerProxy);\n        }\n      });\n    },\n\n    _off: function (element, eventName) {\n      eventName =\n        (eventName || '').split(' ').join(this.eventNamespace + ' ') +\n        this.eventNamespace;\n      element.off(eventName);\n\n      // Clear the stack to avoid memory leaks (#10056)\n      this.bindings = $(this.bindings.not(element).get());\n      this.focusable = $(this.focusable.not(element).get());\n      this.hoverable = $(this.hoverable.not(element).get());\n    },\n\n    _delay: function (handler, delay) {\n      var instance = this;\n      function handlerProxy() {\n        return (\n          typeof handler === 'string' ? instance[handler] : handler\n        ).apply(instance, arguments);\n      }\n      return setTimeout(handlerProxy, delay || 0);\n    },\n\n    _hoverable: function (element) {\n      this.hoverable = this.hoverable.add(element);\n      this._on(element, {\n        mouseenter: function (event) {\n          this._addClass($(event.currentTarget), null, 'ui-state-hover');\n        },\n        mouseleave: function (event) {\n          this._removeClass($(event.currentTarget), null, 'ui-state-hover');\n        }\n      });\n    },\n\n    _focusable: function (element) {\n      this.focusable = this.focusable.add(element);\n      this._on(element, {\n        focusin: function (event) {\n          this._addClass($(event.currentTarget), null, 'ui-state-focus');\n        },\n        focusout: function (event) {\n          this._removeClass($(event.currentTarget), null, 'ui-state-focus');\n        }\n      });\n    },\n\n    _trigger: function (type, event, data) {\n      var prop, orig;\n      var callback = this.options[type];\n\n      data = data || {};\n      event = $.Event(event);\n      event.type = (\n        type === this.widgetEventPrefix ? type : this.widgetEventPrefix + type\n      ).toLowerCase();\n\n      // The original event may come from any element\n      // so we need to reset the target on the new event\n      event.target = this.element[0];\n\n      // Copy original event properties over to the new event\n      orig = event.originalEvent;\n      if (orig) {\n        for (prop in orig) {\n          if (!(prop in event)) {\n            event[prop] = orig[prop];\n          }\n        }\n      }\n\n      this.element.trigger(event, data);\n      return !(\n        ($.isFunction(callback) &&\n          callback.apply(this.element[0], [event].concat(data)) === false) ||\n        event.isDefaultPrevented()\n      );\n    }\n  };\n\n  $.each({ show: 'fadeIn', hide: 'fadeOut' }, function (method, defaultEffect) {\n    $.Widget.prototype['_' + method] = function (element, options, callback) {\n      if (typeof options === 'string') {\n        options = { effect: options };\n      }\n\n      var hasOptions;\n      var effectName = !options\n        ? method\n        : options === true || typeof options === 'number'\n        ? defaultEffect\n        : options.effect || defaultEffect;\n\n      options = options || {};\n      if (typeof options === 'number') {\n        options = { duration: options };\n      }\n\n      hasOptions = !$.isEmptyObject(options);\n      options.complete = callback;\n\n      if (options.delay) {\n        element.delay(options.delay);\n      }\n\n      if (hasOptions && $.effects && $.effects.effect[effectName]) {\n        element[method](options);\n      } else if (effectName !== method && element[effectName]) {\n        element[effectName](options.duration, options.easing, callback);\n      } else {\n        element.queue(function (next) {\n          $(this)[method]();\n          if (callback) {\n            callback.call(element[0]);\n          }\n          next();\n        });\n      }\n    };\n  });\n});\n","/*\n * JavaScript Templates\n * https://github.com/blueimp/JavaScript-Templates\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Inspired by John Resig's JavaScript Micro-Templating:\n * http://ejohn.org/blog/javascript-micro-templating/\n */\n\n/* global define */\n\n/* eslint-disable strict */\n\n;(function ($) {\n  'use strict'\n  var tmpl = function (str, data) {\n    var f = !/[^\\w\\-.:]/.test(str)\n      ? (tmpl.cache[str] = tmpl.cache[str] || tmpl(tmpl.load(str)))\n      : new Function( // eslint-disable-line no-new-func\n          tmpl.arg + ',tmpl',\n          'var _e=tmpl.encode' +\n            tmpl.helper +\n            \",_s='\" +\n            str.replace(tmpl.regexp, tmpl.func) +\n            \"';return _s;\"\n        )\n    return data\n      ? f(data, tmpl)\n      : function (data) {\n          return f(data, tmpl)\n        }\n  }\n  tmpl.cache = {}\n  tmpl.load = function (id) {\n    return document.getElementById(id).innerHTML\n  }\n  tmpl.regexp =\n    /([\\s'\\\\])(?!(?:[^{]|\\{(?!%))*%\\})|(?:\\{%(=|#)([\\s\\S]+?)%\\})|(\\{%)|(%\\})/g\n  tmpl.func = function (s, p1, p2, p3, p4, p5) {\n    if (p1) {\n      // whitespace, quote and backspace in HTML context\n      return (\n        {\n          '\\n': '\\\\n',\n          '\\r': '\\\\r',\n          '\\t': '\\\\t',\n          ' ': ' '\n        }[p1] || '\\\\' + p1\n      )\n    }\n    if (p2) {\n      // interpolation: {%=prop%}, or unescaped: {%#prop%}\n      if (p2 === '=') {\n        return \"'+_e(\" + p3 + \")+'\"\n      }\n      return \"'+(\" + p3 + \"==null?'':\" + p3 + \")+'\"\n    }\n    if (p4) {\n      // evaluation start tag: {%\n      return \"';\"\n    }\n    if (p5) {\n      // evaluation end tag: %}\n      return \"_s+='\"\n    }\n  }\n  tmpl.encReg = /[<>&\"'\\x00]/g // eslint-disable-line no-control-regex\n  tmpl.encMap = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '&': '&amp;',\n    '\"': '&quot;',\n    \"'\": '&#39;'\n  }\n  tmpl.encode = function (s) {\n    // eslint-disable-next-line eqeqeq\n    return (s == null ? '' : '' + s).replace(tmpl.encReg, function (c) {\n      return tmpl.encMap[c] || ''\n    })\n  }\n  tmpl.arg = 'o'\n  tmpl.helper =\n    \",print=function(s,e){_s+=e?(s==null?'':s):_e(s);}\" +\n    ',include=function(s,d){_s+=tmpl(s,d);}'\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return tmpl\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = tmpl\n  } else {\n    $.tmpl = tmpl\n  }\n})(this)\n","/*\r\n * JavaScript Load Image\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, Promise */\r\n\r\n;(function ($) {\r\n  'use strict'\r\n\r\n  var urlAPI = $.URL || $.webkitURL\r\n\r\n  /**\r\n   * Creates an object URL for a given File object.\r\n   *\r\n   * @param {Blob} blob Blob object\r\n   * @returns {string|boolean} Returns object URL if API exists, else false.\r\n   */\r\n  function createObjectURL(blob) {\r\n    return urlAPI ? urlAPI.createObjectURL(blob) : false\r\n  }\r\n\r\n  /**\r\n   * Revokes a given object URL.\r\n   *\r\n   * @param {string} url Blob object URL\r\n   * @returns {undefined|boolean} Returns undefined if API exists, else false.\r\n   */\r\n  function revokeObjectURL(url) {\r\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false\r\n  }\r\n\r\n  /**\r\n   * Helper function to revoke an object URL\r\n   *\r\n   * @param {string} url Blob Object URL\r\n   * @param {object} [options] Options object\r\n   */\r\n  function revokeHelper(url, options) {\r\n    if (url && url.slice(0, 5) === 'blob:' && !(options && options.noRevoke)) {\r\n      revokeObjectURL(url)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Loads a given File object via FileReader interface.\r\n   *\r\n   * @param {Blob} file Blob object\r\n   * @param {Function} onload Load event callback\r\n   * @param {Function} [onerror] Error/Abort event callback\r\n   * @param {string} [method=readAsDataURL] FileReader method\r\n   * @returns {FileReader|boolean} Returns FileReader if API exists, else false.\r\n   */\r\n  function readFile(file, onload, onerror, method) {\r\n    if (!$.FileReader) return false\r\n    var reader = new FileReader()\r\n    reader.onload = function () {\r\n      onload.call(reader, this.result)\r\n    }\r\n    if (onerror) {\r\n      reader.onabort = reader.onerror = function () {\r\n        onerror.call(reader, this.error)\r\n      }\r\n    }\r\n    var readerMethod = reader[method || 'readAsDataURL']\r\n    if (readerMethod) {\r\n      readerMethod.call(reader, file)\r\n      return reader\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Cross-frame instanceof check.\r\n   *\r\n   * @param {string} type Instance type\r\n   * @param {object} obj Object instance\r\n   * @returns {boolean} Returns true if the object is of the given instance.\r\n   */\r\n  function isInstanceOf(type, obj) {\r\n    // Cross-frame instanceof check\r\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']'\r\n  }\r\n\r\n  /**\r\n   * @typedef { HTMLImageElement|HTMLCanvasElement } Result\r\n   */\r\n\r\n  /**\r\n   * Loads an image for a given File object.\r\n   *\r\n   * @param {Blob|string} file Blob object or image URL\r\n   * @param {Function|object} [callback] Image load event callback or options\r\n   * @param {object} [options] Options object\r\n   * @returns {HTMLImageElement|FileReader|Promise<Result>} Object\r\n   */\r\n  function loadImage(file, callback, options) {\r\n    /**\r\n     * Promise executor\r\n     *\r\n     * @param {Function} resolve Resolution function\r\n     * @param {Function} reject Rejection function\r\n     * @returns {HTMLImageElement|FileReader} Object\r\n     */\r\n    function executor(resolve, reject) {\r\n      var img = document.createElement('img')\r\n      var url\r\n      /**\r\n       * Callback for the fetchBlob call.\r\n       *\r\n       * @param {HTMLImageElement|HTMLCanvasElement} img Error object\r\n       * @param {object} data Data object\r\n       * @returns {undefined} Undefined\r\n       */\r\n      function resolveWrapper(img, data) {\r\n        if (resolve === reject) {\r\n          // Not using Promises\r\n          if (resolve) resolve(img, data)\r\n          return\r\n        } else if (img instanceof Error) {\r\n          reject(img)\r\n          return\r\n        }\r\n        data = data || {} // eslint-disable-line no-param-reassign\r\n        data.image = img\r\n        resolve(data)\r\n      }\r\n      /**\r\n       * Callback for the fetchBlob call.\r\n       *\r\n       * @param {Blob} blob Blob object\r\n       * @param {Error} err Error object\r\n       */\r\n      function fetchBlobCallback(blob, err) {\r\n        if (err && $.console) console.log(err) // eslint-disable-line no-console\r\n        if (blob && isInstanceOf('Blob', blob)) {\r\n          file = blob // eslint-disable-line no-param-reassign\r\n          url = createObjectURL(file)\r\n        } else {\r\n          url = file\r\n          if (options && options.crossOrigin) {\r\n            img.crossOrigin = options.crossOrigin\r\n          }\r\n        }\r\n        img.src = url\r\n      }\r\n      img.onerror = function (event) {\r\n        revokeHelper(url, options)\r\n        if (reject) reject.call(img, event)\r\n      }\r\n      img.onload = function () {\r\n        revokeHelper(url, options)\r\n        var data = {\r\n          originalWidth: img.naturalWidth || img.width,\r\n          originalHeight: img.naturalHeight || img.height\r\n        }\r\n        try {\r\n          loadImage.transform(img, options, resolveWrapper, file, data)\r\n        } catch (error) {\r\n          if (reject) reject(error)\r\n        }\r\n      }\r\n      if (typeof file === 'string') {\r\n        if (loadImage.requiresMetaData(options)) {\r\n          loadImage.fetchBlob(file, fetchBlobCallback, options)\r\n        } else {\r\n          fetchBlobCallback()\r\n        }\r\n        return img\r\n      } else if (isInstanceOf('Blob', file) || isInstanceOf('File', file)) {\r\n        url = createObjectURL(file)\r\n        if (url) {\r\n          img.src = url\r\n          return img\r\n        }\r\n        return readFile(\r\n          file,\r\n          function (url) {\r\n            img.src = url\r\n          },\r\n          reject\r\n        )\r\n      }\r\n    }\r\n    if ($.Promise && typeof callback !== 'function') {\r\n      options = callback // eslint-disable-line no-param-reassign\r\n      return new Promise(executor)\r\n    }\r\n    return executor(callback, callback)\r\n  }\r\n\r\n  // Determines if metadata should be loaded automatically.\r\n  // Requires the load image meta extension to load metadata.\r\n  loadImage.requiresMetaData = function (options) {\r\n    return options && options.meta\r\n  }\r\n\r\n  // If the callback given to this function returns a blob, it is used as image\r\n  // source instead of the original url and overrides the file argument used in\r\n  // the onload and onerror event callbacks:\r\n  loadImage.fetchBlob = function (url, callback) {\r\n    callback()\r\n  }\r\n\r\n  loadImage.transform = function (img, options, callback, file, data) {\r\n    callback(img, data)\r\n  }\r\n\r\n  loadImage.global = $\r\n  loadImage.readFile = readFile\r\n  loadImage.isInstanceOf = isInstanceOf\r\n  loadImage.createObjectURL = createObjectURL\r\n  loadImage.revokeObjectURL = revokeObjectURL\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function () {\r\n      return loadImage\r\n    })\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    module.exports = loadImage\r\n  } else {\r\n    $.loadImage = loadImage\r\n  }\r\n})((typeof window !== 'undefined' && window) || this)\r\n","/*\r\n * JavaScript Load Image Scaling\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2011, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var originalTransform = loadImage.transform\r\n\r\n  loadImage.createCanvas = function (width, height, offscreen) {\r\n    if (offscreen && loadImage.global.OffscreenCanvas) {\r\n      return new OffscreenCanvas(width, height)\r\n    }\r\n    var canvas = document.createElement('canvas')\r\n    canvas.width = width\r\n    canvas.height = height\r\n    return canvas\r\n  }\r\n\r\n  loadImage.transform = function (img, options, callback, file, data) {\r\n    originalTransform.call(\r\n      loadImage,\r\n      loadImage.scale(img, options, data),\r\n      options,\r\n      callback,\r\n      file,\r\n      data\r\n    )\r\n  }\r\n\r\n  // Transform image coordinates, allows to override e.g.\r\n  // the canvas orientation based on the orientation option,\r\n  // gets canvas, options and data passed as arguments:\r\n  loadImage.transformCoordinates = function () {}\r\n\r\n  // Returns transformed options, allows to override e.g.\r\n  // maxWidth, maxHeight and crop options based on the aspectRatio.\r\n  // gets img, options, data passed as arguments:\r\n  loadImage.getTransformedOptions = function (img, options) {\r\n    var aspectRatio = options.aspectRatio\r\n    var newOptions\r\n    var i\r\n    var width\r\n    var height\r\n    if (!aspectRatio) {\r\n      return options\r\n    }\r\n    newOptions = {}\r\n    for (i in options) {\r\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\r\n        newOptions[i] = options[i]\r\n      }\r\n    }\r\n    newOptions.crop = true\r\n    width = img.naturalWidth || img.width\r\n    height = img.naturalHeight || img.height\r\n    if (width / height > aspectRatio) {\r\n      newOptions.maxWidth = height * aspectRatio\r\n      newOptions.maxHeight = height\r\n    } else {\r\n      newOptions.maxWidth = width\r\n      newOptions.maxHeight = width / aspectRatio\r\n    }\r\n    return newOptions\r\n  }\r\n\r\n  // Canvas render method, allows to implement a different rendering algorithm:\r\n  loadImage.drawImage = function (\r\n    img,\r\n    canvas,\r\n    sourceX,\r\n    sourceY,\r\n    sourceWidth,\r\n    sourceHeight,\r\n    destWidth,\r\n    destHeight,\r\n    options\r\n  ) {\r\n    var ctx = canvas.getContext('2d')\r\n    if (options.imageSmoothingEnabled === false) {\r\n      ctx.msImageSmoothingEnabled = false\r\n      ctx.imageSmoothingEnabled = false\r\n    } else if (options.imageSmoothingQuality) {\r\n      ctx.imageSmoothingQuality = options.imageSmoothingQuality\r\n    }\r\n    ctx.drawImage(\r\n      img,\r\n      sourceX,\r\n      sourceY,\r\n      sourceWidth,\r\n      sourceHeight,\r\n      0,\r\n      0,\r\n      destWidth,\r\n      destHeight\r\n    )\r\n    return ctx\r\n  }\r\n\r\n  // Determines if the target image should be a canvas element:\r\n  loadImage.requiresCanvas = function (options) {\r\n    return options.canvas || options.crop || !!options.aspectRatio\r\n  }\r\n\r\n  // Scales and/or crops the given image (img or canvas HTML element)\r\n  // using the given options:\r\n  loadImage.scale = function (img, options, data) {\r\n    // eslint-disable-next-line no-param-reassign\r\n    options = options || {}\r\n    // eslint-disable-next-line no-param-reassign\r\n    data = data || {}\r\n    var useCanvas =\r\n      img.getContext ||\r\n      (loadImage.requiresCanvas(options) &&\r\n        !!loadImage.global.HTMLCanvasElement)\r\n    var width = img.naturalWidth || img.width\r\n    var height = img.naturalHeight || img.height\r\n    var destWidth = width\r\n    var destHeight = height\r\n    var maxWidth\r\n    var maxHeight\r\n    var minWidth\r\n    var minHeight\r\n    var sourceWidth\r\n    var sourceHeight\r\n    var sourceX\r\n    var sourceY\r\n    var pixelRatio\r\n    var downsamplingRatio\r\n    var tmp\r\n    var canvas\r\n    /**\r\n     * Scales up image dimensions\r\n     */\r\n    function scaleUp() {\r\n      var scale = Math.max(\r\n        (minWidth || destWidth) / destWidth,\r\n        (minHeight || destHeight) / destHeight\r\n      )\r\n      if (scale > 1) {\r\n        destWidth *= scale\r\n        destHeight *= scale\r\n      }\r\n    }\r\n    /**\r\n     * Scales down image dimensions\r\n     */\r\n    function scaleDown() {\r\n      var scale = Math.min(\r\n        (maxWidth || destWidth) / destWidth,\r\n        (maxHeight || destHeight) / destHeight\r\n      )\r\n      if (scale < 1) {\r\n        destWidth *= scale\r\n        destHeight *= scale\r\n      }\r\n    }\r\n    if (useCanvas) {\r\n      // eslint-disable-next-line no-param-reassign\r\n      options = loadImage.getTransformedOptions(img, options, data)\r\n      sourceX = options.left || 0\r\n      sourceY = options.top || 0\r\n      if (options.sourceWidth) {\r\n        sourceWidth = options.sourceWidth\r\n        if (options.right !== undefined && options.left === undefined) {\r\n          sourceX = width - sourceWidth - options.right\r\n        }\r\n      } else {\r\n        sourceWidth = width - sourceX - (options.right || 0)\r\n      }\r\n      if (options.sourceHeight) {\r\n        sourceHeight = options.sourceHeight\r\n        if (options.bottom !== undefined && options.top === undefined) {\r\n          sourceY = height - sourceHeight - options.bottom\r\n        }\r\n      } else {\r\n        sourceHeight = height - sourceY - (options.bottom || 0)\r\n      }\r\n      destWidth = sourceWidth\r\n      destHeight = sourceHeight\r\n    }\r\n    maxWidth = options.maxWidth\r\n    maxHeight = options.maxHeight\r\n    minWidth = options.minWidth\r\n    minHeight = options.minHeight\r\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\r\n      destWidth = maxWidth\r\n      destHeight = maxHeight\r\n      tmp = sourceWidth / sourceHeight - maxWidth / maxHeight\r\n      if (tmp < 0) {\r\n        sourceHeight = (maxHeight * sourceWidth) / maxWidth\r\n        if (options.top === undefined && options.bottom === undefined) {\r\n          sourceY = (height - sourceHeight) / 2\r\n        }\r\n      } else if (tmp > 0) {\r\n        sourceWidth = (maxWidth * sourceHeight) / maxHeight\r\n        if (options.left === undefined && options.right === undefined) {\r\n          sourceX = (width - sourceWidth) / 2\r\n        }\r\n      }\r\n    } else {\r\n      if (options.contain || options.cover) {\r\n        minWidth = maxWidth = maxWidth || minWidth\r\n        minHeight = maxHeight = maxHeight || minHeight\r\n      }\r\n      if (options.cover) {\r\n        scaleDown()\r\n        scaleUp()\r\n      } else {\r\n        scaleUp()\r\n        scaleDown()\r\n      }\r\n    }\r\n    if (useCanvas) {\r\n      pixelRatio = options.pixelRatio\r\n      if (\r\n        pixelRatio > 1 &&\r\n        // Check if the image has not yet had the device pixel ratio applied:\r\n        !(\r\n          img.style.width &&\r\n          Math.floor(parseFloat(img.style.width, 10)) ===\r\n            Math.floor(width / pixelRatio)\r\n        )\r\n      ) {\r\n        destWidth *= pixelRatio\r\n        destHeight *= pixelRatio\r\n      }\r\n      // Check if workaround for Chromium orientation crop bug is required:\r\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\r\n      if (\r\n        loadImage.orientationCropBug &&\r\n        !img.getContext &&\r\n        (sourceX || sourceY || sourceWidth !== width || sourceHeight !== height)\r\n      ) {\r\n        // Write the complete source image to an intermediate canvas first:\r\n        tmp = img\r\n        // eslint-disable-next-line no-param-reassign\r\n        img = loadImage.createCanvas(width, height, true)\r\n        loadImage.drawImage(\r\n          tmp,\r\n          img,\r\n          0,\r\n          0,\r\n          width,\r\n          height,\r\n          width,\r\n          height,\r\n          options\r\n        )\r\n      }\r\n      downsamplingRatio = options.downsamplingRatio\r\n      if (\r\n        downsamplingRatio > 0 &&\r\n        downsamplingRatio < 1 &&\r\n        destWidth < sourceWidth &&\r\n        destHeight < sourceHeight\r\n      ) {\r\n        while (sourceWidth * downsamplingRatio > destWidth) {\r\n          canvas = loadImage.createCanvas(\r\n            sourceWidth * downsamplingRatio,\r\n            sourceHeight * downsamplingRatio,\r\n            true\r\n          )\r\n          loadImage.drawImage(\r\n            img,\r\n            canvas,\r\n            sourceX,\r\n            sourceY,\r\n            sourceWidth,\r\n            sourceHeight,\r\n            canvas.width,\r\n            canvas.height,\r\n            options\r\n          )\r\n          sourceX = 0\r\n          sourceY = 0\r\n          sourceWidth = canvas.width\r\n          sourceHeight = canvas.height\r\n          // eslint-disable-next-line no-param-reassign\r\n          img = canvas\r\n        }\r\n      }\r\n      canvas = loadImage.createCanvas(destWidth, destHeight)\r\n      loadImage.transformCoordinates(canvas, options, data)\r\n      if (pixelRatio > 1) {\r\n        canvas.style.width = canvas.width / pixelRatio + 'px'\r\n      }\r\n      loadImage\r\n        .drawImage(\r\n          img,\r\n          canvas,\r\n          sourceX,\r\n          sourceY,\r\n          sourceWidth,\r\n          sourceHeight,\r\n          destWidth,\r\n          destHeight,\r\n          options\r\n        )\r\n        .setTransform(1, 0, 0, 1, 0, 0) // reset to the identity matrix\r\n      return canvas\r\n    }\r\n    img.width = destWidth\r\n    img.height = destHeight\r\n    return img\r\n  }\r\n})\r\n","/*\r\n * JavaScript Load Image Meta\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Image metadata handling implementation\r\n * based on the help and contribution of\r\n * Achim Sthr.\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require, Promise, DataView, Uint8Array, ArrayBuffer */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var global = loadImage.global\r\n  var originalTransform = loadImage.transform\r\n\r\n  var blobSlice =\r\n    global.Blob &&\r\n    (Blob.prototype.slice ||\r\n      Blob.prototype.webkitSlice ||\r\n      Blob.prototype.mozSlice)\r\n\r\n  var bufferSlice =\r\n    (global.ArrayBuffer && ArrayBuffer.prototype.slice) ||\r\n    function (begin, end) {\r\n      // Polyfill for IE10, which does not support ArrayBuffer.slice\r\n      // eslint-disable-next-line no-param-reassign\r\n      end = end || this.byteLength - begin\r\n      var arr1 = new Uint8Array(this, begin, end)\r\n      var arr2 = new Uint8Array(end)\r\n      arr2.set(arr1)\r\n      return arr2.buffer\r\n    }\r\n\r\n  var metaDataParsers = {\r\n    jpeg: {\r\n      0xffe1: [], // APP1 marker\r\n      0xffed: [] // APP13 marker\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Parses image metadata and calls the callback with an object argument\r\n   * with the following property:\r\n   * - imageHead: The complete image head as ArrayBuffer\r\n   * The options argument accepts an object and supports the following\r\n   * properties:\r\n   * - maxMetaDataSize: Defines the maximum number of bytes to parse.\r\n   * - disableImageHead: Disables creating the imageHead property.\r\n   *\r\n   * @param {Blob} file Blob object\r\n   * @param {Function} [callback] Callback function\r\n   * @param {object} [options] Parsing options\r\n   * @param {object} [data] Result data object\r\n   * @returns {Promise<object>|undefined} Returns Promise if no callback given.\r\n   */\r\n  function parseMetaData(file, callback, options, data) {\r\n    var that = this\r\n    /**\r\n     * Promise executor\r\n     *\r\n     * @param {Function} resolve Resolution function\r\n     * @param {Function} reject Rejection function\r\n     * @returns {undefined} Undefined\r\n     */\r\n    function executor(resolve, reject) {\r\n      if (\r\n        !(\r\n          global.DataView &&\r\n          blobSlice &&\r\n          file &&\r\n          file.size >= 12 &&\r\n          file.type === 'image/jpeg'\r\n        )\r\n      ) {\r\n        // Nothing to parse\r\n        return resolve(data)\r\n      }\r\n      // 256 KiB should contain all EXIF/ICC/IPTC segments:\r\n      var maxMetaDataSize = options.maxMetaDataSize || 262144\r\n      if (\r\n        !loadImage.readFile(\r\n          blobSlice.call(file, 0, maxMetaDataSize),\r\n          function (buffer) {\r\n            // Note on endianness:\r\n            // Since the marker and length bytes in JPEG files are always\r\n            // stored in big endian order, we can leave the endian parameter\r\n            // of the DataView methods undefined, defaulting to big endian.\r\n            var dataView = new DataView(buffer)\r\n            // Check for the JPEG marker (0xffd8):\r\n            if (dataView.getUint16(0) !== 0xffd8) {\r\n              return reject(\r\n                new Error('Invalid JPEG file: Missing JPEG marker.')\r\n              )\r\n            }\r\n            var offset = 2\r\n            var maxOffset = dataView.byteLength - 4\r\n            var headLength = offset\r\n            var markerBytes\r\n            var markerLength\r\n            var parsers\r\n            var i\r\n            while (offset < maxOffset) {\r\n              markerBytes = dataView.getUint16(offset)\r\n              // Search for APPn (0xffeN) and COM (0xfffe) markers,\r\n              // which contain application-specific metadata like\r\n              // Exif, ICC and IPTC data and text comments:\r\n              if (\r\n                (markerBytes >= 0xffe0 && markerBytes <= 0xffef) ||\r\n                markerBytes === 0xfffe\r\n              ) {\r\n                // The marker bytes (2) are always followed by\r\n                // the length bytes (2), indicating the length of the\r\n                // marker segment, which includes the length bytes,\r\n                // but not the marker bytes, so we add 2:\r\n                markerLength = dataView.getUint16(offset + 2) + 2\r\n                if (offset + markerLength > dataView.byteLength) {\r\n                  // eslint-disable-next-line no-console\r\n                  console.log('Invalid JPEG metadata: Invalid segment size.')\r\n                  break\r\n                }\r\n                parsers = metaDataParsers.jpeg[markerBytes]\r\n                if (parsers && !options.disableMetaDataParsers) {\r\n                  for (i = 0; i < parsers.length; i += 1) {\r\n                    parsers[i].call(\r\n                      that,\r\n                      dataView,\r\n                      offset,\r\n                      markerLength,\r\n                      data,\r\n                      options\r\n                    )\r\n                  }\r\n                }\r\n                offset += markerLength\r\n                headLength = offset\r\n              } else {\r\n                // Not an APPn or COM marker, probably safe to\r\n                // assume that this is the end of the metadata\r\n                break\r\n              }\r\n            }\r\n            // Meta length must be longer than JPEG marker (2)\r\n            // plus APPn marker (2), followed by length bytes (2):\r\n            if (!options.disableImageHead && headLength > 6) {\r\n              data.imageHead = bufferSlice.call(buffer, 0, headLength)\r\n            }\r\n            resolve(data)\r\n          },\r\n          reject,\r\n          'readAsArrayBuffer'\r\n        )\r\n      ) {\r\n        // No support for the FileReader interface, nothing to parse\r\n        resolve(data)\r\n      }\r\n    }\r\n    options = options || {} // eslint-disable-line no-param-reassign\r\n    if (global.Promise && typeof callback !== 'function') {\r\n      options = callback || {} // eslint-disable-line no-param-reassign\r\n      data = options // eslint-disable-line no-param-reassign\r\n      return new Promise(executor)\r\n    }\r\n    data = data || {} // eslint-disable-line no-param-reassign\r\n    return executor(callback, callback)\r\n  }\r\n\r\n  /**\r\n   * Replaces the head of a JPEG Blob\r\n   *\r\n   * @param {Blob} blob Blob object\r\n   * @param {ArrayBuffer} oldHead Old JPEG head\r\n   * @param {ArrayBuffer} newHead New JPEG head\r\n   * @returns {Blob} Combined Blob\r\n   */\r\n  function replaceJPEGHead(blob, oldHead, newHead) {\r\n    if (!blob || !oldHead || !newHead) return null\r\n    return new Blob([newHead, blobSlice.call(blob, oldHead.byteLength)], {\r\n      type: 'image/jpeg'\r\n    })\r\n  }\r\n\r\n  /**\r\n   * Replaces the image head of a JPEG blob with the given one.\r\n   * Returns a Promise or calls the callback with the new Blob.\r\n   *\r\n   * @param {Blob} blob Blob object\r\n   * @param {ArrayBuffer} head New JPEG head\r\n   * @param {Function} [callback] Callback function\r\n   * @returns {Promise<Blob|null>|undefined} Combined Blob\r\n   */\r\n  function replaceHead(blob, head, callback) {\r\n    var options = { maxMetaDataSize: 1024, disableMetaDataParsers: true }\r\n    if (!callback && global.Promise) {\r\n      return parseMetaData(blob, options).then(function (data) {\r\n        return replaceJPEGHead(blob, data.imageHead, head)\r\n      })\r\n    }\r\n    parseMetaData(\r\n      blob,\r\n      function (data) {\r\n        callback(replaceJPEGHead(blob, data.imageHead, head))\r\n      },\r\n      options\r\n    )\r\n  }\r\n\r\n  loadImage.transform = function (img, options, callback, file, data) {\r\n    if (loadImage.requiresMetaData(options)) {\r\n      data = data || {} // eslint-disable-line no-param-reassign\r\n      parseMetaData(\r\n        file,\r\n        function (result) {\r\n          if (result !== data) {\r\n            // eslint-disable-next-line no-console\r\n            if (global.console) console.log(result)\r\n            result = data // eslint-disable-line no-param-reassign\r\n          }\r\n          originalTransform.call(\r\n            loadImage,\r\n            img,\r\n            options,\r\n            callback,\r\n            file,\r\n            result\r\n          )\r\n        },\r\n        options,\r\n        data\r\n      )\r\n    } else {\r\n      originalTransform.apply(loadImage, arguments)\r\n    }\r\n  }\r\n\r\n  loadImage.blobSlice = blobSlice\r\n  loadImage.bufferSlice = bufferSlice\r\n  loadImage.replaceHead = replaceHead\r\n  loadImage.parseMetaData = parseMetaData\r\n  loadImage.metaDataParsers = metaDataParsers\r\n})\r\n","/*\r\n * JavaScript Load Image Fetch\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2017, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require, Promise */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var global = loadImage.global\r\n\r\n  if (\r\n    global.fetch &&\r\n    global.Request &&\r\n    global.Response &&\r\n    global.Response.prototype.blob\r\n  ) {\r\n    loadImage.fetchBlob = function (url, callback, options) {\r\n      /**\r\n       * Fetch response handler.\r\n       *\r\n       * @param {Response} response Fetch response\r\n       * @returns {Blob} Fetched Blob.\r\n       */\r\n      function responseHandler(response) {\r\n        return response.blob()\r\n      }\r\n      if (global.Promise && typeof callback !== 'function') {\r\n        return fetch(new Request(url, callback)).then(responseHandler)\r\n      }\r\n      fetch(new Request(url, options))\r\n        .then(responseHandler)\r\n        .then(callback)\r\n        [\r\n          // Avoid parsing error in IE<9, where catch is a reserved word.\r\n          // eslint-disable-next-line dot-notation\r\n          'catch'\r\n        ](function (err) {\r\n          callback(null, err)\r\n        })\r\n    }\r\n  } else if (\r\n    global.XMLHttpRequest &&\r\n    // https://xhr.spec.whatwg.org/#the-responsetype-attribute\r\n    new XMLHttpRequest().responseType === ''\r\n  ) {\r\n    loadImage.fetchBlob = function (url, callback, options) {\r\n      /**\r\n       * Promise executor\r\n       *\r\n       * @param {Function} resolve Resolution function\r\n       * @param {Function} reject Rejection function\r\n       */\r\n      function executor(resolve, reject) {\r\n        options = options || {} // eslint-disable-line no-param-reassign\r\n        var req = new XMLHttpRequest()\r\n        req.open(options.method || 'GET', url)\r\n        if (options.headers) {\r\n          Object.keys(options.headers).forEach(function (key) {\r\n            req.setRequestHeader(key, options.headers[key])\r\n          })\r\n        }\r\n        req.withCredentials = options.credentials === 'include'\r\n        req.responseType = 'blob'\r\n        req.onload = function () {\r\n          resolve(req.response)\r\n        }\r\n        req.onerror =\r\n          req.onabort =\r\n          req.ontimeout =\r\n            function (err) {\r\n              if (resolve === reject) {\r\n                // Not using Promises\r\n                reject(null, err)\r\n              } else {\r\n                reject(err)\r\n              }\r\n            }\r\n        req.send(options.body)\r\n      }\r\n      if (global.Promise && typeof callback !== 'function') {\r\n        options = callback // eslint-disable-line no-param-reassign\r\n        return new Promise(executor)\r\n      }\r\n      return executor(callback, callback)\r\n    }\r\n  }\r\n})\r\n","/*\r\n * JavaScript Load Image Orientation\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/*\r\nExif orientation values to correctly display the letter F:\r\n\r\n    1             2\r\n          \r\n                  \r\n              \r\n                  \r\n                  \r\n\r\n    3             4\r\n              \r\n              \r\n            \r\n              \r\n          \r\n\r\n    5             6\r\n    \r\n            \r\n            \r\n\r\n    7             8\r\n            \r\n                \r\n            \r\n\r\n*/\r\n\r\n/* global define, module, require */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image', './load-image-scale', './load-image-meta'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(\r\n      require('./load-image'),\r\n      require('./load-image-scale'),\r\n      require('./load-image-meta')\r\n    )\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var originalTransform = loadImage.transform\r\n  var originalRequiresCanvas = loadImage.requiresCanvas\r\n  var originalRequiresMetaData = loadImage.requiresMetaData\r\n  var originalTransformCoordinates = loadImage.transformCoordinates\r\n  var originalGetTransformedOptions = loadImage.getTransformedOptions\r\n\r\n  ;(function ($) {\r\n    // Guard for non-browser environments (e.g. server-side rendering):\r\n    if (!$.global.document) return\r\n    // black+white 3x2 JPEG, with the following meta information set:\r\n    // - EXIF Orientation: 6 (Rotated 90 CCW)\r\n    // Image data layout (B=black, F=white):\r\n    // BFF\r\n    // BBB\r\n    var testImageURL =\r\n      'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\r\n      'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\r\n      'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\r\n      'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/x' +\r\n      'ABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAA' +\r\n      'AAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQ' +\r\n      'voP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXw' +\r\n      'H/9k='\r\n    var img = document.createElement('img')\r\n    img.onload = function () {\r\n      // Check if the browser supports automatic image orientation:\r\n      $.orientation = img.width === 2 && img.height === 3\r\n      if ($.orientation) {\r\n        var canvas = $.createCanvas(1, 1, true)\r\n        var ctx = canvas.getContext('2d')\r\n        ctx.drawImage(img, 1, 1, 1, 1, 0, 0, 1, 1)\r\n        // Check if the source image coordinates (sX, sY, sWidth, sHeight) are\r\n        // correctly applied to the auto-orientated image, which should result\r\n        // in a white opaque pixel (e.g. in Safari).\r\n        // Browsers that show a transparent pixel (e.g. Chromium) fail to crop\r\n        // auto-oriented images correctly and require a workaround, e.g.\r\n        // drawing the complete source image to an intermediate canvas first.\r\n        // See https://bugs.chromium.org/p/chromium/issues/detail?id=1074354\r\n        $.orientationCropBug =\r\n          ctx.getImageData(0, 0, 1, 1).data.toString() !== '255,255,255,255'\r\n      }\r\n    }\r\n    img.src = testImageURL\r\n  })(loadImage)\r\n\r\n  /**\r\n   * Determines if the orientation requires a canvas element.\r\n   *\r\n   * @param {object} [options] Options object\r\n   * @param {boolean} [withMetaData] Is metadata required for orientation\r\n   * @returns {boolean} Returns true if orientation requires canvas/meta\r\n   */\r\n  function requiresCanvasOrientation(options, withMetaData) {\r\n    var orientation = options && options.orientation\r\n    return (\r\n      // Exif orientation for browsers without automatic image orientation:\r\n      (orientation === true && !loadImage.orientation) ||\r\n      // Orientation reset for browsers with automatic image orientation:\r\n      (orientation === 1 && loadImage.orientation) ||\r\n      // Orientation to defined value, requires meta for orientation reset only:\r\n      ((!withMetaData || loadImage.orientation) &&\r\n        orientation > 1 &&\r\n        orientation < 9)\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Determines if the image requires an orientation change.\r\n   *\r\n   * @param {number} [orientation] Defined orientation value\r\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\r\n   * @returns {boolean} Returns true if an orientation change is required\r\n   */\r\n  function requiresOrientationChange(orientation, autoOrientation) {\r\n    return (\r\n      orientation !== autoOrientation &&\r\n      ((orientation === 1 && autoOrientation > 1 && autoOrientation < 9) ||\r\n        (orientation > 1 && orientation < 9))\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Determines orientation combinations that require a rotation by 180.\r\n   *\r\n   * The following is a list of combinations that return true:\r\n   *\r\n   * 2 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\r\n   * 4 (flip) => 5 (rot90,flip), 7 (rot90,flip), 6 (rot90), 8 (rot90)\r\n   *\r\n   * 5 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\r\n   * 7 (rot90,flip) => 2 (flip), 4 (flip), 6 (rot90), 8 (rot90)\r\n   *\r\n   * 6 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\r\n   * 8 (rot90) => 2 (flip), 4 (flip), 5 (rot90,flip), 7 (rot90,flip)\r\n   *\r\n   * @param {number} [orientation] Defined orientation value\r\n   * @param {number} [autoOrientation] Auto-orientation based on Exif data\r\n   * @returns {boolean} Returns true if rotation by 180 is required\r\n   */\r\n  function requiresRot180(orientation, autoOrientation) {\r\n    if (autoOrientation > 1 && autoOrientation < 9) {\r\n      switch (orientation) {\r\n        case 2:\r\n        case 4:\r\n          return autoOrientation > 4\r\n        case 5:\r\n        case 7:\r\n          return autoOrientation % 2 === 0\r\n        case 6:\r\n        case 8:\r\n          return (\r\n            autoOrientation === 2 ||\r\n            autoOrientation === 4 ||\r\n            autoOrientation === 5 ||\r\n            autoOrientation === 7\r\n          )\r\n      }\r\n    }\r\n    return false\r\n  }\r\n\r\n  // Determines if the target image should be a canvas element:\r\n  loadImage.requiresCanvas = function (options) {\r\n    return (\r\n      requiresCanvasOrientation(options) ||\r\n      originalRequiresCanvas.call(loadImage, options)\r\n    )\r\n  }\r\n\r\n  // Determines if metadata should be loaded automatically:\r\n  loadImage.requiresMetaData = function (options) {\r\n    return (\r\n      requiresCanvasOrientation(options, true) ||\r\n      originalRequiresMetaData.call(loadImage, options)\r\n    )\r\n  }\r\n\r\n  loadImage.transform = function (img, options, callback, file, data) {\r\n    originalTransform.call(\r\n      loadImage,\r\n      img,\r\n      options,\r\n      function (img, data) {\r\n        if (data) {\r\n          var autoOrientation =\r\n            loadImage.orientation && data.exif && data.exif.get('Orientation')\r\n          if (autoOrientation > 4 && autoOrientation < 9) {\r\n            // Automatic image orientation switched image dimensions\r\n            var originalWidth = data.originalWidth\r\n            var originalHeight = data.originalHeight\r\n            data.originalWidth = originalHeight\r\n            data.originalHeight = originalWidth\r\n          }\r\n        }\r\n        callback(img, data)\r\n      },\r\n      file,\r\n      data\r\n    )\r\n  }\r\n\r\n  // Transforms coordinate and dimension options\r\n  // based on the given orientation option:\r\n  loadImage.getTransformedOptions = function (img, opts, data) {\r\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\r\n    var exifOrientation = data.exif && data.exif.get('Orientation')\r\n    var orientation = options.orientation\r\n    var autoOrientation = loadImage.orientation && exifOrientation\r\n    if (orientation === true) orientation = exifOrientation\r\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\r\n      return options\r\n    }\r\n    var top = options.top\r\n    var right = options.right\r\n    var bottom = options.bottom\r\n    var left = options.left\r\n    var newOptions = {}\r\n    for (var i in options) {\r\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\r\n        newOptions[i] = options[i]\r\n      }\r\n    }\r\n    newOptions.orientation = orientation\r\n    if (\r\n      (orientation > 4 && !(autoOrientation > 4)) ||\r\n      (orientation < 5 && autoOrientation > 4)\r\n    ) {\r\n      // Image dimensions and target dimensions are switched\r\n      newOptions.maxWidth = options.maxHeight\r\n      newOptions.maxHeight = options.maxWidth\r\n      newOptions.minWidth = options.minHeight\r\n      newOptions.minHeight = options.minWidth\r\n      newOptions.sourceWidth = options.sourceHeight\r\n      newOptions.sourceHeight = options.sourceWidth\r\n    }\r\n    if (autoOrientation > 1) {\r\n      // Browsers which correctly apply source image coordinates to\r\n      // auto-oriented images\r\n      switch (autoOrientation) {\r\n        case 2:\r\n          // Horizontal flip\r\n          right = options.left\r\n          left = options.right\r\n          break\r\n        case 3:\r\n          // 180 Rotate CCW\r\n          top = options.bottom\r\n          right = options.left\r\n          bottom = options.top\r\n          left = options.right\r\n          break\r\n        case 4:\r\n          // Vertical flip\r\n          top = options.bottom\r\n          bottom = options.top\r\n          break\r\n        case 5:\r\n          // Horizontal flip + 90 Rotate CCW\r\n          top = options.left\r\n          right = options.bottom\r\n          bottom = options.right\r\n          left = options.top\r\n          break\r\n        case 6:\r\n          // 90 Rotate CCW\r\n          top = options.left\r\n          right = options.top\r\n          bottom = options.right\r\n          left = options.bottom\r\n          break\r\n        case 7:\r\n          // Vertical flip + 90 Rotate CCW\r\n          top = options.right\r\n          right = options.top\r\n          bottom = options.left\r\n          left = options.bottom\r\n          break\r\n        case 8:\r\n          // 90 Rotate CW\r\n          top = options.right\r\n          right = options.bottom\r\n          bottom = options.left\r\n          left = options.top\r\n          break\r\n      }\r\n      // Some orientation combinations require additional rotation by 180:\r\n      if (requiresRot180(orientation, autoOrientation)) {\r\n        var tmpTop = top\r\n        var tmpRight = right\r\n        top = bottom\r\n        right = left\r\n        bottom = tmpTop\r\n        left = tmpRight\r\n      }\r\n    }\r\n    newOptions.top = top\r\n    newOptions.right = right\r\n    newOptions.bottom = bottom\r\n    newOptions.left = left\r\n    // Account for defined browser orientation:\r\n    switch (orientation) {\r\n      case 2:\r\n        // Horizontal flip\r\n        newOptions.right = left\r\n        newOptions.left = right\r\n        break\r\n      case 3:\r\n        // 180 Rotate CCW\r\n        newOptions.top = bottom\r\n        newOptions.right = left\r\n        newOptions.bottom = top\r\n        newOptions.left = right\r\n        break\r\n      case 4:\r\n        // Vertical flip\r\n        newOptions.top = bottom\r\n        newOptions.bottom = top\r\n        break\r\n      case 5:\r\n        // Vertical flip + 90 Rotate CW\r\n        newOptions.top = left\r\n        newOptions.right = bottom\r\n        newOptions.bottom = right\r\n        newOptions.left = top\r\n        break\r\n      case 6:\r\n        // 90 Rotate CW\r\n        newOptions.top = right\r\n        newOptions.right = bottom\r\n        newOptions.bottom = left\r\n        newOptions.left = top\r\n        break\r\n      case 7:\r\n        // Horizontal flip + 90 Rotate CW\r\n        newOptions.top = right\r\n        newOptions.right = top\r\n        newOptions.bottom = left\r\n        newOptions.left = bottom\r\n        break\r\n      case 8:\r\n        // 90 Rotate CCW\r\n        newOptions.top = left\r\n        newOptions.right = top\r\n        newOptions.bottom = right\r\n        newOptions.left = bottom\r\n        break\r\n    }\r\n    return newOptions\r\n  }\r\n\r\n  // Transform image orientation based on the given EXIF orientation option:\r\n  loadImage.transformCoordinates = function (canvas, options, data) {\r\n    originalTransformCoordinates.call(loadImage, canvas, options, data)\r\n    var orientation = options.orientation\r\n    var autoOrientation =\r\n      loadImage.orientation && data.exif && data.exif.get('Orientation')\r\n    if (!requiresOrientationChange(orientation, autoOrientation)) {\r\n      return\r\n    }\r\n    var ctx = canvas.getContext('2d')\r\n    var width = canvas.width\r\n    var height = canvas.height\r\n    var sourceWidth = width\r\n    var sourceHeight = height\r\n    if (\r\n      (orientation > 4 && !(autoOrientation > 4)) ||\r\n      (orientation < 5 && autoOrientation > 4)\r\n    ) {\r\n      // Image dimensions and target dimensions are switched\r\n      canvas.width = height\r\n      canvas.height = width\r\n    }\r\n    if (orientation > 4) {\r\n      // Destination and source dimensions are switched\r\n      sourceWidth = height\r\n      sourceHeight = width\r\n    }\r\n    // Reset automatic browser orientation:\r\n    switch (autoOrientation) {\r\n      case 2:\r\n        // Horizontal flip\r\n        ctx.translate(sourceWidth, 0)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 3:\r\n        // 180 Rotate CCW\r\n        ctx.translate(sourceWidth, sourceHeight)\r\n        ctx.rotate(Math.PI)\r\n        break\r\n      case 4:\r\n        // Vertical flip\r\n        ctx.translate(0, sourceHeight)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 5:\r\n        // Horizontal flip + 90 Rotate CCW\r\n        ctx.rotate(-0.5 * Math.PI)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 6:\r\n        // 90 Rotate CCW\r\n        ctx.rotate(-0.5 * Math.PI)\r\n        ctx.translate(-sourceWidth, 0)\r\n        break\r\n      case 7:\r\n        // Vertical flip + 90 Rotate CCW\r\n        ctx.rotate(-0.5 * Math.PI)\r\n        ctx.translate(-sourceWidth, sourceHeight)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 8:\r\n        // 90 Rotate CW\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.translate(0, -sourceHeight)\r\n        break\r\n    }\r\n    // Some orientation combinations require additional rotation by 180:\r\n    if (requiresRot180(orientation, autoOrientation)) {\r\n      ctx.translate(sourceWidth, sourceHeight)\r\n      ctx.rotate(Math.PI)\r\n    }\r\n    switch (orientation) {\r\n      case 2:\r\n        // Horizontal flip\r\n        ctx.translate(width, 0)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 3:\r\n        // 180 Rotate CCW\r\n        ctx.translate(width, height)\r\n        ctx.rotate(Math.PI)\r\n        break\r\n      case 4:\r\n        // Vertical flip\r\n        ctx.translate(0, height)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 5:\r\n        // Vertical flip + 90 Rotate CW\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.scale(1, -1)\r\n        break\r\n      case 6:\r\n        // 90 Rotate CW\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.translate(0, -height)\r\n        break\r\n      case 7:\r\n        // Horizontal flip + 90 Rotate CW\r\n        ctx.rotate(0.5 * Math.PI)\r\n        ctx.translate(width, -height)\r\n        ctx.scale(-1, 1)\r\n        break\r\n      case 8:\r\n        // 90 Rotate CCW\r\n        ctx.rotate(-0.5 * Math.PI)\r\n        ctx.translate(-width, 0)\r\n        break\r\n    }\r\n  }\r\n})\r\n","/*\r\n * JavaScript Load Image Exif Parser\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require, DataView */\r\n\r\n/* eslint-disable no-console */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image', './load-image-meta'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'), require('./load-image-meta'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  /**\r\n   * Exif tag map\r\n   *\r\n   * @name ExifMap\r\n   * @class\r\n   * @param {number|string} tagCode IFD tag code\r\n   */\r\n  function ExifMap(tagCode) {\r\n    if (tagCode) {\r\n      Object.defineProperty(this, 'map', {\r\n        value: this.ifds[tagCode].map\r\n      })\r\n      Object.defineProperty(this, 'tags', {\r\n        value: (this.tags && this.tags[tagCode]) || {}\r\n      })\r\n    }\r\n  }\r\n\r\n  ExifMap.prototype.map = {\r\n    Orientation: 0x0112,\r\n    Thumbnail: 'ifd1',\r\n    Blob: 0x0201, // Alias for JPEGInterchangeFormat\r\n    Exif: 0x8769,\r\n    GPSInfo: 0x8825,\r\n    Interoperability: 0xa005\r\n  }\r\n\r\n  ExifMap.prototype.ifds = {\r\n    ifd1: { name: 'Thumbnail', map: ExifMap.prototype.map },\r\n    0x8769: { name: 'Exif', map: {} },\r\n    0x8825: { name: 'GPSInfo', map: {} },\r\n    0xa005: { name: 'Interoperability', map: {} }\r\n  }\r\n\r\n  /**\r\n   * Retrieves exif tag value\r\n   *\r\n   * @param {number|string} id Exif tag code or name\r\n   * @returns {object} Exif tag value\r\n   */\r\n  ExifMap.prototype.get = function (id) {\r\n    return this[id] || this[this.map[id]]\r\n  }\r\n\r\n  /**\r\n   * Returns the Exif Thumbnail data as Blob.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Thumbnail data offset\r\n   * @param {number} length Thumbnail data length\r\n   * @returns {undefined|Blob} Returns the Thumbnail Blob or undefined\r\n   */\r\n  function getExifThumbnail(dataView, offset, length) {\r\n    if (!length) return\r\n    if (offset + length > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid thumbnail data.')\r\n      return\r\n    }\r\n    return new Blob(\r\n      [loadImage.bufferSlice.call(dataView.buffer, offset, offset + length)],\r\n      {\r\n        type: 'image/jpeg'\r\n      }\r\n    )\r\n  }\r\n\r\n  var ExifTagTypes = {\r\n    // byte, 8-bit unsigned int:\r\n    1: {\r\n      getValue: function (dataView, dataOffset) {\r\n        return dataView.getUint8(dataOffset)\r\n      },\r\n      size: 1\r\n    },\r\n    // ascii, 8-bit byte:\r\n    2: {\r\n      getValue: function (dataView, dataOffset) {\r\n        return String.fromCharCode(dataView.getUint8(dataOffset))\r\n      },\r\n      size: 1,\r\n      ascii: true\r\n    },\r\n    // short, 16 bit int:\r\n    3: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getUint16(dataOffset, littleEndian)\r\n      },\r\n      size: 2\r\n    },\r\n    // long, 32 bit int:\r\n    4: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getUint32(dataOffset, littleEndian)\r\n      },\r\n      size: 4\r\n    },\r\n    // rational = two long values, first is numerator, second is denominator:\r\n    5: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return (\r\n          dataView.getUint32(dataOffset, littleEndian) /\r\n          dataView.getUint32(dataOffset + 4, littleEndian)\r\n        )\r\n      },\r\n      size: 8\r\n    },\r\n    // slong, 32 bit signed int:\r\n    9: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return dataView.getInt32(dataOffset, littleEndian)\r\n      },\r\n      size: 4\r\n    },\r\n    // srational, two slongs, first is numerator, second is denominator:\r\n    10: {\r\n      getValue: function (dataView, dataOffset, littleEndian) {\r\n        return (\r\n          dataView.getInt32(dataOffset, littleEndian) /\r\n          dataView.getInt32(dataOffset + 4, littleEndian)\r\n        )\r\n      },\r\n      size: 8\r\n    }\r\n  }\r\n  // undefined, 8-bit byte, value depending on field:\r\n  ExifTagTypes[7] = ExifTagTypes[1]\r\n\r\n  /**\r\n   * Returns Exif tag value.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} tiffOffset TIFF offset\r\n   * @param {number} offset Tag offset\r\n   * @param {number} type Tag type\r\n   * @param {number} length Tag length\r\n   * @param {boolean} littleEndian Little endian encoding\r\n   * @returns {object} Tag value\r\n   */\r\n  function getExifValue(\r\n    dataView,\r\n    tiffOffset,\r\n    offset,\r\n    type,\r\n    length,\r\n    littleEndian\r\n  ) {\r\n    var tagType = ExifTagTypes[type]\r\n    var tagSize\r\n    var dataOffset\r\n    var values\r\n    var i\r\n    var str\r\n    var c\r\n    if (!tagType) {\r\n      console.log('Invalid Exif data: Invalid tag type.')\r\n      return\r\n    }\r\n    tagSize = tagType.size * length\r\n    // Determine if the value is contained in the dataOffset bytes,\r\n    // or if the value at the dataOffset is a pointer to the actual data:\r\n    dataOffset =\r\n      tagSize > 4\r\n        ? tiffOffset + dataView.getUint32(offset + 8, littleEndian)\r\n        : offset + 8\r\n    if (dataOffset + tagSize > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid data offset.')\r\n      return\r\n    }\r\n    if (length === 1) {\r\n      return tagType.getValue(dataView, dataOffset, littleEndian)\r\n    }\r\n    values = []\r\n    for (i = 0; i < length; i += 1) {\r\n      values[i] = tagType.getValue(\r\n        dataView,\r\n        dataOffset + i * tagType.size,\r\n        littleEndian\r\n      )\r\n    }\r\n    if (tagType.ascii) {\r\n      str = ''\r\n      // Concatenate the chars:\r\n      for (i = 0; i < values.length; i += 1) {\r\n        c = values[i]\r\n        // Ignore the terminating NULL byte(s):\r\n        if (c === '\\u0000') {\r\n          break\r\n        }\r\n        str += c\r\n      }\r\n      return str\r\n    }\r\n    return values\r\n  }\r\n\r\n  /**\r\n   * Determines if the given tag should be included.\r\n   *\r\n   * @param {object} includeTags Map of tags to include\r\n   * @param {object} excludeTags Map of tags to exclude\r\n   * @param {number|string} tagCode Tag code to check\r\n   * @returns {boolean} True if the tag should be included\r\n   */\r\n  function shouldIncludeTag(includeTags, excludeTags, tagCode) {\r\n    return (\r\n      (!includeTags || includeTags[tagCode]) &&\r\n      (!excludeTags || excludeTags[tagCode] !== true)\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Parses Exif tags.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} tiffOffset TIFF offset\r\n   * @param {number} dirOffset Directory offset\r\n   * @param {boolean} littleEndian Little endian encoding\r\n   * @param {ExifMap} tags Map to store parsed exif tags\r\n   * @param {ExifMap} tagOffsets Map to store parsed exif tag offsets\r\n   * @param {object} includeTags Map of tags to include\r\n   * @param {object} excludeTags Map of tags to exclude\r\n   * @returns {number} Next directory offset\r\n   */\r\n  function parseExifTags(\r\n    dataView,\r\n    tiffOffset,\r\n    dirOffset,\r\n    littleEndian,\r\n    tags,\r\n    tagOffsets,\r\n    includeTags,\r\n    excludeTags\r\n  ) {\r\n    var tagsNumber, dirEndOffset, i, tagOffset, tagNumber, tagValue\r\n    if (dirOffset + 6 > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid directory offset.')\r\n      return\r\n    }\r\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian)\r\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber\r\n    if (dirEndOffset + 4 > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid directory size.')\r\n      return\r\n    }\r\n    for (i = 0; i < tagsNumber; i += 1) {\r\n      tagOffset = dirOffset + 2 + 12 * i\r\n      tagNumber = dataView.getUint16(tagOffset, littleEndian)\r\n      if (!shouldIncludeTag(includeTags, excludeTags, tagNumber)) continue\r\n      tagValue = getExifValue(\r\n        dataView,\r\n        tiffOffset,\r\n        tagOffset,\r\n        dataView.getUint16(tagOffset + 2, littleEndian), // tag type\r\n        dataView.getUint32(tagOffset + 4, littleEndian), // tag length\r\n        littleEndian\r\n      )\r\n      tags[tagNumber] = tagValue\r\n      if (tagOffsets) {\r\n        tagOffsets[tagNumber] = tagOffset\r\n      }\r\n    }\r\n    // Return the offset to the next directory:\r\n    return dataView.getUint32(dirEndOffset, littleEndian)\r\n  }\r\n\r\n  /**\r\n   * Parses tags in a given IFD (Image File Directory).\r\n   *\r\n   * @param {object} data Data object to store exif tags and offsets\r\n   * @param {number|string} tagCode IFD tag code\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} tiffOffset TIFF offset\r\n   * @param {boolean} littleEndian Little endian encoding\r\n   * @param {object} includeTags Map of tags to include\r\n   * @param {object} excludeTags Map of tags to exclude\r\n   */\r\n  function parseExifIFD(\r\n    data,\r\n    tagCode,\r\n    dataView,\r\n    tiffOffset,\r\n    littleEndian,\r\n    includeTags,\r\n    excludeTags\r\n  ) {\r\n    var dirOffset = data.exif[tagCode]\r\n    if (dirOffset) {\r\n      data.exif[tagCode] = new ExifMap(tagCode)\r\n      if (data.exifOffsets) {\r\n        data.exifOffsets[tagCode] = new ExifMap(tagCode)\r\n      }\r\n      parseExifTags(\r\n        dataView,\r\n        tiffOffset,\r\n        tiffOffset + dirOffset,\r\n        littleEndian,\r\n        data.exif[tagCode],\r\n        data.exifOffsets && data.exifOffsets[tagCode],\r\n        includeTags && includeTags[tagCode],\r\n        excludeTags && excludeTags[tagCode]\r\n      )\r\n    }\r\n  }\r\n\r\n  loadImage.parseExifData = function (dataView, offset, length, data, options) {\r\n    if (options.disableExif) {\r\n      return\r\n    }\r\n    var includeTags = options.includeExifTags\r\n    var excludeTags = options.excludeExifTags || {\r\n      0x8769: {\r\n        // ExifIFDPointer\r\n        0x927c: true // MakerNote\r\n      }\r\n    }\r\n    var tiffOffset = offset + 10\r\n    var littleEndian\r\n    var dirOffset\r\n    var thumbnailIFD\r\n    // Check for the ASCII code for \"Exif\" (0x45786966):\r\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\r\n      // No Exif data, might be XMP data instead\r\n      return\r\n    }\r\n    if (tiffOffset + 8 > dataView.byteLength) {\r\n      console.log('Invalid Exif data: Invalid segment size.')\r\n      return\r\n    }\r\n    // Check for the two null bytes:\r\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\r\n      console.log('Invalid Exif data: Missing byte alignment offset.')\r\n      return\r\n    }\r\n    // Check the byte alignment:\r\n    switch (dataView.getUint16(tiffOffset)) {\r\n      case 0x4949:\r\n        littleEndian = true\r\n        break\r\n      case 0x4d4d:\r\n        littleEndian = false\r\n        break\r\n      default:\r\n        console.log('Invalid Exif data: Invalid byte alignment marker.')\r\n        return\r\n    }\r\n    // Check for the TIFF tag marker (0x002A):\r\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002a) {\r\n      console.log('Invalid Exif data: Missing TIFF marker.')\r\n      return\r\n    }\r\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\r\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian)\r\n    // Create the exif object to store the tags:\r\n    data.exif = new ExifMap()\r\n    if (!options.disableExifOffsets) {\r\n      data.exifOffsets = new ExifMap()\r\n      data.exifTiffOffset = tiffOffset\r\n      data.exifLittleEndian = littleEndian\r\n    }\r\n    // Parse the tags of the main image directory (IFD0) and retrieve the\r\n    // offset to the next directory (IFD1), usually the thumbnail directory:\r\n    dirOffset = parseExifTags(\r\n      dataView,\r\n      tiffOffset,\r\n      tiffOffset + dirOffset,\r\n      littleEndian,\r\n      data.exif,\r\n      data.exifOffsets,\r\n      includeTags,\r\n      excludeTags\r\n    )\r\n    if (dirOffset && shouldIncludeTag(includeTags, excludeTags, 'ifd1')) {\r\n      data.exif.ifd1 = dirOffset\r\n      if (data.exifOffsets) {\r\n        data.exifOffsets.ifd1 = tiffOffset + dirOffset\r\n      }\r\n    }\r\n    Object.keys(data.exif.ifds).forEach(function (tagCode) {\r\n      parseExifIFD(\r\n        data,\r\n        tagCode,\r\n        dataView,\r\n        tiffOffset,\r\n        littleEndian,\r\n        includeTags,\r\n        excludeTags\r\n      )\r\n    })\r\n    thumbnailIFD = data.exif.ifd1\r\n    // Check for JPEG Thumbnail offset and data length:\r\n    if (thumbnailIFD && thumbnailIFD[0x0201]) {\r\n      thumbnailIFD[0x0201] = getExifThumbnail(\r\n        dataView,\r\n        tiffOffset + thumbnailIFD[0x0201],\r\n        thumbnailIFD[0x0202] // Thumbnail data length\r\n      )\r\n    }\r\n  }\r\n\r\n  // Registers the Exif parser for the APP1 JPEG metadata segment:\r\n  loadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\r\n\r\n  loadImage.exifWriters = {\r\n    // Orientation writer:\r\n    0x0112: function (buffer, data, value) {\r\n      var orientationOffset = data.exifOffsets[0x0112]\r\n      if (!orientationOffset) return buffer\r\n      var view = new DataView(buffer, orientationOffset + 8, 2)\r\n      view.setUint16(0, value, data.exifLittleEndian)\r\n      return buffer\r\n    }\r\n  }\r\n\r\n  loadImage.writeExifData = function (buffer, data, id, value) {\r\n    return loadImage.exifWriters[data.exif.map[id]](buffer, data, value)\r\n  }\r\n\r\n  loadImage.ExifMap = ExifMap\r\n\r\n  // Adds the following properties to the parseMetaData callback data:\r\n  // - exif: The parsed Exif tags\r\n  // - exifOffsets: The parsed Exif tag offsets\r\n  // - exifTiffOffset: TIFF header offset (used for offset pointers)\r\n  // - exifLittleEndian: little endian order if true, big endian if false\r\n\r\n  // Adds the following options to the parseMetaData method:\r\n  // - disableExif: Disables Exif parsing when true.\r\n  // - disableExifOffsets: Disables storing Exif tag offsets when true.\r\n  // - includeExifTags: A map of Exif tags to include for parsing.\r\n  // - excludeExifTags: A map of Exif tags to exclude from parsing.\r\n})\r\n","/*\r\n * JavaScript Load Image Exif Map\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Exif tags mapping based on\r\n * https://github.com/jseidelin/exif-js\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image', './load-image-exif'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'), require('./load-image-exif'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var ExifMapProto = loadImage.ExifMap.prototype\r\n\r\n  ExifMapProto.tags = {\r\n    // =================\r\n    // TIFF tags (IFD0):\r\n    // =================\r\n    0x0100: 'ImageWidth',\r\n    0x0101: 'ImageHeight',\r\n    0x0102: 'BitsPerSample',\r\n    0x0103: 'Compression',\r\n    0x0106: 'PhotometricInterpretation',\r\n    0x0112: 'Orientation',\r\n    0x0115: 'SamplesPerPixel',\r\n    0x011c: 'PlanarConfiguration',\r\n    0x0212: 'YCbCrSubSampling',\r\n    0x0213: 'YCbCrPositioning',\r\n    0x011a: 'XResolution',\r\n    0x011b: 'YResolution',\r\n    0x0128: 'ResolutionUnit',\r\n    0x0111: 'StripOffsets',\r\n    0x0116: 'RowsPerStrip',\r\n    0x0117: 'StripByteCounts',\r\n    0x0201: 'JPEGInterchangeFormat',\r\n    0x0202: 'JPEGInterchangeFormatLength',\r\n    0x012d: 'TransferFunction',\r\n    0x013e: 'WhitePoint',\r\n    0x013f: 'PrimaryChromaticities',\r\n    0x0211: 'YCbCrCoefficients',\r\n    0x0214: 'ReferenceBlackWhite',\r\n    0x0132: 'DateTime',\r\n    0x010e: 'ImageDescription',\r\n    0x010f: 'Make',\r\n    0x0110: 'Model',\r\n    0x0131: 'Software',\r\n    0x013b: 'Artist',\r\n    0x8298: 'Copyright',\r\n    0x8769: {\r\n      // ExifIFDPointer\r\n      0x9000: 'ExifVersion', // EXIF version\r\n      0xa000: 'FlashpixVersion', // Flashpix format version\r\n      0xa001: 'ColorSpace', // Color space information tag\r\n      0xa002: 'PixelXDimension', // Valid width of meaningful image\r\n      0xa003: 'PixelYDimension', // Valid height of meaningful image\r\n      0xa500: 'Gamma',\r\n      0x9101: 'ComponentsConfiguration', // Information about channels\r\n      0x9102: 'CompressedBitsPerPixel', // Compressed bits per pixel\r\n      0x927c: 'MakerNote', // Any desired information written by the manufacturer\r\n      0x9286: 'UserComment', // Comments by user\r\n      0xa004: 'RelatedSoundFile', // Name of related sound file\r\n      0x9003: 'DateTimeOriginal', // Date and time when the original image was generated\r\n      0x9004: 'DateTimeDigitized', // Date and time when the image was stored digitally\r\n      0x9010: 'OffsetTime', // Time zone when the image file was last changed\r\n      0x9011: 'OffsetTimeOriginal', // Time zone when the image was stored digitally\r\n      0x9012: 'OffsetTimeDigitized', // Time zone when the image was stored digitally\r\n      0x9290: 'SubSecTime', // Fractions of seconds for DateTime\r\n      0x9291: 'SubSecTimeOriginal', // Fractions of seconds for DateTimeOriginal\r\n      0x9292: 'SubSecTimeDigitized', // Fractions of seconds for DateTimeDigitized\r\n      0x829a: 'ExposureTime', // Exposure time (in seconds)\r\n      0x829d: 'FNumber',\r\n      0x8822: 'ExposureProgram', // Exposure program\r\n      0x8824: 'SpectralSensitivity', // Spectral sensitivity\r\n      0x8827: 'PhotographicSensitivity', // EXIF 2.3, ISOSpeedRatings in EXIF 2.2\r\n      0x8828: 'OECF', // Optoelectric conversion factor\r\n      0x8830: 'SensitivityType',\r\n      0x8831: 'StandardOutputSensitivity',\r\n      0x8832: 'RecommendedExposureIndex',\r\n      0x8833: 'ISOSpeed',\r\n      0x8834: 'ISOSpeedLatitudeyyy',\r\n      0x8835: 'ISOSpeedLatitudezzz',\r\n      0x9201: 'ShutterSpeedValue', // Shutter speed\r\n      0x9202: 'ApertureValue', // Lens aperture\r\n      0x9203: 'BrightnessValue', // Value of brightness\r\n      0x9204: 'ExposureBias', // Exposure bias\r\n      0x9205: 'MaxApertureValue', // Smallest F number of lens\r\n      0x9206: 'SubjectDistance', // Distance to subject in meters\r\n      0x9207: 'MeteringMode', // Metering mode\r\n      0x9208: 'LightSource', // Kind of light source\r\n      0x9209: 'Flash', // Flash status\r\n      0x9214: 'SubjectArea', // Location and area of main subject\r\n      0x920a: 'FocalLength', // Focal length of the lens in mm\r\n      0xa20b: 'FlashEnergy', // Strobe energy in BCPS\r\n      0xa20c: 'SpatialFrequencyResponse',\r\n      0xa20e: 'FocalPlaneXResolution', // Number of pixels in width direction per FPRUnit\r\n      0xa20f: 'FocalPlaneYResolution', // Number of pixels in height direction per FPRUnit\r\n      0xa210: 'FocalPlaneResolutionUnit', // Unit for measuring the focal plane resolution\r\n      0xa214: 'SubjectLocation', // Location of subject in image\r\n      0xa215: 'ExposureIndex', // Exposure index selected on camera\r\n      0xa217: 'SensingMethod', // Image sensor type\r\n      0xa300: 'FileSource', // Image source (3 == DSC)\r\n      0xa301: 'SceneType', // Scene type (1 == directly photographed)\r\n      0xa302: 'CFAPattern', // Color filter array geometric pattern\r\n      0xa401: 'CustomRendered', // Special processing\r\n      0xa402: 'ExposureMode', // Exposure mode\r\n      0xa403: 'WhiteBalance', // 1 = auto white balance, 2 = manual\r\n      0xa404: 'DigitalZoomRatio', // Digital zoom ratio\r\n      0xa405: 'FocalLengthIn35mmFilm',\r\n      0xa406: 'SceneCaptureType', // Type of scene\r\n      0xa407: 'GainControl', // Degree of overall image gain adjustment\r\n      0xa408: 'Contrast', // Direction of contrast processing applied by camera\r\n      0xa409: 'Saturation', // Direction of saturation processing applied by camera\r\n      0xa40a: 'Sharpness', // Direction of sharpness processing applied by camera\r\n      0xa40b: 'DeviceSettingDescription',\r\n      0xa40c: 'SubjectDistanceRange', // Distance to subject\r\n      0xa420: 'ImageUniqueID', // Identifier assigned uniquely to each image\r\n      0xa430: 'CameraOwnerName',\r\n      0xa431: 'BodySerialNumber',\r\n      0xa432: 'LensSpecification',\r\n      0xa433: 'LensMake',\r\n      0xa434: 'LensModel',\r\n      0xa435: 'LensSerialNumber'\r\n    },\r\n    0x8825: {\r\n      // GPSInfoIFDPointer\r\n      0x0000: 'GPSVersionID',\r\n      0x0001: 'GPSLatitudeRef',\r\n      0x0002: 'GPSLatitude',\r\n      0x0003: 'GPSLongitudeRef',\r\n      0x0004: 'GPSLongitude',\r\n      0x0005: 'GPSAltitudeRef',\r\n      0x0006: 'GPSAltitude',\r\n      0x0007: 'GPSTimeStamp',\r\n      0x0008: 'GPSSatellites',\r\n      0x0009: 'GPSStatus',\r\n      0x000a: 'GPSMeasureMode',\r\n      0x000b: 'GPSDOP',\r\n      0x000c: 'GPSSpeedRef',\r\n      0x000d: 'GPSSpeed',\r\n      0x000e: 'GPSTrackRef',\r\n      0x000f: 'GPSTrack',\r\n      0x0010: 'GPSImgDirectionRef',\r\n      0x0011: 'GPSImgDirection',\r\n      0x0012: 'GPSMapDatum',\r\n      0x0013: 'GPSDestLatitudeRef',\r\n      0x0014: 'GPSDestLatitude',\r\n      0x0015: 'GPSDestLongitudeRef',\r\n      0x0016: 'GPSDestLongitude',\r\n      0x0017: 'GPSDestBearingRef',\r\n      0x0018: 'GPSDestBearing',\r\n      0x0019: 'GPSDestDistanceRef',\r\n      0x001a: 'GPSDestDistance',\r\n      0x001b: 'GPSProcessingMethod',\r\n      0x001c: 'GPSAreaInformation',\r\n      0x001d: 'GPSDateStamp',\r\n      0x001e: 'GPSDifferential',\r\n      0x001f: 'GPSHPositioningError'\r\n    },\r\n    0xa005: {\r\n      // InteroperabilityIFDPointer\r\n      0x0001: 'InteroperabilityIndex'\r\n    }\r\n  }\r\n\r\n  // IFD1 directory can contain any IFD0 tags:\r\n  ExifMapProto.tags.ifd1 = ExifMapProto.tags\r\n\r\n  ExifMapProto.stringValues = {\r\n    ExposureProgram: {\r\n      0: 'Undefined',\r\n      1: 'Manual',\r\n      2: 'Normal program',\r\n      3: 'Aperture priority',\r\n      4: 'Shutter priority',\r\n      5: 'Creative program',\r\n      6: 'Action program',\r\n      7: 'Portrait mode',\r\n      8: 'Landscape mode'\r\n    },\r\n    MeteringMode: {\r\n      0: 'Unknown',\r\n      1: 'Average',\r\n      2: 'CenterWeightedAverage',\r\n      3: 'Spot',\r\n      4: 'MultiSpot',\r\n      5: 'Pattern',\r\n      6: 'Partial',\r\n      255: 'Other'\r\n    },\r\n    LightSource: {\r\n      0: 'Unknown',\r\n      1: 'Daylight',\r\n      2: 'Fluorescent',\r\n      3: 'Tungsten (incandescent light)',\r\n      4: 'Flash',\r\n      9: 'Fine weather',\r\n      10: 'Cloudy weather',\r\n      11: 'Shade',\r\n      12: 'Daylight fluorescent (D 5700 - 7100K)',\r\n      13: 'Day white fluorescent (N 4600 - 5400K)',\r\n      14: 'Cool white fluorescent (W 3900 - 4500K)',\r\n      15: 'White fluorescent (WW 3200 - 3700K)',\r\n      17: 'Standard light A',\r\n      18: 'Standard light B',\r\n      19: 'Standard light C',\r\n      20: 'D55',\r\n      21: 'D65',\r\n      22: 'D75',\r\n      23: 'D50',\r\n      24: 'ISO studio tungsten',\r\n      255: 'Other'\r\n    },\r\n    Flash: {\r\n      0x0000: 'Flash did not fire',\r\n      0x0001: 'Flash fired',\r\n      0x0005: 'Strobe return light not detected',\r\n      0x0007: 'Strobe return light detected',\r\n      0x0009: 'Flash fired, compulsory flash mode',\r\n      0x000d: 'Flash fired, compulsory flash mode, return light not detected',\r\n      0x000f: 'Flash fired, compulsory flash mode, return light detected',\r\n      0x0010: 'Flash did not fire, compulsory flash mode',\r\n      0x0018: 'Flash did not fire, auto mode',\r\n      0x0019: 'Flash fired, auto mode',\r\n      0x001d: 'Flash fired, auto mode, return light not detected',\r\n      0x001f: 'Flash fired, auto mode, return light detected',\r\n      0x0020: 'No flash function',\r\n      0x0041: 'Flash fired, red-eye reduction mode',\r\n      0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\r\n      0x0047: 'Flash fired, red-eye reduction mode, return light detected',\r\n      0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\r\n      0x004d:\r\n        'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\r\n      0x004f:\r\n        'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\r\n      0x0059: 'Flash fired, auto mode, red-eye reduction mode',\r\n      0x005d:\r\n        'Flash fired, auto mode, return light not detected, red-eye reduction mode',\r\n      0x005f:\r\n        'Flash fired, auto mode, return light detected, red-eye reduction mode'\r\n    },\r\n    SensingMethod: {\r\n      1: 'Undefined',\r\n      2: 'One-chip color area sensor',\r\n      3: 'Two-chip color area sensor',\r\n      4: 'Three-chip color area sensor',\r\n      5: 'Color sequential area sensor',\r\n      7: 'Trilinear sensor',\r\n      8: 'Color sequential linear sensor'\r\n    },\r\n    SceneCaptureType: {\r\n      0: 'Standard',\r\n      1: 'Landscape',\r\n      2: 'Portrait',\r\n      3: 'Night scene'\r\n    },\r\n    SceneType: {\r\n      1: 'Directly photographed'\r\n    },\r\n    CustomRendered: {\r\n      0: 'Normal process',\r\n      1: 'Custom process'\r\n    },\r\n    WhiteBalance: {\r\n      0: 'Auto white balance',\r\n      1: 'Manual white balance'\r\n    },\r\n    GainControl: {\r\n      0: 'None',\r\n      1: 'Low gain up',\r\n      2: 'High gain up',\r\n      3: 'Low gain down',\r\n      4: 'High gain down'\r\n    },\r\n    Contrast: {\r\n      0: 'Normal',\r\n      1: 'Soft',\r\n      2: 'Hard'\r\n    },\r\n    Saturation: {\r\n      0: 'Normal',\r\n      1: 'Low saturation',\r\n      2: 'High saturation'\r\n    },\r\n    Sharpness: {\r\n      0: 'Normal',\r\n      1: 'Soft',\r\n      2: 'Hard'\r\n    },\r\n    SubjectDistanceRange: {\r\n      0: 'Unknown',\r\n      1: 'Macro',\r\n      2: 'Close view',\r\n      3: 'Distant view'\r\n    },\r\n    FileSource: {\r\n      3: 'DSC'\r\n    },\r\n    ComponentsConfiguration: {\r\n      0: '',\r\n      1: 'Y',\r\n      2: 'Cb',\r\n      3: 'Cr',\r\n      4: 'R',\r\n      5: 'G',\r\n      6: 'B'\r\n    },\r\n    Orientation: {\r\n      1: 'Original',\r\n      2: 'Horizontal flip',\r\n      3: 'Rotate 180 CCW',\r\n      4: 'Vertical flip',\r\n      5: 'Vertical flip + Rotate 90 CW',\r\n      6: 'Rotate 90 CW',\r\n      7: 'Horizontal flip + Rotate 90 CW',\r\n      8: 'Rotate 90 CCW'\r\n    }\r\n  }\r\n\r\n  ExifMapProto.getText = function (name) {\r\n    var value = this.get(name)\r\n    switch (name) {\r\n      case 'LightSource':\r\n      case 'Flash':\r\n      case 'MeteringMode':\r\n      case 'ExposureProgram':\r\n      case 'SensingMethod':\r\n      case 'SceneCaptureType':\r\n      case 'SceneType':\r\n      case 'CustomRendered':\r\n      case 'WhiteBalance':\r\n      case 'GainControl':\r\n      case 'Contrast':\r\n      case 'Saturation':\r\n      case 'Sharpness':\r\n      case 'SubjectDistanceRange':\r\n      case 'FileSource':\r\n      case 'Orientation':\r\n        return this.stringValues[name][value]\r\n      case 'ExifVersion':\r\n      case 'FlashpixVersion':\r\n        if (!value) return\r\n        return String.fromCharCode(value[0], value[1], value[2], value[3])\r\n      case 'ComponentsConfiguration':\r\n        if (!value) return\r\n        return (\r\n          this.stringValues[name][value[0]] +\r\n          this.stringValues[name][value[1]] +\r\n          this.stringValues[name][value[2]] +\r\n          this.stringValues[name][value[3]]\r\n        )\r\n      case 'GPSVersionID':\r\n        if (!value) return\r\n        return value[0] + '.' + value[1] + '.' + value[2] + '.' + value[3]\r\n    }\r\n    return String(value)\r\n  }\r\n\r\n  ExifMapProto.getAll = function () {\r\n    var map = {}\r\n    var prop\r\n    var obj\r\n    var name\r\n    for (prop in this) {\r\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\r\n        obj = this[prop]\r\n        if (obj && obj.getAll) {\r\n          map[this.ifds[prop].name] = obj.getAll()\r\n        } else {\r\n          name = this.tags[prop]\r\n          if (name) map[name] = this.getText(name)\r\n        }\r\n      }\r\n    }\r\n    return map\r\n  }\r\n\r\n  ExifMapProto.getName = function (tagCode) {\r\n    var name = this.tags[tagCode]\r\n    if (typeof name === 'object') return this.ifds[tagCode].name\r\n    return name\r\n  }\r\n\r\n  // Extend the map of tag names to tag codes:\r\n  ;(function () {\r\n    var tags = ExifMapProto.tags\r\n    var prop\r\n    var ifd\r\n    var subTags\r\n    // Map the tag names to tags:\r\n    for (prop in tags) {\r\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\r\n        ifd = ExifMapProto.ifds[prop]\r\n        if (ifd) {\r\n          subTags = tags[prop]\r\n          for (prop in subTags) {\r\n            if (Object.prototype.hasOwnProperty.call(subTags, prop)) {\r\n              ifd.map[subTags[prop]] = Number(prop)\r\n            }\r\n          }\r\n        } else {\r\n          ExifMapProto.map[tags[prop]] = Number(prop)\r\n        }\r\n      }\r\n    }\r\n  })()\r\n})\r\n","/*\r\n * JavaScript Load Image IPTC Parser\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * Copyright 2018, Dave Bevan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require, DataView */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image', './load-image-meta'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'), require('./load-image-meta'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  /**\r\n   * IPTC tag map\r\n   *\r\n   * @name IptcMap\r\n   * @class\r\n   */\r\n  function IptcMap() {}\r\n\r\n  IptcMap.prototype.map = {\r\n    ObjectName: 5\r\n  }\r\n\r\n  IptcMap.prototype.types = {\r\n    0: 'Uint16', // ApplicationRecordVersion\r\n    200: 'Uint16', // ObjectPreviewFileFormat\r\n    201: 'Uint16', // ObjectPreviewFileVersion\r\n    202: 'binary' // ObjectPreviewData\r\n  }\r\n\r\n  /**\r\n   * Retrieves IPTC tag value\r\n   *\r\n   * @param {number|string} id IPTC tag code or name\r\n   * @returns {object} IPTC tag value\r\n   */\r\n  IptcMap.prototype.get = function (id) {\r\n    return this[id] || this[this.map[id]]\r\n  }\r\n\r\n  /**\r\n   * Retrieves string for the given DataView and range\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Offset start\r\n   * @param {number} length Offset length\r\n   * @returns {string} String value\r\n   */\r\n  function getStringValue(dataView, offset, length) {\r\n    var outstr = ''\r\n    var end = offset + length\r\n    for (var n = offset; n < end; n += 1) {\r\n      outstr += String.fromCharCode(dataView.getUint8(n))\r\n    }\r\n    return outstr\r\n  }\r\n\r\n  /**\r\n   * Retrieves tag value for the given DataView and range\r\n   *\r\n   * @param {number} tagCode tag code\r\n   * @param {IptcMap} map IPTC tag map\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Range start\r\n   * @param {number} length Range length\r\n   * @returns {object} Tag value\r\n   */\r\n  function getTagValue(tagCode, map, dataView, offset, length) {\r\n    if (map.types[tagCode] === 'binary') {\r\n      return new Blob([dataView.buffer.slice(offset, offset + length)])\r\n    }\r\n    if (map.types[tagCode] === 'Uint16') {\r\n      return dataView.getUint16(offset)\r\n    }\r\n    return getStringValue(dataView, offset, length)\r\n  }\r\n\r\n  /**\r\n   * Combines IPTC value with existing ones.\r\n   *\r\n   * @param {object} value Existing IPTC field value\r\n   * @param {object} newValue New IPTC field value\r\n   * @returns {object} Resulting IPTC field value\r\n   */\r\n  function combineTagValues(value, newValue) {\r\n    if (value === undefined) return newValue\r\n    if (value instanceof Array) {\r\n      value.push(newValue)\r\n      return value\r\n    }\r\n    return [value, newValue]\r\n  }\r\n\r\n  /**\r\n   * Parses IPTC tags.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} segmentOffset Segment offset\r\n   * @param {number} segmentLength Segment length\r\n   * @param {object} data Data export object\r\n   * @param {object} includeTags Map of tags to include\r\n   * @param {object} excludeTags Map of tags to exclude\r\n   */\r\n  function parseIptcTags(\r\n    dataView,\r\n    segmentOffset,\r\n    segmentLength,\r\n    data,\r\n    includeTags,\r\n    excludeTags\r\n  ) {\r\n    var value, tagSize, tagCode\r\n    var segmentEnd = segmentOffset + segmentLength\r\n    var offset = segmentOffset\r\n    while (offset < segmentEnd) {\r\n      if (\r\n        dataView.getUint8(offset) === 0x1c && // tag marker\r\n        dataView.getUint8(offset + 1) === 0x02 // record number, only handles v2\r\n      ) {\r\n        tagCode = dataView.getUint8(offset + 2)\r\n        if (\r\n          (!includeTags || includeTags[tagCode]) &&\r\n          (!excludeTags || !excludeTags[tagCode])\r\n        ) {\r\n          tagSize = dataView.getInt16(offset + 3)\r\n          value = getTagValue(tagCode, data.iptc, dataView, offset + 5, tagSize)\r\n          data.iptc[tagCode] = combineTagValues(data.iptc[tagCode], value)\r\n          if (data.iptcOffsets) {\r\n            data.iptcOffsets[tagCode] = offset\r\n          }\r\n        }\r\n      }\r\n      offset += 1\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Tests if field segment starts at offset.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Segment offset\r\n   * @returns {boolean} True if '8BIM<EOT><EOT>' exists at offset\r\n   */\r\n  function isSegmentStart(dataView, offset) {\r\n    return (\r\n      dataView.getUint32(offset) === 0x3842494d && // Photoshop segment start\r\n      dataView.getUint16(offset + 4) === 0x0404 // IPTC segment start\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Returns header length.\r\n   *\r\n   * @param {DataView} dataView Data view interface\r\n   * @param {number} offset Segment offset\r\n   * @returns {number} Header length\r\n   */\r\n  function getHeaderLength(dataView, offset) {\r\n    var length = dataView.getUint8(offset + 7)\r\n    if (length % 2 !== 0) length += 1\r\n    // Check for pre photoshop 6 format\r\n    if (length === 0) {\r\n      // Always 4\r\n      length = 4\r\n    }\r\n    return length\r\n  }\r\n\r\n  loadImage.parseIptcData = function (dataView, offset, length, data, options) {\r\n    if (options.disableIptc) {\r\n      return\r\n    }\r\n    var markerLength = offset + length\r\n    while (offset + 8 < markerLength) {\r\n      if (isSegmentStart(dataView, offset)) {\r\n        var headerLength = getHeaderLength(dataView, offset)\r\n        var segmentOffset = offset + 8 + headerLength\r\n        if (segmentOffset > markerLength) {\r\n          // eslint-disable-next-line no-console\r\n          console.log('Invalid IPTC data: Invalid segment offset.')\r\n          break\r\n        }\r\n        var segmentLength = dataView.getUint16(offset + 6 + headerLength)\r\n        if (offset + segmentLength > markerLength) {\r\n          // eslint-disable-next-line no-console\r\n          console.log('Invalid IPTC data: Invalid segment size.')\r\n          break\r\n        }\r\n        // Create the iptc object to store the tags:\r\n        data.iptc = new IptcMap()\r\n        if (!options.disableIptcOffsets) {\r\n          data.iptcOffsets = new IptcMap()\r\n        }\r\n        parseIptcTags(\r\n          dataView,\r\n          segmentOffset,\r\n          segmentLength,\r\n          data,\r\n          options.includeIptcTags,\r\n          options.excludeIptcTags || { 202: true } // ObjectPreviewData\r\n        )\r\n        return\r\n      }\r\n      // eslint-disable-next-line no-param-reassign\r\n      offset += 1\r\n    }\r\n  }\r\n\r\n  // Registers this IPTC parser for the APP13 JPEG metadata segment:\r\n  loadImage.metaDataParsers.jpeg[0xffed].push(loadImage.parseIptcData)\r\n\r\n  loadImage.IptcMap = IptcMap\r\n\r\n  // Adds the following properties to the parseMetaData callback data:\r\n  // - iptc: The iptc tags, parsed by the parseIptcData method\r\n\r\n  // Adds the following options to the parseMetaData method:\r\n  // - disableIptc: Disables IPTC parsing when true.\r\n  // - disableIptcOffsets: Disables storing IPTC tag offsets when true.\r\n  // - includeIptcTags: A map of IPTC tags to include for parsing.\r\n  // - excludeIptcTags: A map of IPTC tags to exclude from parsing.\r\n})\r\n","/*\r\n * JavaScript Load Image IPTC Map\r\n * https://github.com/blueimp/JavaScript-Load-Image\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * Copyright 2018, Dave Bevan\r\n *\r\n * IPTC tags mapping based on\r\n * https://iptc.org/standards/photo-metadata\r\n * https://exiftool.org/TagNames/IPTC.html\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, module, require */\r\n\r\n;(function (factory) {\r\n  'use strict'\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define(['./load-image', './load-image-iptc'], factory)\r\n  } else if (typeof module === 'object' && module.exports) {\r\n    factory(require('./load-image'), require('./load-image-iptc'))\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.loadImage)\r\n  }\r\n})(function (loadImage) {\r\n  'use strict'\r\n\r\n  var IptcMapProto = loadImage.IptcMap.prototype\r\n\r\n  IptcMapProto.tags = {\r\n    0: 'ApplicationRecordVersion',\r\n    3: 'ObjectTypeReference',\r\n    4: 'ObjectAttributeReference',\r\n    5: 'ObjectName',\r\n    7: 'EditStatus',\r\n    8: 'EditorialUpdate',\r\n    10: 'Urgency',\r\n    12: 'SubjectReference',\r\n    15: 'Category',\r\n    20: 'SupplementalCategories',\r\n    22: 'FixtureIdentifier',\r\n    25: 'Keywords',\r\n    26: 'ContentLocationCode',\r\n    27: 'ContentLocationName',\r\n    30: 'ReleaseDate',\r\n    35: 'ReleaseTime',\r\n    37: 'ExpirationDate',\r\n    38: 'ExpirationTime',\r\n    40: 'SpecialInstructions',\r\n    42: 'ActionAdvised',\r\n    45: 'ReferenceService',\r\n    47: 'ReferenceDate',\r\n    50: 'ReferenceNumber',\r\n    55: 'DateCreated',\r\n    60: 'TimeCreated',\r\n    62: 'DigitalCreationDate',\r\n    63: 'DigitalCreationTime',\r\n    65: 'OriginatingProgram',\r\n    70: 'ProgramVersion',\r\n    75: 'ObjectCycle',\r\n    80: 'Byline',\r\n    85: 'BylineTitle',\r\n    90: 'City',\r\n    92: 'Sublocation',\r\n    95: 'State',\r\n    100: 'CountryCode',\r\n    101: 'Country',\r\n    103: 'OriginalTransmissionReference',\r\n    105: 'Headline',\r\n    110: 'Credit',\r\n    115: 'Source',\r\n    116: 'CopyrightNotice',\r\n    118: 'Contact',\r\n    120: 'Caption',\r\n    121: 'LocalCaption',\r\n    122: 'Writer',\r\n    125: 'RasterizedCaption',\r\n    130: 'ImageType',\r\n    131: 'ImageOrientation',\r\n    135: 'LanguageIdentifier',\r\n    150: 'AudioType',\r\n    151: 'AudioSamplingRate',\r\n    152: 'AudioSamplingResolution',\r\n    153: 'AudioDuration',\r\n    154: 'AudioOutcue',\r\n    184: 'JobID',\r\n    185: 'MasterDocumentID',\r\n    186: 'ShortDocumentID',\r\n    187: 'UniqueDocumentID',\r\n    188: 'OwnerID',\r\n    200: 'ObjectPreviewFileFormat',\r\n    201: 'ObjectPreviewFileVersion',\r\n    202: 'ObjectPreviewData',\r\n    221: 'Prefs',\r\n    225: 'ClassifyState',\r\n    228: 'SimilarityIndex',\r\n    230: 'DocumentNotes',\r\n    231: 'DocumentHistory',\r\n    232: 'ExifCameraInfo',\r\n    255: 'CatalogSets'\r\n  }\r\n\r\n  IptcMapProto.stringValues = {\r\n    10: {\r\n      0: '0 (reserved)',\r\n      1: '1 (most urgent)',\r\n      2: '2',\r\n      3: '3',\r\n      4: '4',\r\n      5: '5 (normal urgency)',\r\n      6: '6',\r\n      7: '7',\r\n      8: '8 (least urgent)',\r\n      9: '9 (user-defined priority)'\r\n    },\r\n    75: {\r\n      a: 'Morning',\r\n      b: 'Both Morning and Evening',\r\n      p: 'Evening'\r\n    },\r\n    131: {\r\n      L: 'Landscape',\r\n      P: 'Portrait',\r\n      S: 'Square'\r\n    }\r\n  }\r\n\r\n  IptcMapProto.getText = function (id) {\r\n    var value = this.get(id)\r\n    var tagCode = this.map[id]\r\n    var stringValue = this.stringValues[tagCode]\r\n    if (stringValue) return stringValue[value]\r\n    return String(value)\r\n  }\r\n\r\n  IptcMapProto.getAll = function () {\r\n    var map = {}\r\n    var prop\r\n    var name\r\n    for (prop in this) {\r\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\r\n        name = this.tags[prop]\r\n        if (name) map[name] = this.getText(name)\r\n      }\r\n    }\r\n    return map\r\n  }\r\n\r\n  IptcMapProto.getName = function (tagCode) {\r\n    return this.tags[tagCode]\r\n  }\r\n\r\n  // Extend the map of tag names to tag codes:\r\n  ;(function () {\r\n    var tags = IptcMapProto.tags\r\n    var map = IptcMapProto.map || {}\r\n    var prop\r\n    // Map the tag names to tags:\r\n    for (prop in tags) {\r\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\r\n        map[tags[prop]] = Number(prop)\r\n      }\r\n    }\r\n  })()\r\n})\r\n",null,"/*\n * jQuery Iframe Transport Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(require('jquery'));\n  } else {\n    // Browser globals:\n    factory(window.jQuery);\n  }\n})(function ($) {\n  'use strict';\n\n  // Helper variable to create unique names for the transport iframes:\n  var counter = 0,\n    jsonAPI = $,\n    jsonParse = 'parseJSON';\n\n  if ('JSON' in window && 'parse' in JSON) {\n    jsonAPI = JSON;\n    jsonParse = 'parse';\n  }\n\n  // The iframe transport accepts four additional options:\n  // options.fileInput: a jQuery collection of file input fields\n  // options.paramName: the parameter name for the file form data,\n  //  overrides the name property of the file input field(s),\n  //  can be a string or an array of strings.\n  // options.formData: an array of objects with name and value properties,\n  //  equivalent to the return data of .serializeArray(), e.g.:\n  //  [{name: 'a', value: 1}, {name: 'b', value: 2}]\n  // options.initialIframeSrc: the URL of the initial iframe src,\n  //  by default set to \"javascript:false;\"\n  $.ajaxTransport('iframe', function (options) {\n    if (options.async) {\n      // javascript:false as initial iframe src\n      // prevents warning popups on HTTPS in IE6:\n      // eslint-disable-next-line no-script-url\n      var initialIframeSrc = options.initialIframeSrc || 'javascript:false;',\n        form,\n        iframe,\n        addParamChar;\n      return {\n        send: function (_, completeCallback) {\n          form = $('<form style=\"display:none;\"></form>');\n          form.attr('accept-charset', options.formAcceptCharset);\n          addParamChar = /\\?/.test(options.url) ? '&' : '?';\n          // XDomainRequest only supports GET and POST:\n          if (options.type === 'DELETE') {\n            options.url = options.url + addParamChar + '_method=DELETE';\n            options.type = 'POST';\n          } else if (options.type === 'PUT') {\n            options.url = options.url + addParamChar + '_method=PUT';\n            options.type = 'POST';\n          } else if (options.type === 'PATCH') {\n            options.url = options.url + addParamChar + '_method=PATCH';\n            options.type = 'POST';\n          }\n          // IE versions below IE8 cannot set the name property of\n          // elements that have already been added to the DOM,\n          // so we set the name along with the iframe HTML markup:\n          counter += 1;\n          iframe = $(\n            '<iframe src=\"' +\n              initialIframeSrc +\n              '\" name=\"iframe-transport-' +\n              counter +\n              '\"></iframe>'\n          ).on('load', function () {\n            var fileInputClones,\n              paramNames = $.isArray(options.paramName)\n                ? options.paramName\n                : [options.paramName];\n            iframe.off('load').on('load', function () {\n              var response;\n              // Wrap in a try/catch block to catch exceptions thrown\n              // when trying to access cross-domain iframe contents:\n              try {\n                response = iframe.contents();\n                // Google Chrome and Firefox do not throw an\n                // exception when calling iframe.contents() on\n                // cross-domain requests, so we unify the response:\n                if (!response.length || !response[0].firstChild) {\n                  throw new Error();\n                }\n              } catch (e) {\n                response = undefined;\n              }\n              // The complete callback returns the\n              // iframe content document as response object:\n              completeCallback(200, 'success', { iframe: response });\n              // Fix for IE endless progress bar activity bug\n              // (happens on form submits to iframe targets):\n              $('<iframe src=\"' + initialIframeSrc + '\"></iframe>').appendTo(\n                form\n              );\n              window.setTimeout(function () {\n                // Removing the form in a setTimeout call\n                // allows Chrome's developer tools to display\n                // the response result\n                form.remove();\n              }, 0);\n            });\n            form\n              .prop('target', iframe.prop('name'))\n              .prop('action', options.url)\n              .prop('method', options.type);\n            if (options.formData) {\n              $.each(options.formData, function (index, field) {\n                $('<input type=\"hidden\"/>')\n                  .prop('name', field.name)\n                  .val(field.value)\n                  .appendTo(form);\n              });\n            }\n            if (\n              options.fileInput &&\n              options.fileInput.length &&\n              options.type === 'POST'\n            ) {\n              fileInputClones = options.fileInput.clone();\n              // Insert a clone for each file input field:\n              options.fileInput.after(function (index) {\n                return fileInputClones[index];\n              });\n              if (options.paramName) {\n                options.fileInput.each(function (index) {\n                  $(this).prop('name', paramNames[index] || options.paramName);\n                });\n              }\n              // Appending the file input fields to the hidden form\n              // removes them from their original location:\n              form\n                .append(options.fileInput)\n                .prop('enctype', 'multipart/form-data')\n                // enctype must be set as encoding for IE:\n                .prop('encoding', 'multipart/form-data');\n              // Remove the HTML5 form attribute from the input(s):\n              options.fileInput.removeAttr('form');\n            }\n            window.setTimeout(function () {\n              // Submitting the form in a setTimeout call fixes an issue with\n              // Safari 13 not triggering the iframe load event after resetting\n              // the load event handler, see also:\n              // https://github.com/blueimp/jQuery-File-Upload/issues/3633\n              form.submit();\n              // Insert the file input fields at their original location\n              // by replacing the clones with the originals:\n              if (fileInputClones && fileInputClones.length) {\n                options.fileInput.each(function (index, input) {\n                  var clone = $(fileInputClones[index]);\n                  // Restore the original name and form properties:\n                  $(input)\n                    .prop('name', clone.prop('name'))\n                    .attr('form', clone.attr('form'));\n                  clone.replaceWith(input);\n                });\n              }\n            }, 0);\n          });\n          form.append(iframe).appendTo(document.body);\n        },\n        abort: function () {\n          if (iframe) {\n            // javascript:false as iframe src aborts the request\n            // and prevents warning popups on HTTPS in IE6.\n            iframe.off('load').prop('src', initialIframeSrc);\n          }\n          if (form) {\n            form.remove();\n          }\n        }\n      };\n    }\n  });\n\n  // The iframe transport returns the iframe content document as response.\n  // The following adds converters from iframe to text, json, html, xml\n  // and script.\n  // Please note that the Content-Type for JSON responses has to be text/plain\n  // or text/html, if the browser doesn't include application/json in the\n  // Accept header, else IE will show a download dialog.\n  // The Content-Type for XML responses on the other hand has to be always\n  // application/xml or text/xml, so IE properly parses the XML response.\n  // See also\n  // https://github.com/blueimp/jQuery-File-Upload/wiki/Setup#content-type-negotiation\n  $.ajaxSetup({\n    converters: {\n      'iframe text': function (iframe) {\n        return iframe && $(iframe[0].body).text();\n      },\n      'iframe json': function (iframe) {\n        return iframe && jsonAPI[jsonParse]($(iframe[0].body).text());\n      },\n      'iframe html': function (iframe) {\n        return iframe && $(iframe[0].body).html();\n      },\n      'iframe xml': function (iframe) {\n        var xmlDoc = iframe && iframe[0];\n        return xmlDoc && $.isXMLDoc(xmlDoc)\n          ? xmlDoc\n          : $.parseXML(\n              (xmlDoc.XMLDocument && xmlDoc.XMLDocument.xml) ||\n                $(xmlDoc.body).html()\n            );\n      },\n      'iframe script': function (iframe) {\n        return iframe && $.globalEval($(iframe[0].body).text());\n      }\n    }\n  });\n});\n","/*\n * jQuery File Upload Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n/* eslint-disable new-cap */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', 'jquery-ui/ui/widget'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(require('jquery'), require('./vendor/jquery.ui.widget'));\n  } else {\n    // Browser globals:\n    factory(window.jQuery);\n  }\n})(function ($) {\n  'use strict';\n\n  // Detect file input support, based on\n  // https://viljamis.com/2012/file-upload-support-on-mobile/\n  $.support.fileInput = !(\n    new RegExp(\n      // Handle devices which give false positives for the feature detection:\n      '(Android (1\\\\.[0156]|2\\\\.[01]))' +\n        '|(Windows Phone (OS 7|8\\\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)' +\n        '|(w(eb)?OSBrowser)|(webOS)' +\n        '|(Kindle/(1\\\\.0|2\\\\.[05]|3\\\\.0))'\n    ).test(window.navigator.userAgent) ||\n    // Feature detection for all other devices:\n    $('<input type=\"file\"/>').prop('disabled')\n  );\n\n  // The FileReader API is not actually used, but works as feature detection,\n  // as some Safari versions (5?) support XHR file uploads via the FormData API,\n  // but not non-multipart XHR file uploads.\n  // window.XMLHttpRequestUpload is not available on IE10, so we check for\n  // window.ProgressEvent instead to detect XHR2 file upload capability:\n  $.support.xhrFileUpload = !!(window.ProgressEvent && window.FileReader);\n  $.support.xhrFormDataFileUpload = !!window.FormData;\n\n  // Detect support for Blob slicing (required for chunked uploads):\n  $.support.blobSlice =\n    window.Blob &&\n    (Blob.prototype.slice ||\n      Blob.prototype.webkitSlice ||\n      Blob.prototype.mozSlice);\n\n  /**\n   * Helper function to create drag handlers for dragover/dragenter/dragleave\n   *\n   * @param {string} type Event type\n   * @returns {Function} Drag handler\n   */\n  function getDragHandler(type) {\n    var isDragOver = type === 'dragover';\n    return function (e) {\n      e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n      var dataTransfer = e.dataTransfer;\n      if (\n        dataTransfer &&\n        $.inArray('Files', dataTransfer.types) !== -1 &&\n        this._trigger(type, $.Event(type, { delegatedEvent: e })) !== false\n      ) {\n        e.preventDefault();\n        if (isDragOver) {\n          dataTransfer.dropEffect = 'copy';\n        }\n      }\n    };\n  }\n\n  // The fileupload widget listens for change events on file input fields defined\n  // via fileInput setting and paste or drop events of the given dropZone.\n  // In addition to the default jQuery Widget methods, the fileupload widget\n  // exposes the \"add\" and \"send\" methods, to add or directly send files using\n  // the fileupload API.\n  // By default, files added via file input selection, paste, drag & drop or\n  // \"add\" method are uploaded immediately, but it is possible to override\n  // the \"add\" callback option to queue file uploads.\n  $.widget('blueimp.fileupload', {\n    options: {\n      // The drop target element(s), by the default the complete document.\n      // Set to null to disable drag & drop support:\n      dropZone: $(document),\n      // The paste target element(s), by the default undefined.\n      // Set to a DOM node or jQuery object to enable file pasting:\n      pasteZone: undefined,\n      // The file input field(s), that are listened to for change events.\n      // If undefined, it is set to the file input fields inside\n      // of the widget element on plugin initialization.\n      // Set to null to disable the change listener.\n      fileInput: undefined,\n      // By default, the file input field is replaced with a clone after\n      // each input field change event. This is required for iframe transport\n      // queues and allows change events to be fired for the same file\n      // selection, but can be disabled by setting the following option to false:\n      replaceFileInput: true,\n      // The parameter name for the file form data (the request argument name).\n      // If undefined or empty, the name property of the file input field is\n      // used, or \"files[]\" if the file input name property is also empty,\n      // can be a string or an array of strings:\n      paramName: undefined,\n      // By default, each file of a selection is uploaded using an individual\n      // request for XHR type uploads. Set to false to upload file\n      // selections in one request each:\n      singleFileUploads: true,\n      // To limit the number of files uploaded with one XHR request,\n      // set the following option to an integer greater than 0:\n      limitMultiFileUploads: undefined,\n      // The following option limits the number of files uploaded with one\n      // XHR request to keep the request size under or equal to the defined\n      // limit in bytes:\n      limitMultiFileUploadSize: undefined,\n      // Multipart file uploads add a number of bytes to each uploaded file,\n      // therefore the following option adds an overhead for each file used\n      // in the limitMultiFileUploadSize configuration:\n      limitMultiFileUploadSizeOverhead: 512,\n      // Set the following option to true to issue all file upload requests\n      // in a sequential order:\n      sequentialUploads: false,\n      // To limit the number of concurrent uploads,\n      // set the following option to an integer greater than 0:\n      limitConcurrentUploads: undefined,\n      // Set the following option to true to force iframe transport uploads:\n      forceIframeTransport: false,\n      // Set the following option to the location of a redirect url on the\n      // origin server, for cross-domain iframe transport uploads:\n      redirect: undefined,\n      // The parameter name for the redirect url, sent as part of the form\n      // data and set to 'redirect' if this option is empty:\n      redirectParamName: undefined,\n      // Set the following option to the location of a postMessage window,\n      // to enable postMessage transport uploads:\n      postMessage: undefined,\n      // By default, XHR file uploads are sent as multipart/form-data.\n      // The iframe transport is always using multipart/form-data.\n      // Set to false to enable non-multipart XHR uploads:\n      multipart: true,\n      // To upload large files in smaller chunks, set the following option\n      // to a preferred maximum chunk size. If set to 0, null or undefined,\n      // or the browser does not support the required Blob API, files will\n      // be uploaded as a whole.\n      maxChunkSize: undefined,\n      // When a non-multipart upload or a chunked multipart upload has been\n      // aborted, this option can be used to resume the upload by setting\n      // it to the size of the already uploaded bytes. This option is most\n      // useful when modifying the options object inside of the \"add\" or\n      // \"send\" callbacks, as the options are cloned for each file upload.\n      uploadedBytes: undefined,\n      // By default, failed (abort or error) file uploads are removed from the\n      // global progress calculation. Set the following option to false to\n      // prevent recalculating the global progress data:\n      recalculateProgress: true,\n      // Interval in milliseconds to calculate and trigger progress events:\n      progressInterval: 100,\n      // Interval in milliseconds to calculate progress bitrate:\n      bitrateInterval: 500,\n      // By default, uploads are started automatically when adding files:\n      autoUpload: true,\n      // By default, duplicate file names are expected to be handled on\n      // the server-side. If this is not possible (e.g. when uploading\n      // files directly to Amazon S3), the following option can be set to\n      // an empty object or an object mapping existing filenames, e.g.:\n      // { \"image.jpg\": true, \"image (1).jpg\": true }\n      // If it is set, all files will be uploaded with unique filenames,\n      // adding increasing number suffixes if necessary, e.g.:\n      // \"image (2).jpg\"\n      uniqueFilenames: undefined,\n\n      // Error and info messages:\n      messages: {\n        uploadedBytes: 'Uploaded bytes exceed file size'\n      },\n\n      // Translation function, gets the message key to be translated\n      // and an object with context specific data as arguments:\n      i18n: function (message, context) {\n        // eslint-disable-next-line no-param-reassign\n        message = this.messages[message] || message.toString();\n        if (context) {\n          $.each(context, function (key, value) {\n            // eslint-disable-next-line no-param-reassign\n            message = message.replace('{' + key + '}', value);\n          });\n        }\n        return message;\n      },\n\n      // Additional form data to be sent along with the file uploads can be set\n      // using this option, which accepts an array of objects with name and\n      // value properties, a function returning such an array, a FormData\n      // object (for XHR file uploads), or a simple object.\n      // The form of the first fileInput is given as parameter to the function:\n      formData: function (form) {\n        return form.serializeArray();\n      },\n\n      // The add callback is invoked as soon as files are added to the fileupload\n      // widget (via file input selection, drag & drop, paste or add API call).\n      // If the singleFileUploads option is enabled, this callback will be\n      // called once for each file in the selection for XHR file uploads, else\n      // once for each file selection.\n      //\n      // The upload starts when the submit method is invoked on the data parameter.\n      // The data object contains a files property holding the added files\n      // and allows you to override plugin options as well as define ajax settings.\n      //\n      // Listeners for this callback can also be bound the following way:\n      // .on('fileuploadadd', func);\n      //\n      // data.submit() returns a Promise object and allows to attach additional\n      // handlers using jQuery's Deferred callbacks:\n      // data.submit().done(func).fail(func).always(func);\n      add: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        if (\n          data.autoUpload ||\n          (data.autoUpload !== false &&\n            $(this).fileupload('option', 'autoUpload'))\n        ) {\n          data.process().done(function () {\n            data.submit();\n          });\n        }\n      },\n\n      // Other callbacks:\n\n      // Callback for the submit event of each file upload:\n      // submit: function (e, data) {}, // .on('fileuploadsubmit', func);\n\n      // Callback for the start of each file upload request:\n      // send: function (e, data) {}, // .on('fileuploadsend', func);\n\n      // Callback for successful uploads:\n      // done: function (e, data) {}, // .on('fileuploaddone', func);\n\n      // Callback for failed (abort or error) uploads:\n      // fail: function (e, data) {}, // .on('fileuploadfail', func);\n\n      // Callback for completed (success, abort or error) requests:\n      // always: function (e, data) {}, // .on('fileuploadalways', func);\n\n      // Callback for upload progress events:\n      // progress: function (e, data) {}, // .on('fileuploadprogress', func);\n\n      // Callback for global upload progress events:\n      // progressall: function (e, data) {}, // .on('fileuploadprogressall', func);\n\n      // Callback for uploads start, equivalent to the global ajaxStart event:\n      // start: function (e) {}, // .on('fileuploadstart', func);\n\n      // Callback for uploads stop, equivalent to the global ajaxStop event:\n      // stop: function (e) {}, // .on('fileuploadstop', func);\n\n      // Callback for change events of the fileInput(s):\n      // change: function (e, data) {}, // .on('fileuploadchange', func);\n\n      // Callback for paste events to the pasteZone(s):\n      // paste: function (e, data) {}, // .on('fileuploadpaste', func);\n\n      // Callback for drop events of the dropZone(s):\n      // drop: function (e, data) {}, // .on('fileuploaddrop', func);\n\n      // Callback for dragover events of the dropZone(s):\n      // dragover: function (e) {}, // .on('fileuploaddragover', func);\n\n      // Callback before the start of each chunk upload request (before form data initialization):\n      // chunkbeforesend: function (e, data) {}, // .on('fileuploadchunkbeforesend', func);\n\n      // Callback for the start of each chunk upload request:\n      // chunksend: function (e, data) {}, // .on('fileuploadchunksend', func);\n\n      // Callback for successful chunk uploads:\n      // chunkdone: function (e, data) {}, // .on('fileuploadchunkdone', func);\n\n      // Callback for failed (abort or error) chunk uploads:\n      // chunkfail: function (e, data) {}, // .on('fileuploadchunkfail', func);\n\n      // Callback for completed (success, abort or error) chunk upload requests:\n      // chunkalways: function (e, data) {}, // .on('fileuploadchunkalways', func);\n\n      // The plugin options are used as settings object for the ajax calls.\n      // The following are jQuery ajax settings required for the file uploads:\n      processData: false,\n      contentType: false,\n      cache: false,\n      timeout: 0\n    },\n\n    // jQuery versions before 1.8 require promise.pipe if the return value is\n    // used, as promise.then in older versions has a different behavior, see:\n    // https://blog.jquery.com/2012/08/09/jquery-1-8-released/\n    // https://bugs.jquery.com/ticket/11010\n    // https://github.com/blueimp/jQuery-File-Upload/pull/3435\n    _promisePipe: (function () {\n      var parts = $.fn.jquery.split('.');\n      return Number(parts[0]) > 1 || Number(parts[1]) > 7 ? 'then' : 'pipe';\n    })(),\n\n    // A list of options that require reinitializing event listeners and/or\n    // special initialization code:\n    _specialOptions: [\n      'fileInput',\n      'dropZone',\n      'pasteZone',\n      'multipart',\n      'forceIframeTransport'\n    ],\n\n    _blobSlice:\n      $.support.blobSlice &&\n      function () {\n        var slice = this.slice || this.webkitSlice || this.mozSlice;\n        return slice.apply(this, arguments);\n      },\n\n    _BitrateTimer: function () {\n      this.timestamp = Date.now ? Date.now() : new Date().getTime();\n      this.loaded = 0;\n      this.bitrate = 0;\n      this.getBitrate = function (now, loaded, interval) {\n        var timeDiff = now - this.timestamp;\n        if (!this.bitrate || !interval || timeDiff > interval) {\n          this.bitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;\n          this.loaded = loaded;\n          this.timestamp = now;\n        }\n        return this.bitrate;\n      };\n    },\n\n    _isXHRUpload: function (options) {\n      return (\n        !options.forceIframeTransport &&\n        ((!options.multipart && $.support.xhrFileUpload) ||\n          $.support.xhrFormDataFileUpload)\n      );\n    },\n\n    _getFormData: function (options) {\n      var formData;\n      if ($.type(options.formData) === 'function') {\n        return options.formData(options.form);\n      }\n      if ($.isArray(options.formData)) {\n        return options.formData;\n      }\n      if ($.type(options.formData) === 'object') {\n        formData = [];\n        $.each(options.formData, function (name, value) {\n          formData.push({ name: name, value: value });\n        });\n        return formData;\n      }\n      return [];\n    },\n\n    _getTotal: function (files) {\n      var total = 0;\n      $.each(files, function (index, file) {\n        total += file.size || 1;\n      });\n      return total;\n    },\n\n    _initProgressObject: function (obj) {\n      var progress = {\n        loaded: 0,\n        total: 0,\n        bitrate: 0\n      };\n      if (obj._progress) {\n        $.extend(obj._progress, progress);\n      } else {\n        obj._progress = progress;\n      }\n    },\n\n    _initResponseObject: function (obj) {\n      var prop;\n      if (obj._response) {\n        for (prop in obj._response) {\n          if (Object.prototype.hasOwnProperty.call(obj._response, prop)) {\n            delete obj._response[prop];\n          }\n        }\n      } else {\n        obj._response = {};\n      }\n    },\n\n    _onProgress: function (e, data) {\n      if (e.lengthComputable) {\n        var now = Date.now ? Date.now() : new Date().getTime(),\n          loaded;\n        if (\n          data._time &&\n          data.progressInterval &&\n          now - data._time < data.progressInterval &&\n          e.loaded !== e.total\n        ) {\n          return;\n        }\n        data._time = now;\n        loaded =\n          Math.floor(\n            (e.loaded / e.total) * (data.chunkSize || data._progress.total)\n          ) + (data.uploadedBytes || 0);\n        // Add the difference from the previously loaded state\n        // to the global loaded counter:\n        this._progress.loaded += loaded - data._progress.loaded;\n        this._progress.bitrate = this._bitrateTimer.getBitrate(\n          now,\n          this._progress.loaded,\n          data.bitrateInterval\n        );\n        data._progress.loaded = data.loaded = loaded;\n        data._progress.bitrate = data.bitrate = data._bitrateTimer.getBitrate(\n          now,\n          loaded,\n          data.bitrateInterval\n        );\n        // Trigger a custom progress event with a total data property set\n        // to the file size(s) of the current upload and a loaded data\n        // property calculated accordingly:\n        this._trigger(\n          'progress',\n          $.Event('progress', { delegatedEvent: e }),\n          data\n        );\n        // Trigger a global progress event for all current file uploads,\n        // including ajax calls queued for sequential file uploads:\n        this._trigger(\n          'progressall',\n          $.Event('progressall', { delegatedEvent: e }),\n          this._progress\n        );\n      }\n    },\n\n    _initProgressListener: function (options) {\n      var that = this,\n        xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\n      // Access to the native XHR object is required to add event listeners\n      // for the upload progress event:\n      if (xhr.upload) {\n        $(xhr.upload).on('progress', function (e) {\n          var oe = e.originalEvent;\n          // Make sure the progress event properties get copied over:\n          e.lengthComputable = oe.lengthComputable;\n          e.loaded = oe.loaded;\n          e.total = oe.total;\n          that._onProgress(e, options);\n        });\n        options.xhr = function () {\n          return xhr;\n        };\n      }\n    },\n\n    _deinitProgressListener: function (options) {\n      var xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\n      if (xhr.upload) {\n        $(xhr.upload).off('progress');\n      }\n    },\n\n    _isInstanceOf: function (type, obj) {\n      // Cross-frame instanceof check\n      return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n    },\n\n    _getUniqueFilename: function (name, map) {\n      // eslint-disable-next-line no-param-reassign\n      name = String(name);\n      if (map[name]) {\n        // eslint-disable-next-line no-param-reassign\n        name = name.replace(\n          /(?: \\(([\\d]+)\\))?(\\.[^.]+)?$/,\n          function (_, p1, p2) {\n            var index = p1 ? Number(p1) + 1 : 1;\n            var ext = p2 || '';\n            return ' (' + index + ')' + ext;\n          }\n        );\n        return this._getUniqueFilename(name, map);\n      }\n      map[name] = true;\n      return name;\n    },\n\n    _initXHRData: function (options) {\n      var that = this,\n        formData,\n        file = options.files[0],\n        // Ignore non-multipart setting if not supported:\n        multipart = options.multipart || !$.support.xhrFileUpload,\n        paramName =\n          $.type(options.paramName) === 'array'\n            ? options.paramName[0]\n            : options.paramName;\n      options.headers = $.extend({}, options.headers);\n      if (options.contentRange) {\n        options.headers['Content-Range'] = options.contentRange;\n      }\n      if (!multipart || options.blob || !this._isInstanceOf('File', file)) {\n        options.headers['Content-Disposition'] =\n          'attachment; filename=\"' +\n          encodeURI(file.uploadName || file.name) +\n          '\"';\n      }\n      if (!multipart) {\n        options.contentType = file.type || 'application/octet-stream';\n        options.data = options.blob || file;\n      } else if ($.support.xhrFormDataFileUpload) {\n        if (options.postMessage) {\n          // window.postMessage does not allow sending FormData\n          // objects, so we just add the File/Blob objects to\n          // the formData array and let the postMessage window\n          // create the FormData object out of this array:\n          formData = this._getFormData(options);\n          if (options.blob) {\n            formData.push({\n              name: paramName,\n              value: options.blob\n            });\n          } else {\n            $.each(options.files, function (index, file) {\n              formData.push({\n                name:\n                  ($.type(options.paramName) === 'array' &&\n                    options.paramName[index]) ||\n                  paramName,\n                value: file\n              });\n            });\n          }\n        } else {\n          if (that._isInstanceOf('FormData', options.formData)) {\n            formData = options.formData;\n          } else {\n            formData = new FormData();\n            $.each(this._getFormData(options), function (index, field) {\n              formData.append(field.name, field.value);\n            });\n          }\n          if (options.blob) {\n            formData.append(\n              paramName,\n              options.blob,\n              file.uploadName || file.name\n            );\n          } else {\n            $.each(options.files, function (index, file) {\n              // This check allows the tests to run with\n              // dummy objects:\n              if (\n                that._isInstanceOf('File', file) ||\n                that._isInstanceOf('Blob', file)\n              ) {\n                var fileName = file.uploadName || file.name;\n                if (options.uniqueFilenames) {\n                  fileName = that._getUniqueFilename(\n                    fileName,\n                    options.uniqueFilenames\n                  );\n                }\n                formData.append(\n                  ($.type(options.paramName) === 'array' &&\n                    options.paramName[index]) ||\n                    paramName,\n                  file,\n                  fileName\n                );\n              }\n            });\n          }\n        }\n        options.data = formData;\n      }\n      // Blob reference is not needed anymore, free memory:\n      options.blob = null;\n    },\n\n    _initIframeSettings: function (options) {\n      var targetHost = $('<a></a>').prop('href', options.url).prop('host');\n      // Setting the dataType to iframe enables the iframe transport:\n      options.dataType = 'iframe ' + (options.dataType || '');\n      // The iframe transport accepts a serialized array as form data:\n      options.formData = this._getFormData(options);\n      // Add redirect url to form data on cross-domain uploads:\n      if (options.redirect && targetHost && targetHost !== location.host) {\n        options.formData.push({\n          name: options.redirectParamName || 'redirect',\n          value: options.redirect\n        });\n      }\n    },\n\n    _initDataSettings: function (options) {\n      if (this._isXHRUpload(options)) {\n        if (!this._chunkedUpload(options, true)) {\n          if (!options.data) {\n            this._initXHRData(options);\n          }\n          this._initProgressListener(options);\n        }\n        if (options.postMessage) {\n          // Setting the dataType to postmessage enables the\n          // postMessage transport:\n          options.dataType = 'postmessage ' + (options.dataType || '');\n        }\n      } else {\n        this._initIframeSettings(options);\n      }\n    },\n\n    _getParamName: function (options) {\n      var fileInput = $(options.fileInput),\n        paramName = options.paramName;\n      if (!paramName) {\n        paramName = [];\n        fileInput.each(function () {\n          var input = $(this),\n            name = input.prop('name') || 'files[]',\n            i = (input.prop('files') || [1]).length;\n          while (i) {\n            paramName.push(name);\n            i -= 1;\n          }\n        });\n        if (!paramName.length) {\n          paramName = [fileInput.prop('name') || 'files[]'];\n        }\n      } else if (!$.isArray(paramName)) {\n        paramName = [paramName];\n      }\n      return paramName;\n    },\n\n    _initFormSettings: function (options) {\n      // Retrieve missing options from the input field and the\n      // associated form, if available:\n      if (!options.form || !options.form.length) {\n        options.form = $(options.fileInput.prop('form'));\n        // If the given file input doesn't have an associated form,\n        // use the default widget file input's form:\n        if (!options.form.length) {\n          options.form = $(this.options.fileInput.prop('form'));\n        }\n      }\n      options.paramName = this._getParamName(options);\n      if (!options.url) {\n        options.url = options.form.prop('action') || location.href;\n      }\n      // The HTTP request method must be \"POST\" or \"PUT\":\n      options.type = (\n        options.type ||\n        ($.type(options.form.prop('method')) === 'string' &&\n          options.form.prop('method')) ||\n        ''\n      ).toUpperCase();\n      if (\n        options.type !== 'POST' &&\n        options.type !== 'PUT' &&\n        options.type !== 'PATCH'\n      ) {\n        options.type = 'POST';\n      }\n      if (!options.formAcceptCharset) {\n        options.formAcceptCharset = options.form.attr('accept-charset');\n      }\n    },\n\n    _getAJAXSettings: function (data) {\n      var options = $.extend({}, this.options, data);\n      this._initFormSettings(options);\n      this._initDataSettings(options);\n      return options;\n    },\n\n    // jQuery 1.6 doesn't provide .state(),\n    // while jQuery 1.8+ removed .isRejected() and .isResolved():\n    _getDeferredState: function (deferred) {\n      if (deferred.state) {\n        return deferred.state();\n      }\n      if (deferred.isResolved()) {\n        return 'resolved';\n      }\n      if (deferred.isRejected()) {\n        return 'rejected';\n      }\n      return 'pending';\n    },\n\n    // Maps jqXHR callbacks to the equivalent\n    // methods of the given Promise object:\n    _enhancePromise: function (promise) {\n      promise.success = promise.done;\n      promise.error = promise.fail;\n      promise.complete = promise.always;\n      return promise;\n    },\n\n    // Creates and returns a Promise object enhanced with\n    // the jqXHR methods abort, success, error and complete:\n    _getXHRPromise: function (resolveOrReject, context, args) {\n      var dfd = $.Deferred(),\n        promise = dfd.promise();\n      // eslint-disable-next-line no-param-reassign\n      context = context || this.options.context || promise;\n      if (resolveOrReject === true) {\n        dfd.resolveWith(context, args);\n      } else if (resolveOrReject === false) {\n        dfd.rejectWith(context, args);\n      }\n      promise.abort = dfd.promise;\n      return this._enhancePromise(promise);\n    },\n\n    // Adds convenience methods to the data callback argument:\n    _addConvenienceMethods: function (e, data) {\n      var that = this,\n        getPromise = function (args) {\n          return $.Deferred().resolveWith(that, args).promise();\n        };\n      data.process = function (resolveFunc, rejectFunc) {\n        if (resolveFunc || rejectFunc) {\n          data._processQueue = this._processQueue = (this._processQueue ||\n            getPromise([this]))\n            [that._promisePipe](function () {\n              if (data.errorThrown) {\n                return $.Deferred().rejectWith(that, [data]).promise();\n              }\n              return getPromise(arguments);\n            })\n            [that._promisePipe](resolveFunc, rejectFunc);\n        }\n        return this._processQueue || getPromise([this]);\n      };\n      data.submit = function () {\n        if (this.state() !== 'pending') {\n          data.jqXHR = this.jqXHR =\n            that._trigger(\n              'submit',\n              $.Event('submit', { delegatedEvent: e }),\n              this\n            ) !== false && that._onSend(e, this);\n        }\n        return this.jqXHR || that._getXHRPromise();\n      };\n      data.abort = function () {\n        if (this.jqXHR) {\n          return this.jqXHR.abort();\n        }\n        this.errorThrown = 'abort';\n        that._trigger('fail', null, this);\n        return that._getXHRPromise(false);\n      };\n      data.state = function () {\n        if (this.jqXHR) {\n          return that._getDeferredState(this.jqXHR);\n        }\n        if (this._processQueue) {\n          return that._getDeferredState(this._processQueue);\n        }\n      };\n      data.processing = function () {\n        return (\n          !this.jqXHR &&\n          this._processQueue &&\n          that._getDeferredState(this._processQueue) === 'pending'\n        );\n      };\n      data.progress = function () {\n        return this._progress;\n      };\n      data.response = function () {\n        return this._response;\n      };\n    },\n\n    // Parses the Range header from the server response\n    // and returns the uploaded bytes:\n    _getUploadedBytes: function (jqXHR) {\n      var range = jqXHR.getResponseHeader('Range'),\n        parts = range && range.split('-'),\n        upperBytesPos = parts && parts.length > 1 && parseInt(parts[1], 10);\n      return upperBytesPos && upperBytesPos + 1;\n    },\n\n    // Uploads a file in multiple, sequential requests\n    // by splitting the file up in multiple blob chunks.\n    // If the second parameter is true, only tests if the file\n    // should be uploaded in chunks, but does not invoke any\n    // upload requests:\n    _chunkedUpload: function (options, testOnly) {\n      options.uploadedBytes = options.uploadedBytes || 0;\n      var that = this,\n        file = options.files[0],\n        fs = file.size,\n        ub = options.uploadedBytes,\n        mcs = options.maxChunkSize || fs,\n        slice = this._blobSlice,\n        dfd = $.Deferred(),\n        promise = dfd.promise(),\n        jqXHR,\n        upload;\n      if (\n        !(\n          this._isXHRUpload(options) &&\n          slice &&\n          (ub || ($.type(mcs) === 'function' ? mcs(options) : mcs) < fs)\n        ) ||\n        options.data\n      ) {\n        return false;\n      }\n      if (testOnly) {\n        return true;\n      }\n      if (ub >= fs) {\n        file.error = options.i18n('uploadedBytes');\n        return this._getXHRPromise(false, options.context, [\n          null,\n          'error',\n          file.error\n        ]);\n      }\n      // The chunk upload method:\n      upload = function () {\n        // Clone the options object for each chunk upload:\n        var o = $.extend({}, options),\n          currentLoaded = o._progress.loaded;\n        o.blob = slice.call(\n          file,\n          ub,\n          ub + ($.type(mcs) === 'function' ? mcs(o) : mcs),\n          file.type\n        );\n        // Store the current chunk size, as the blob itself\n        // will be dereferenced after data processing:\n        o.chunkSize = o.blob.size;\n        // Expose the chunk bytes position range:\n        o.contentRange =\n          'bytes ' + ub + '-' + (ub + o.chunkSize - 1) + '/' + fs;\n        // Trigger chunkbeforesend to allow form data to be updated for this chunk\n        that._trigger('chunkbeforesend', null, o);\n        // Process the upload data (the blob and potential form data):\n        that._initXHRData(o);\n        // Add progress listeners for this chunk upload:\n        that._initProgressListener(o);\n        jqXHR = (\n          (that._trigger('chunksend', null, o) !== false && $.ajax(o)) ||\n          that._getXHRPromise(false, o.context)\n        )\n          .done(function (result, textStatus, jqXHR) {\n            ub = that._getUploadedBytes(jqXHR) || ub + o.chunkSize;\n            // Create a progress event if no final progress event\n            // with loaded equaling total has been triggered\n            // for this chunk:\n            if (currentLoaded + o.chunkSize - o._progress.loaded) {\n              that._onProgress(\n                $.Event('progress', {\n                  lengthComputable: true,\n                  loaded: ub - o.uploadedBytes,\n                  total: ub - o.uploadedBytes\n                }),\n                o\n              );\n            }\n            options.uploadedBytes = o.uploadedBytes = ub;\n            o.result = result;\n            o.textStatus = textStatus;\n            o.jqXHR = jqXHR;\n            that._trigger('chunkdone', null, o);\n            that._trigger('chunkalways', null, o);\n            if (ub < fs) {\n              // File upload not yet complete,\n              // continue with the next chunk:\n              upload();\n            } else {\n              dfd.resolveWith(o.context, [result, textStatus, jqXHR]);\n            }\n          })\n          .fail(function (jqXHR, textStatus, errorThrown) {\n            o.jqXHR = jqXHR;\n            o.textStatus = textStatus;\n            o.errorThrown = errorThrown;\n            that._trigger('chunkfail', null, o);\n            that._trigger('chunkalways', null, o);\n            dfd.rejectWith(o.context, [jqXHR, textStatus, errorThrown]);\n          })\n          .always(function () {\n            that._deinitProgressListener(o);\n          });\n      };\n      this._enhancePromise(promise);\n      promise.abort = function () {\n        return jqXHR.abort();\n      };\n      upload();\n      return promise;\n    },\n\n    _beforeSend: function (e, data) {\n      if (this._active === 0) {\n        // the start callback is triggered when an upload starts\n        // and no other uploads are currently running,\n        // equivalent to the global ajaxStart event:\n        this._trigger('start');\n        // Set timer for global bitrate progress calculation:\n        this._bitrateTimer = new this._BitrateTimer();\n        // Reset the global progress values:\n        this._progress.loaded = this._progress.total = 0;\n        this._progress.bitrate = 0;\n      }\n      // Make sure the container objects for the .response() and\n      // .progress() methods on the data object are available\n      // and reset to their initial state:\n      this._initResponseObject(data);\n      this._initProgressObject(data);\n      data._progress.loaded = data.loaded = data.uploadedBytes || 0;\n      data._progress.total = data.total = this._getTotal(data.files) || 1;\n      data._progress.bitrate = data.bitrate = 0;\n      this._active += 1;\n      // Initialize the global progress values:\n      this._progress.loaded += data.loaded;\n      this._progress.total += data.total;\n    },\n\n    _onDone: function (result, textStatus, jqXHR, options) {\n      var total = options._progress.total,\n        response = options._response;\n      if (options._progress.loaded < total) {\n        // Create a progress event if no final progress event\n        // with loaded equaling total has been triggered:\n        this._onProgress(\n          $.Event('progress', {\n            lengthComputable: true,\n            loaded: total,\n            total: total\n          }),\n          options\n        );\n      }\n      response.result = options.result = result;\n      response.textStatus = options.textStatus = textStatus;\n      response.jqXHR = options.jqXHR = jqXHR;\n      this._trigger('done', null, options);\n    },\n\n    _onFail: function (jqXHR, textStatus, errorThrown, options) {\n      var response = options._response;\n      if (options.recalculateProgress) {\n        // Remove the failed (error or abort) file upload from\n        // the global progress calculation:\n        this._progress.loaded -= options._progress.loaded;\n        this._progress.total -= options._progress.total;\n      }\n      response.jqXHR = options.jqXHR = jqXHR;\n      response.textStatus = options.textStatus = textStatus;\n      response.errorThrown = options.errorThrown = errorThrown;\n      this._trigger('fail', null, options);\n    },\n\n    _onAlways: function (jqXHRorResult, textStatus, jqXHRorError, options) {\n      // jqXHRorResult, textStatus and jqXHRorError are added to the\n      // options object via done and fail callbacks\n      this._trigger('always', null, options);\n    },\n\n    _onSend: function (e, data) {\n      if (!data.submit) {\n        this._addConvenienceMethods(e, data);\n      }\n      var that = this,\n        jqXHR,\n        aborted,\n        slot,\n        pipe,\n        options = that._getAJAXSettings(data),\n        send = function () {\n          that._sending += 1;\n          // Set timer for bitrate progress calculation:\n          options._bitrateTimer = new that._BitrateTimer();\n          jqXHR =\n            jqXHR ||\n            (\n              ((aborted ||\n                that._trigger(\n                  'send',\n                  $.Event('send', { delegatedEvent: e }),\n                  options\n                ) === false) &&\n                that._getXHRPromise(false, options.context, aborted)) ||\n              that._chunkedUpload(options) ||\n              $.ajax(options)\n            )\n              .done(function (result, textStatus, jqXHR) {\n                that._onDone(result, textStatus, jqXHR, options);\n              })\n              .fail(function (jqXHR, textStatus, errorThrown) {\n                that._onFail(jqXHR, textStatus, errorThrown, options);\n              })\n              .always(function (jqXHRorResult, textStatus, jqXHRorError) {\n                that._deinitProgressListener(options);\n                that._onAlways(\n                  jqXHRorResult,\n                  textStatus,\n                  jqXHRorError,\n                  options\n                );\n                that._sending -= 1;\n                that._active -= 1;\n                if (\n                  options.limitConcurrentUploads &&\n                  options.limitConcurrentUploads > that._sending\n                ) {\n                  // Start the next queued upload,\n                  // that has not been aborted:\n                  var nextSlot = that._slots.shift();\n                  while (nextSlot) {\n                    if (that._getDeferredState(nextSlot) === 'pending') {\n                      nextSlot.resolve();\n                      break;\n                    }\n                    nextSlot = that._slots.shift();\n                  }\n                }\n                if (that._active === 0) {\n                  // The stop callback is triggered when all uploads have\n                  // been completed, equivalent to the global ajaxStop event:\n                  that._trigger('stop');\n                }\n              });\n          return jqXHR;\n        };\n      this._beforeSend(e, options);\n      if (\n        this.options.sequentialUploads ||\n        (this.options.limitConcurrentUploads &&\n          this.options.limitConcurrentUploads <= this._sending)\n      ) {\n        if (this.options.limitConcurrentUploads > 1) {\n          slot = $.Deferred();\n          this._slots.push(slot);\n          pipe = slot[that._promisePipe](send);\n        } else {\n          this._sequence = this._sequence[that._promisePipe](send, send);\n          pipe = this._sequence;\n        }\n        // Return the piped Promise object, enhanced with an abort method,\n        // which is delegated to the jqXHR object of the current upload,\n        // and jqXHR callbacks mapped to the equivalent Promise methods:\n        pipe.abort = function () {\n          aborted = [undefined, 'abort', 'abort'];\n          if (!jqXHR) {\n            if (slot) {\n              slot.rejectWith(options.context, aborted);\n            }\n            return send();\n          }\n          return jqXHR.abort();\n        };\n        return this._enhancePromise(pipe);\n      }\n      return send();\n    },\n\n    _onAdd: function (e, data) {\n      var that = this,\n        result = true,\n        options = $.extend({}, this.options, data),\n        files = data.files,\n        filesLength = files.length,\n        limit = options.limitMultiFileUploads,\n        limitSize = options.limitMultiFileUploadSize,\n        overhead = options.limitMultiFileUploadSizeOverhead,\n        batchSize = 0,\n        paramName = this._getParamName(options),\n        paramNameSet,\n        paramNameSlice,\n        fileSet,\n        i,\n        j = 0;\n      if (!filesLength) {\n        return false;\n      }\n      if (limitSize && files[0].size === undefined) {\n        limitSize = undefined;\n      }\n      if (\n        !(options.singleFileUploads || limit || limitSize) ||\n        !this._isXHRUpload(options)\n      ) {\n        fileSet = [files];\n        paramNameSet = [paramName];\n      } else if (!(options.singleFileUploads || limitSize) && limit) {\n        fileSet = [];\n        paramNameSet = [];\n        for (i = 0; i < filesLength; i += limit) {\n          fileSet.push(files.slice(i, i + limit));\n          paramNameSlice = paramName.slice(i, i + limit);\n          if (!paramNameSlice.length) {\n            paramNameSlice = paramName;\n          }\n          paramNameSet.push(paramNameSlice);\n        }\n      } else if (!options.singleFileUploads && limitSize) {\n        fileSet = [];\n        paramNameSet = [];\n        for (i = 0; i < filesLength; i = i + 1) {\n          batchSize += files[i].size + overhead;\n          if (\n            i + 1 === filesLength ||\n            batchSize + files[i + 1].size + overhead > limitSize ||\n            (limit && i + 1 - j >= limit)\n          ) {\n            fileSet.push(files.slice(j, i + 1));\n            paramNameSlice = paramName.slice(j, i + 1);\n            if (!paramNameSlice.length) {\n              paramNameSlice = paramName;\n            }\n            paramNameSet.push(paramNameSlice);\n            j = i + 1;\n            batchSize = 0;\n          }\n        }\n      } else {\n        paramNameSet = paramName;\n      }\n      data.originalFiles = files;\n      $.each(fileSet || files, function (index, element) {\n        var newData = $.extend({}, data);\n        newData.files = fileSet ? element : [element];\n        newData.paramName = paramNameSet[index];\n        that._initResponseObject(newData);\n        that._initProgressObject(newData);\n        that._addConvenienceMethods(e, newData);\n        result = that._trigger(\n          'add',\n          $.Event('add', { delegatedEvent: e }),\n          newData\n        );\n        return result;\n      });\n      return result;\n    },\n\n    _replaceFileInput: function (data) {\n      var input = data.fileInput,\n        inputClone = input.clone(true),\n        restoreFocus = input.is(document.activeElement);\n      // Add a reference for the new cloned file input to the data argument:\n      data.fileInputClone = inputClone;\n      $('<form></form>').append(inputClone)[0].reset();\n      // Detaching allows to insert the fileInput on another form\n      // without losing the file input value:\n      input.after(inputClone).detach();\n      // If the fileInput had focus before it was detached,\n      // restore focus to the inputClone.\n      if (restoreFocus) {\n        inputClone.trigger('focus');\n      }\n      // Avoid memory leaks with the detached file input:\n      $.cleanData(input.off('remove'));\n      // Replace the original file input element in the fileInput\n      // elements set with the clone, which has been copied including\n      // event handlers:\n      this.options.fileInput = this.options.fileInput.map(function (i, el) {\n        if (el === input[0]) {\n          return inputClone[0];\n        }\n        return el;\n      });\n      // If the widget has been initialized on the file input itself,\n      // override this.element with the file input clone:\n      if (input[0] === this.element[0]) {\n        this.element = inputClone;\n      }\n    },\n\n    _handleFileTreeEntry: function (entry, path) {\n      var that = this,\n        dfd = $.Deferred(),\n        entries = [],\n        dirReader,\n        errorHandler = function (e) {\n          if (e && !e.entry) {\n            e.entry = entry;\n          }\n          // Since $.when returns immediately if one\n          // Deferred is rejected, we use resolve instead.\n          // This allows valid files and invalid items\n          // to be returned together in one set:\n          dfd.resolve([e]);\n        },\n        successHandler = function (entries) {\n          that\n            ._handleFileTreeEntries(entries, path + entry.name + '/')\n            .done(function (files) {\n              dfd.resolve(files);\n            })\n            .fail(errorHandler);\n        },\n        readEntries = function () {\n          dirReader.readEntries(function (results) {\n            if (!results.length) {\n              successHandler(entries);\n            } else {\n              entries = entries.concat(results);\n              readEntries();\n            }\n          }, errorHandler);\n        };\n      // eslint-disable-next-line no-param-reassign\n      path = path || '';\n      if (entry.isFile) {\n        if (entry._file) {\n          // Workaround for Chrome bug #149735\n          entry._file.relativePath = path;\n          dfd.resolve(entry._file);\n        } else {\n          entry.file(function (file) {\n            file.relativePath = path;\n            dfd.resolve(file);\n          }, errorHandler);\n        }\n      } else if (entry.isDirectory) {\n        dirReader = entry.createReader();\n        readEntries();\n      } else {\n        // Return an empty list for file system items\n        // other than files or directories:\n        dfd.resolve([]);\n      }\n      return dfd.promise();\n    },\n\n    _handleFileTreeEntries: function (entries, path) {\n      var that = this;\n      return $.when\n        .apply(\n          $,\n          $.map(entries, function (entry) {\n            return that._handleFileTreeEntry(entry, path);\n          })\n        )\n        [this._promisePipe](function () {\n          return Array.prototype.concat.apply([], arguments);\n        });\n    },\n\n    _getDroppedFiles: function (dataTransfer) {\n      // eslint-disable-next-line no-param-reassign\n      dataTransfer = dataTransfer || {};\n      var items = dataTransfer.items;\n      if (\n        items &&\n        items.length &&\n        (items[0].webkitGetAsEntry || items[0].getAsEntry)\n      ) {\n        return this._handleFileTreeEntries(\n          $.map(items, function (item) {\n            var entry;\n            if (item.webkitGetAsEntry) {\n              entry = item.webkitGetAsEntry();\n              if (entry) {\n                // Workaround for Chrome bug #149735:\n                entry._file = item.getAsFile();\n              }\n              return entry;\n            }\n            return item.getAsEntry();\n          })\n        );\n      }\n      return $.Deferred().resolve($.makeArray(dataTransfer.files)).promise();\n    },\n\n    _getSingleFileInputFiles: function (fileInput) {\n      // eslint-disable-next-line no-param-reassign\n      fileInput = $(fileInput);\n      var entries = fileInput.prop('entries'),\n        files,\n        value;\n      if (entries && entries.length) {\n        return this._handleFileTreeEntries(entries);\n      }\n      files = $.makeArray(fileInput.prop('files'));\n      if (!files.length) {\n        value = fileInput.prop('value');\n        if (!value) {\n          return $.Deferred().resolve([]).promise();\n        }\n        // If the files property is not available, the browser does not\n        // support the File API and we add a pseudo File object with\n        // the input value as name with path information removed:\n        files = [{ name: value.replace(/^.*\\\\/, '') }];\n      } else if (files[0].name === undefined && files[0].fileName) {\n        // File normalization for Safari 4 and Firefox 3:\n        $.each(files, function (index, file) {\n          file.name = file.fileName;\n          file.size = file.fileSize;\n        });\n      }\n      return $.Deferred().resolve(files).promise();\n    },\n\n    _getFileInputFiles: function (fileInput) {\n      if (!(fileInput instanceof $) || fileInput.length === 1) {\n        return this._getSingleFileInputFiles(fileInput);\n      }\n      return $.when\n        .apply($, $.map(fileInput, this._getSingleFileInputFiles))\n        [this._promisePipe](function () {\n          return Array.prototype.concat.apply([], arguments);\n        });\n    },\n\n    _onChange: function (e) {\n      var that = this,\n        data = {\n          fileInput: $(e.target),\n          form: $(e.target.form)\n        };\n      this._getFileInputFiles(data.fileInput).always(function (files) {\n        data.files = files;\n        if (that.options.replaceFileInput) {\n          that._replaceFileInput(data);\n        }\n        if (\n          that._trigger(\n            'change',\n            $.Event('change', { delegatedEvent: e }),\n            data\n          ) !== false\n        ) {\n          that._onAdd(e, data);\n        }\n      });\n    },\n\n    _onPaste: function (e) {\n      var items =\n          e.originalEvent &&\n          e.originalEvent.clipboardData &&\n          e.originalEvent.clipboardData.items,\n        data = { files: [] };\n      if (items && items.length) {\n        $.each(items, function (index, item) {\n          var file = item.getAsFile && item.getAsFile();\n          if (file) {\n            data.files.push(file);\n          }\n        });\n        if (\n          this._trigger(\n            'paste',\n            $.Event('paste', { delegatedEvent: e }),\n            data\n          ) !== false\n        ) {\n          this._onAdd(e, data);\n        }\n      }\n    },\n\n    _onDrop: function (e) {\n      e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n      var that = this,\n        dataTransfer = e.dataTransfer,\n        data = {};\n      if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n        e.preventDefault();\n        this._getDroppedFiles(dataTransfer).always(function (files) {\n          data.files = files;\n          if (\n            that._trigger(\n              'drop',\n              $.Event('drop', { delegatedEvent: e }),\n              data\n            ) !== false\n          ) {\n            that._onAdd(e, data);\n          }\n        });\n      }\n    },\n\n    _onDragOver: getDragHandler('dragover'),\n\n    _onDragEnter: getDragHandler('dragenter'),\n\n    _onDragLeave: getDragHandler('dragleave'),\n\n    _initEventHandlers: function () {\n      if (this._isXHRUpload(this.options)) {\n        this._on(this.options.dropZone, {\n          dragover: this._onDragOver,\n          drop: this._onDrop,\n          // event.preventDefault() on dragenter is required for IE10+:\n          dragenter: this._onDragEnter,\n          // dragleave is not required, but added for completeness:\n          dragleave: this._onDragLeave\n        });\n        this._on(this.options.pasteZone, {\n          paste: this._onPaste\n        });\n      }\n      if ($.support.fileInput) {\n        this._on(this.options.fileInput, {\n          change: this._onChange\n        });\n      }\n    },\n\n    _destroyEventHandlers: function () {\n      this._off(this.options.dropZone, 'dragenter dragleave dragover drop');\n      this._off(this.options.pasteZone, 'paste');\n      this._off(this.options.fileInput, 'change');\n    },\n\n    _destroy: function () {\n      this._destroyEventHandlers();\n    },\n\n    _setOption: function (key, value) {\n      var reinit = $.inArray(key, this._specialOptions) !== -1;\n      if (reinit) {\n        this._destroyEventHandlers();\n      }\n      this._super(key, value);\n      if (reinit) {\n        this._initSpecialOptions();\n        this._initEventHandlers();\n      }\n    },\n\n    _initSpecialOptions: function () {\n      var options = this.options;\n      if (options.fileInput === undefined) {\n        options.fileInput = this.element.is('input[type=\"file\"]')\n          ? this.element\n          : this.element.find('input[type=\"file\"]');\n      } else if (!(options.fileInput instanceof $)) {\n        options.fileInput = $(options.fileInput);\n      }\n      if (!(options.dropZone instanceof $)) {\n        options.dropZone = $(options.dropZone);\n      }\n      if (!(options.pasteZone instanceof $)) {\n        options.pasteZone = $(options.pasteZone);\n      }\n    },\n\n    _getRegExp: function (str) {\n      var parts = str.split('/'),\n        modifiers = parts.pop();\n      parts.shift();\n      return new RegExp(parts.join('/'), modifiers);\n    },\n\n    _isRegExpOption: function (key, value) {\n      return (\n        key !== 'url' &&\n        $.type(value) === 'string' &&\n        /^\\/.*\\/[igm]{0,3}$/.test(value)\n      );\n    },\n\n    _initDataAttributes: function () {\n      var that = this,\n        options = this.options,\n        data = this.element.data();\n      // Initialize options set via HTML5 data-attributes:\n      $.each(this.element[0].attributes, function (index, attr) {\n        var key = attr.name.toLowerCase(),\n          value;\n        if (/^data-/.test(key)) {\n          // Convert hyphen-ated key to camelCase:\n          key = key.slice(5).replace(/-[a-z]/g, function (str) {\n            return str.charAt(1).toUpperCase();\n          });\n          value = data[key];\n          if (that._isRegExpOption(key, value)) {\n            value = that._getRegExp(value);\n          }\n          options[key] = value;\n        }\n      });\n    },\n\n    _create: function () {\n      this._initDataAttributes();\n      this._initSpecialOptions();\n      this._slots = [];\n      this._sequence = this._getXHRPromise(true);\n      this._sending = this._active = 0;\n      this._initProgressObject(this);\n      this._initEventHandlers();\n    },\n\n    // This method is exposed to the widget API and allows to query\n    // the number of active uploads:\n    active: function () {\n      return this._active;\n    },\n\n    // This method is exposed to the widget API and allows to query\n    // the widget upload progress.\n    // It returns an object with loaded, total and bitrate properties\n    // for the running uploads:\n    progress: function () {\n      return this._progress;\n    },\n\n    // This method is exposed to the widget API and allows adding files\n    // using the fileupload API. The data parameter accepts an object which\n    // must have a files property and can contain additional options:\n    // .fileupload('add', {files: filesList});\n    add: function (data) {\n      var that = this;\n      if (!data || this.options.disabled) {\n        return;\n      }\n      if (data.fileInput && !data.files) {\n        this._getFileInputFiles(data.fileInput).always(function (files) {\n          data.files = files;\n          that._onAdd(null, data);\n        });\n      } else {\n        data.files = $.makeArray(data.files);\n        this._onAdd(null, data);\n      }\n    },\n\n    // This method is exposed to the widget API and allows sending files\n    // using the fileupload API. The data parameter accepts an object which\n    // must have a files or fileInput property and can contain additional options:\n    // .fileupload('send', {files: filesList});\n    // The method returns a Promise object for the file upload call.\n    send: function (data) {\n      if (data && !this.options.disabled) {\n        if (data.fileInput && !data.files) {\n          var that = this,\n            dfd = $.Deferred(),\n            promise = dfd.promise(),\n            jqXHR,\n            aborted;\n          promise.abort = function () {\n            aborted = true;\n            if (jqXHR) {\n              return jqXHR.abort();\n            }\n            dfd.reject(null, 'abort', 'abort');\n            return promise;\n          };\n          this._getFileInputFiles(data.fileInput).always(function (files) {\n            if (aborted) {\n              return;\n            }\n            if (!files.length) {\n              dfd.reject();\n              return;\n            }\n            data.files = files;\n            jqXHR = that._onSend(null, data);\n            jqXHR.then(\n              function (result, textStatus, jqXHR) {\n                dfd.resolve(result, textStatus, jqXHR);\n              },\n              function (jqXHR, textStatus, errorThrown) {\n                dfd.reject(jqXHR, textStatus, errorThrown);\n              }\n            );\n          });\n          return this._enhancePromise(promise);\n        }\n        data.files = $.makeArray(data.files);\n        if (data.files.length) {\n          return this._onSend(null, data);\n        }\n      }\n      return this._getXHRPromise(false, data && data.context);\n    }\n  });\n});\n","/*\n * jQuery File Upload Processing Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', './jquery.fileupload'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(require('jquery'), require('./jquery.fileupload'));\n  } else {\n    // Browser globals:\n    factory(window.jQuery);\n  }\n})(function ($) {\n  'use strict';\n\n  var originalAdd = $.blueimp.fileupload.prototype.options.add;\n\n  // The File Upload Processing plugin extends the fileupload widget\n  // with file processing functionality:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      // The list of processing actions:\n      processQueue: [\n        /*\n                {\n                    action: 'log',\n                    type: 'debug'\n                }\n                */\n      ],\n      add: function (e, data) {\n        var $this = $(this);\n        data.process(function () {\n          return $this.fileupload('process', data);\n        });\n        originalAdd.call(this, e, data);\n      }\n    },\n\n    processActions: {\n      /*\n            log: function (data, options) {\n                console[options.type](\n                    'Processing \"' + data.files[data.index].name + '\"'\n                );\n            }\n            */\n    },\n\n    _processFile: function (data, originalData) {\n      var that = this,\n        // eslint-disable-next-line new-cap\n        dfd = $.Deferred().resolveWith(that, [data]),\n        chain = dfd.promise();\n      this._trigger('process', null, data);\n      $.each(data.processQueue, function (i, settings) {\n        var func = function (data) {\n          if (originalData.errorThrown) {\n            // eslint-disable-next-line new-cap\n            return $.Deferred().rejectWith(that, [originalData]).promise();\n          }\n          return that.processActions[settings.action].call(\n            that,\n            data,\n            settings\n          );\n        };\n        chain = chain[that._promisePipe](func, settings.always && func);\n      });\n      chain\n        .done(function () {\n          that._trigger('processdone', null, data);\n          that._trigger('processalways', null, data);\n        })\n        .fail(function () {\n          that._trigger('processfail', null, data);\n          that._trigger('processalways', null, data);\n        });\n      return chain;\n    },\n\n    // Replaces the settings of each processQueue item that\n    // are strings starting with an \"@\", using the remaining\n    // substring as key for the option map,\n    // e.g. \"@autoUpload\" is replaced with options.autoUpload:\n    _transformProcessQueue: function (options) {\n      var processQueue = [];\n      $.each(options.processQueue, function () {\n        var settings = {},\n          action = this.action,\n          prefix = this.prefix === true ? action : this.prefix;\n        $.each(this, function (key, value) {\n          if ($.type(value) === 'string' && value.charAt(0) === '@') {\n            settings[key] =\n              options[\n                value.slice(1) ||\n                  (prefix\n                    ? prefix + key.charAt(0).toUpperCase() + key.slice(1)\n                    : key)\n              ];\n          } else {\n            settings[key] = value;\n          }\n        });\n        processQueue.push(settings);\n      });\n      options.processQueue = processQueue;\n    },\n\n    // Returns the number of files currently in the processing queue:\n    processing: function () {\n      return this._processing;\n    },\n\n    // Processes the files given as files property of the data parameter,\n    // returns a Promise object that allows to bind callbacks:\n    process: function (data) {\n      var that = this,\n        options = $.extend({}, this.options, data);\n      if (options.processQueue && options.processQueue.length) {\n        this._transformProcessQueue(options);\n        if (this._processing === 0) {\n          this._trigger('processstart');\n        }\n        $.each(data.files, function (index) {\n          var opts = index ? $.extend({}, options) : options,\n            func = function () {\n              if (data.errorThrown) {\n                // eslint-disable-next-line new-cap\n                return $.Deferred().rejectWith(that, [data]).promise();\n              }\n              return that._processFile(opts, data);\n            };\n          opts.index = index;\n          that._processing += 1;\n          that._processingQueue = that._processingQueue[that._promisePipe](\n            func,\n            func\n          ).always(function () {\n            that._processing -= 1;\n            if (that._processing === 0) {\n              that._trigger('processstop');\n            }\n          });\n        });\n      }\n      return this._processingQueue;\n    },\n\n    _create: function () {\n      this._super();\n      this._processing = 0;\n      // eslint-disable-next-line new-cap\n      this._processingQueue = $.Deferred().resolveWith(this).promise();\n    }\n  });\n});\n","/*\r\n * jQuery File Upload Image Preview & Resize Plugin\r\n * https://github.com/blueimp/jQuery-File-Upload\r\n *\r\n * Copyright 2013, Sebastian Tschan\r\n * https://blueimp.net\r\n *\r\n * Licensed under the MIT license:\r\n * https://opensource.org/licenses/MIT\r\n */\r\n\r\n/* global define, require */\r\n\r\n(function (factory) {\r\n  'use strict';\r\n  if (typeof define === 'function' && define.amd) {\r\n    // Register as an anonymous AMD module:\r\n    define([\r\n      'jquery',\r\n      'load-image',\r\n      'load-image-meta',\r\n      'load-image-scale',\r\n      'load-image-exif',\r\n      'load-image-orientation',\r\n      'canvas-to-blob',\r\n      './jquery.fileupload-process'\r\n    ], factory);\r\n  } else if (typeof exports === 'object') {\r\n    // Node/CommonJS:\r\n    factory(\r\n      require('jquery'),\r\n      require('blueimp-load-image/js/load-image'),\r\n      require('blueimp-load-image/js/load-image-meta'),\r\n      require('blueimp-load-image/js/load-image-scale'),\r\n      require('blueimp-load-image/js/load-image-exif'),\r\n      require('blueimp-load-image/js/load-image-orientation'),\r\n      require('blueimp-canvas-to-blob'),\r\n      require('./jquery.fileupload-process')\r\n    );\r\n  } else {\r\n    // Browser globals:\r\n    factory(window.jQuery, window.loadImage);\r\n  }\r\n})(function ($, loadImage) {\r\n  'use strict';\r\n\r\n  // Prepend to the default processQueue:\r\n  $.blueimp.fileupload.prototype.options.processQueue.unshift(\r\n    {\r\n      action: 'loadImageMetaData',\r\n      maxMetaDataSize: '@',\r\n      disableImageHead: '@',\r\n      disableMetaDataParsers: '@',\r\n      disableExif: '@',\r\n      disableExifOffsets: '@',\r\n      includeExifTags: '@',\r\n      excludeExifTags: '@',\r\n      disableIptc: '@',\r\n      disableIptcOffsets: '@',\r\n      includeIptcTags: '@',\r\n      excludeIptcTags: '@',\r\n      disabled: '@disableImageMetaDataLoad'\r\n    },\r\n    {\r\n      action: 'loadImage',\r\n      // Use the action as prefix for the \"@\" options:\r\n      prefix: true,\r\n      fileTypes: '@',\r\n      maxFileSize: '@',\r\n      noRevoke: '@',\r\n      disabled: '@disableImageLoad'\r\n    },\r\n    {\r\n      action: 'resizeImage',\r\n      // Use \"image\" as prefix for the \"@\" options:\r\n      prefix: 'image',\r\n      maxWidth: '@',\r\n      maxHeight: '@',\r\n      minWidth: '@',\r\n      minHeight: '@',\r\n      crop: '@',\r\n      orientation: '@',\r\n      forceResize: '@',\r\n      disabled: '@disableImageResize',\r\n      imageSmoothingQuality: '@imageSmoothingQuality'\r\n    },\r\n    {\r\n      action: 'saveImage',\r\n      quality: '@imageQuality',\r\n      type: '@imageType',\r\n      disabled: '@disableImageResize'\r\n    },\r\n    {\r\n      action: 'saveImageMetaData',\r\n      disabled: '@disableImageMetaDataSave'\r\n    },\r\n    {\r\n      action: 'resizeImage',\r\n      // Use \"preview\" as prefix for the \"@\" options:\r\n      prefix: 'preview',\r\n      maxWidth: '@',\r\n      maxHeight: '@',\r\n      minWidth: '@',\r\n      minHeight: '@',\r\n      crop: '@',\r\n      orientation: '@',\r\n      thumbnail: '@',\r\n      canvas: '@',\r\n      disabled: '@disableImagePreview'\r\n    },\r\n    {\r\n      action: 'setImage',\r\n      name: '@imagePreviewName',\r\n      disabled: '@disableImagePreview'\r\n    },\r\n    {\r\n      action: 'deleteImageReferences',\r\n      disabled: '@disableImageReferencesDeletion'\r\n    }\r\n  );\r\n\r\n  // The File Upload Resize plugin extends the fileupload widget\r\n  // with image resize functionality:\r\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\r\n    options: {\r\n      // The regular expression for the types of images to load:\r\n      // matched against the file type:\r\n      loadImageFileTypes: /^image\\/(gif|jpeg|png|svg\\+xml)$/,\r\n      // The maximum file size of images to load:\r\n      loadImageMaxFileSize: 10000000, // 10MB\r\n      // The maximum width of resized images:\r\n      imageMaxWidth: 1920,\r\n      // The maximum height of resized images:\r\n      imageMaxHeight: 1080,\r\n      // Defines the image orientation (1-8) or takes the orientation\r\n      // value from Exif data if set to true:\r\n      imageOrientation: true,\r\n      // Define if resized images should be cropped or only scaled:\r\n      imageCrop: false,\r\n      // Disable the resize image functionality by default:\r\n      disableImageResize: true,\r\n      // The maximum width of the preview images:\r\n      previewMaxWidth: 80,\r\n      // The maximum height of the preview images:\r\n      previewMaxHeight: 80,\r\n      // Defines the preview orientation (1-8) or takes the orientation\r\n      // value from Exif data if set to true:\r\n      previewOrientation: true,\r\n      // Create the preview using the Exif data thumbnail:\r\n      previewThumbnail: true,\r\n      // Define if preview images should be cropped or only scaled:\r\n      previewCrop: false,\r\n      // Define if preview images should be resized as canvas elements:\r\n      previewCanvas: true\r\n    },\r\n\r\n    processActions: {\r\n      // Loads the image given via data.files and data.index\r\n      // as img element, if the browser supports the File API.\r\n      // Accepts the options fileTypes (regular expression)\r\n      // and maxFileSize (integer) to limit the files to load:\r\n      loadImage: function (data, options) {\r\n        if (options.disabled) {\r\n          return data;\r\n        }\r\n        var that = this,\r\n          file = data.files[data.index],\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred();\r\n        if (\r\n          ($.type(options.maxFileSize) === 'number' &&\r\n            file.size > options.maxFileSize) ||\r\n          (options.fileTypes && !options.fileTypes.test(file.type)) ||\r\n          !loadImage(\r\n            file,\r\n            function (img) {\r\n              if (img.src) {\r\n                data.img = img;\r\n              }\r\n              dfd.resolveWith(that, [data]);\r\n            },\r\n            options\r\n          )\r\n        ) {\r\n          return data;\r\n        }\r\n        return dfd.promise();\r\n      },\r\n\r\n      // Resizes the image given as data.canvas or data.img\r\n      // and updates data.canvas or data.img with the resized image.\r\n      // Also stores the resized image as preview property.\r\n      // Accepts the options maxWidth, maxHeight, minWidth,\r\n      // minHeight, canvas and crop:\r\n      resizeImage: function (data, options) {\r\n        if (options.disabled || !(data.canvas || data.img)) {\r\n          return data;\r\n        }\r\n        // eslint-disable-next-line no-param-reassign\r\n        options = $.extend({ canvas: true }, options);\r\n        var that = this,\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred(),\r\n          img = (options.canvas && data.canvas) || data.img,\r\n          resolve = function (newImg) {\r\n            if (\r\n              newImg &&\r\n              (newImg.width !== img.width ||\r\n                newImg.height !== img.height ||\r\n                options.forceResize)\r\n            ) {\r\n              data[newImg.getContext ? 'canvas' : 'img'] = newImg;\r\n            }\r\n            data.preview = newImg;\r\n            dfd.resolveWith(that, [data]);\r\n          },\r\n          thumbnail,\r\n          thumbnailBlob;\r\n        if (data.exif && options.thumbnail) {\r\n          thumbnail = data.exif.get('Thumbnail');\r\n          thumbnailBlob = thumbnail && thumbnail.get('Blob');\r\n          if (thumbnailBlob) {\r\n            options.orientation = data.exif.get('Orientation');\r\n            loadImage(thumbnailBlob, resolve, options);\r\n            return dfd.promise();\r\n          }\r\n        }\r\n        if (data.orientation) {\r\n          // Prevent orienting the same image twice:\r\n          delete options.orientation;\r\n        } else {\r\n          data.orientation = options.orientation || loadImage.orientation;\r\n        }\r\n        if (img) {\r\n          resolve(loadImage.scale(img, options, data));\r\n          return dfd.promise();\r\n        }\r\n        return data;\r\n      },\r\n\r\n      // Saves the processed image given as data.canvas\r\n      // inplace at data.index of data.files:\r\n      saveImage: function (data, options) {\r\n        if (!data.canvas || options.disabled) {\r\n          return data;\r\n        }\r\n        var that = this,\r\n          file = data.files[data.index],\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred();\r\n        if (data.canvas.toBlob) {\r\n          data.canvas.toBlob(\r\n            function (blob) {\r\n              if (!blob.name) {\r\n                if (file.type === blob.type) {\r\n                  blob.name = file.name;\r\n                } else if (file.name) {\r\n                  blob.name = file.name.replace(\r\n                    /\\.\\w+$/,\r\n                    '.' + blob.type.substr(6)\r\n                  );\r\n                }\r\n              }\r\n              // Don't restore invalid meta data:\r\n              if (file.type !== blob.type) {\r\n                delete data.imageHead;\r\n              }\r\n              // Store the created blob at the position\r\n              // of the original file in the files list:\r\n              data.files[data.index] = blob;\r\n              dfd.resolveWith(that, [data]);\r\n            },\r\n            options.type || file.type,\r\n            options.quality\r\n          );\r\n        } else {\r\n          return data;\r\n        }\r\n        return dfd.promise();\r\n      },\r\n\r\n      loadImageMetaData: function (data, options) {\r\n        if (options.disabled) {\r\n          return data;\r\n        }\r\n        var that = this,\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred();\r\n        loadImage.parseMetaData(\r\n          data.files[data.index],\r\n          function (result) {\r\n            $.extend(data, result);\r\n            dfd.resolveWith(that, [data]);\r\n          },\r\n          options\r\n        );\r\n        return dfd.promise();\r\n      },\r\n\r\n      saveImageMetaData: function (data, options) {\r\n        if (\r\n          !(\r\n            data.imageHead &&\r\n            data.canvas &&\r\n            data.canvas.toBlob &&\r\n            !options.disabled\r\n          )\r\n        ) {\r\n          return data;\r\n        }\r\n        var that = this,\r\n          file = data.files[data.index],\r\n          // eslint-disable-next-line new-cap\r\n          dfd = $.Deferred();\r\n        if (data.orientation === true && data.exifOffsets) {\r\n          // Reset Exif Orientation data:\r\n          loadImage.writeExifData(data.imageHead, data, 'Orientation', 1);\r\n        }\r\n        loadImage.replaceHead(file, data.imageHead, function (blob) {\r\n          blob.name = file.name;\r\n          data.files[data.index] = blob;\r\n          dfd.resolveWith(that, [data]);\r\n        });\r\n        return dfd.promise();\r\n      },\r\n\r\n      // Sets the resized version of the image as a property of the\r\n      // file object, must be called after \"saveImage\":\r\n      setImage: function (data, options) {\r\n        if (data.preview && !options.disabled) {\r\n          data.files[data.index][options.name || 'preview'] = data.preview;\r\n        }\r\n        return data;\r\n      },\r\n\r\n      deleteImageReferences: function (data, options) {\r\n        if (!options.disabled) {\r\n          delete data.img;\r\n          delete data.canvas;\r\n          delete data.preview;\r\n          delete data.imageHead;\r\n        }\r\n        return data;\r\n      }\r\n    }\r\n  });\r\n});\r\n","/*\n * jQuery File Upload Audio Preview Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', 'load-image', './jquery.fileupload-process'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(\n      require('jquery'),\n      require('blueimp-load-image/js/load-image'),\n      require('./jquery.fileupload-process')\n    );\n  } else {\n    // Browser globals:\n    factory(window.jQuery, window.loadImage);\n  }\n})(function ($, loadImage) {\n  'use strict';\n\n  // Prepend to the default processQueue:\n  $.blueimp.fileupload.prototype.options.processQueue.unshift(\n    {\n      action: 'loadAudio',\n      // Use the action as prefix for the \"@\" options:\n      prefix: true,\n      fileTypes: '@',\n      maxFileSize: '@',\n      disabled: '@disableAudioPreview'\n    },\n    {\n      action: 'setAudio',\n      name: '@audioPreviewName',\n      disabled: '@disableAudioPreview'\n    }\n  );\n\n  // The File Upload Audio Preview plugin extends the fileupload widget\n  // with audio preview functionality:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      // The regular expression for the types of audio files to load,\n      // matched against the file type:\n      loadAudioFileTypes: /^audio\\/.*$/\n    },\n\n    _audioElement: document.createElement('audio'),\n\n    processActions: {\n      // Loads the audio file given via data.files and data.index\n      // as audio element if the browser supports playing it.\n      // Accepts the options fileTypes (regular expression)\n      // and maxFileSize (integer) to limit the files to load:\n      loadAudio: function (data, options) {\n        if (options.disabled) {\n          return data;\n        }\n        var file = data.files[data.index],\n          url,\n          audio;\n        if (\n          this._audioElement.canPlayType &&\n          this._audioElement.canPlayType(file.type) &&\n          ($.type(options.maxFileSize) !== 'number' ||\n            file.size <= options.maxFileSize) &&\n          (!options.fileTypes || options.fileTypes.test(file.type))\n        ) {\n          url = loadImage.createObjectURL(file);\n          if (url) {\n            audio = this._audioElement.cloneNode(false);\n            audio.src = url;\n            audio.controls = true;\n            data.audio = audio;\n            return data;\n          }\n        }\n        return data;\n      },\n\n      // Sets the audio element as a property of the file object:\n      setAudio: function (data, options) {\n        if (data.audio && !options.disabled) {\n          data.files[data.index][options.name || 'preview'] = data.audio;\n        }\n        return data;\n      }\n    }\n  });\n});\n","/*\n * jQuery File Upload Video Preview Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', 'load-image', './jquery.fileupload-process'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(\n      require('jquery'),\n      require('blueimp-load-image/js/load-image'),\n      require('./jquery.fileupload-process')\n    );\n  } else {\n    // Browser globals:\n    factory(window.jQuery, window.loadImage);\n  }\n})(function ($, loadImage) {\n  'use strict';\n\n  // Prepend to the default processQueue:\n  $.blueimp.fileupload.prototype.options.processQueue.unshift(\n    {\n      action: 'loadVideo',\n      // Use the action as prefix for the \"@\" options:\n      prefix: true,\n      fileTypes: '@',\n      maxFileSize: '@',\n      disabled: '@disableVideoPreview'\n    },\n    {\n      action: 'setVideo',\n      name: '@videoPreviewName',\n      disabled: '@disableVideoPreview'\n    }\n  );\n\n  // The File Upload Video Preview plugin extends the fileupload widget\n  // with video preview functionality:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      // The regular expression for the types of video files to load,\n      // matched against the file type:\n      loadVideoFileTypes: /^video\\/.*$/\n    },\n\n    _videoElement: document.createElement('video'),\n\n    processActions: {\n      // Loads the video file given via data.files and data.index\n      // as video element if the browser supports playing it.\n      // Accepts the options fileTypes (regular expression)\n      // and maxFileSize (integer) to limit the files to load:\n      loadVideo: function (data, options) {\n        if (options.disabled) {\n          return data;\n        }\n        var file = data.files[data.index],\n          url,\n          video;\n        if (\n          this._videoElement.canPlayType &&\n          this._videoElement.canPlayType(file.type) &&\n          ($.type(options.maxFileSize) !== 'number' ||\n            file.size <= options.maxFileSize) &&\n          (!options.fileTypes || options.fileTypes.test(file.type))\n        ) {\n          url = loadImage.createObjectURL(file);\n          if (url) {\n            video = this._videoElement.cloneNode(false);\n            video.src = url;\n            video.controls = true;\n            data.video = video;\n            return data;\n          }\n        }\n        return data;\n      },\n\n      // Sets the video element as a property of the file object:\n      setVideo: function (data, options) {\n        if (data.video && !options.disabled) {\n          data.files[data.index][options.name || 'preview'] = data.video;\n        }\n        return data;\n      }\n    }\n  });\n});\n","/*\n * jQuery File Upload Validation Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['jquery', './jquery.fileupload-process'], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(require('jquery'), require('./jquery.fileupload-process'));\n  } else {\n    // Browser globals:\n    factory(window.jQuery);\n  }\n})(function ($) {\n  'use strict';\n\n  // Append to the default processQueue:\n  $.blueimp.fileupload.prototype.options.processQueue.push({\n    action: 'validate',\n    // Always trigger this action,\n    // even if the previous action was rejected:\n    always: true,\n    // Options taken from the global options map:\n    acceptFileTypes: '@',\n    maxFileSize: '@',\n    minFileSize: '@',\n    maxNumberOfFiles: '@',\n    disabled: '@disableValidation'\n  });\n\n  // The File Upload Validation plugin extends the fileupload widget\n  // with file validation functionality:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      /*\n            // The regular expression for allowed file types, matches\n            // against either file type or file name:\n            acceptFileTypes: /(\\.|\\/)(gif|jpe?g|png)$/i,\n            // The maximum allowed file size in bytes:\n            maxFileSize: 10000000, // 10 MB\n            // The minimum allowed file size in bytes:\n            minFileSize: undefined, // No minimal file size\n            // The limit of files to be uploaded:\n            maxNumberOfFiles: 10,\n            */\n\n      // Function returning the current number of files,\n      // has to be overridden for maxNumberOfFiles validation:\n      getNumberOfFiles: $.noop,\n\n      // Error and info messages:\n      messages: {\n        maxNumberOfFiles: 'Maximum number of files exceeded',\n        acceptFileTypes: 'File type not allowed',\n        maxFileSize: 'File is too large',\n        minFileSize: 'File is too small'\n      }\n    },\n\n    processActions: {\n      validate: function (data, options) {\n        if (options.disabled) {\n          return data;\n        }\n        // eslint-disable-next-line new-cap\n        var dfd = $.Deferred(),\n          settings = this.options,\n          file = data.files[data.index],\n          fileSize;\n        if (options.minFileSize || options.maxFileSize) {\n          fileSize = file.size;\n        }\n        if (\n          $.type(options.maxNumberOfFiles) === 'number' &&\n          (settings.getNumberOfFiles() || 0) + data.files.length >\n            options.maxNumberOfFiles\n        ) {\n          file.error = settings.i18n('maxNumberOfFiles');\n        } else if (\n          options.acceptFileTypes &&\n          !(\n            options.acceptFileTypes.test(file.type) ||\n            options.acceptFileTypes.test(file.name)\n          )\n        ) {\n          file.error = settings.i18n('acceptFileTypes');\n        } else if (fileSize > options.maxFileSize) {\n          file.error = settings.i18n('maxFileSize');\n        } else if (\n          $.type(fileSize) === 'number' &&\n          fileSize < options.minFileSize\n        ) {\n          file.error = settings.i18n('minFileSize');\n        } else {\n          delete file.error;\n        }\n        if (file.error || data.files.error) {\n          data.files.error = true;\n          dfd.rejectWith(this, [data]);\n        } else {\n          dfd.resolveWith(this, [data]);\n        }\n        return dfd.promise();\n      }\n    }\n  });\n});\n","/*\n * jQuery File Upload User Interface Plugin\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, require */\n\n(function (factory) {\n  'use strict';\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define([\n      'jquery',\n      'blueimp-tmpl',\n      './jquery.fileupload-image',\n      './jquery.fileupload-audio',\n      './jquery.fileupload-video',\n      './jquery.fileupload-validate'\n    ], factory);\n  } else if (typeof exports === 'object') {\n    // Node/CommonJS:\n    factory(\n      require('jquery'),\n      require('blueimp-tmpl'),\n      require('./jquery.fileupload-image'),\n      require('./jquery.fileupload-audio'),\n      require('./jquery.fileupload-video'),\n      require('./jquery.fileupload-validate')\n    );\n  } else {\n    // Browser globals:\n    factory(window.jQuery, window.tmpl);\n  }\n})(function ($, tmpl) {\n  'use strict';\n\n  $.blueimp.fileupload.prototype._specialOptions.push(\n    'filesContainer',\n    'uploadTemplateId',\n    'downloadTemplateId'\n  );\n\n  // The UI version extends the file upload widget\n  // and adds complete user interface interaction:\n  $.widget('blueimp.fileupload', $.blueimp.fileupload, {\n    options: {\n      // By default, files added to the widget are uploaded as soon\n      // as the user clicks on the start buttons. To enable automatic\n      // uploads, set the following option to true:\n      autoUpload: false,\n      // The class to show/hide UI elements:\n      showElementClass: 'in',\n      // The ID of the upload template:\n      uploadTemplateId: 'template-upload',\n      // The ID of the download template:\n      downloadTemplateId: 'template-download',\n      // The container for the list of files. If undefined, it is set to\n      // an element with class \"files\" inside of the widget element:\n      filesContainer: undefined,\n      // By default, files are appended to the files container.\n      // Set the following option to true, to prepend files instead:\n      prependFiles: false,\n      // The expected data type of the upload response, sets the dataType\n      // option of the $.ajax upload requests:\n      dataType: 'json',\n\n      // Error and info messages:\n      messages: {\n        unknownError: 'Unknown error'\n      },\n\n      // Function returning the current number of files,\n      // used by the maxNumberOfFiles validation:\n      getNumberOfFiles: function () {\n        return this.filesContainer.children().not('.processing').length;\n      },\n\n      // Callback to retrieve the list of files from the server response:\n      getFilesFromResponse: function (data) {\n        if (data.result && $.isArray(data.result.files)) {\n          return data.result.files;\n        }\n        return [];\n      },\n\n      // The add callback is invoked as soon as files are added to the fileupload\n      // widget (via file input selection, drag & drop or add API call).\n      // See the basic file upload widget for more information:\n      add: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var $this = $(this),\n          that = $this.data('blueimp-fileupload') || $this.data('fileupload'),\n          options = that.options;\n        data.context = that\n          ._renderUpload(data.files)\n          .data('data', data)\n          .addClass('processing');\n        options.filesContainer[options.prependFiles ? 'prepend' : 'append'](\n          data.context\n        );\n        that._forceReflow(data.context);\n        that._transition(data.context);\n        data\n          .process(function () {\n            return $this.fileupload('process', data);\n          })\n          .always(function () {\n            data.context\n              .each(function (index) {\n                $(this)\n                  .find('.size')\n                  .text(that._formatFileSize(data.files[index].size));\n              })\n              .removeClass('processing');\n            that._renderPreviews(data);\n          })\n          .done(function () {\n            data.context.find('.edit,.start').prop('disabled', false);\n            if (\n              that._trigger('added', e, data) !== false &&\n              (options.autoUpload || data.autoUpload) &&\n              data.autoUpload !== false\n            ) {\n              data.submit();\n            }\n          })\n          .fail(function () {\n            if (data.files.error) {\n              data.context.each(function (index) {\n                var error = data.files[index].error;\n                if (error) {\n                  $(this).find('.error').text(error);\n                }\n              });\n            }\n          });\n      },\n      // Callback for the start of each file upload request:\n      send: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n          $(this).data('blueimp-fileupload') || $(this).data('fileupload');\n        if (\n          data.context &&\n          data.dataType &&\n          data.dataType.substr(0, 6) === 'iframe'\n        ) {\n          // Iframe Transport does not support progress events.\n          // In lack of an indeterminate progress bar, we set\n          // the progress to 100%, showing the full animated bar:\n          data.context\n            .find('.progress')\n            .addClass(!$.support.transition && 'progress-animated')\n            .attr('aria-valuenow', 100)\n            .children()\n            .first()\n            .css('width', '100%');\n        }\n        return that._trigger('sent', e, data);\n      },\n      // Callback for successful uploads:\n      done: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\n          getFilesFromResponse =\n            data.getFilesFromResponse || that.options.getFilesFromResponse,\n          files = getFilesFromResponse(data),\n          template,\n          deferred;\n        if (data.context) {\n          data.context.each(function (index) {\n            var file = files[index] || { error: 'Empty file upload result' };\n            deferred = that._addFinishedDeferreds();\n            that._transition($(this)).done(function () {\n              var node = $(this);\n              template = that._renderDownload([file]).replaceAll(node);\n              that._forceReflow(template);\n              that._transition(template).done(function () {\n                data.context = $(this);\n                that._trigger('completed', e, data);\n                that._trigger('finished', e, data);\n                deferred.resolve();\n              });\n            });\n          });\n        } else {\n          template = that\n            ._renderDownload(files)\n            [that.options.prependFiles ? 'prependTo' : 'appendTo'](\n              that.options.filesContainer\n            );\n          that._forceReflow(template);\n          deferred = that._addFinishedDeferreds();\n          that._transition(template).done(function () {\n            data.context = $(this);\n            that._trigger('completed', e, data);\n            that._trigger('finished', e, data);\n            deferred.resolve();\n          });\n        }\n      },\n      // Callback for failed (abort or error) uploads:\n      fail: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\n          template,\n          deferred;\n        if (data.context) {\n          data.context.each(function (index) {\n            if (data.errorThrown !== 'abort') {\n              var file = data.files[index];\n              file.error =\n                file.error || data.errorThrown || data.i18n('unknownError');\n              deferred = that._addFinishedDeferreds();\n              that._transition($(this)).done(function () {\n                var node = $(this);\n                template = that._renderDownload([file]).replaceAll(node);\n                that._forceReflow(template);\n                that._transition(template).done(function () {\n                  data.context = $(this);\n                  that._trigger('failed', e, data);\n                  that._trigger('finished', e, data);\n                  deferred.resolve();\n                });\n              });\n            } else {\n              deferred = that._addFinishedDeferreds();\n              that._transition($(this)).done(function () {\n                $(this).remove();\n                that._trigger('failed', e, data);\n                that._trigger('finished', e, data);\n                deferred.resolve();\n              });\n            }\n          });\n        } else if (data.errorThrown !== 'abort') {\n          data.context = that\n            ._renderUpload(data.files)\n            [that.options.prependFiles ? 'prependTo' : 'appendTo'](\n              that.options.filesContainer\n            )\n            .data('data', data);\n          that._forceReflow(data.context);\n          deferred = that._addFinishedDeferreds();\n          that._transition(data.context).done(function () {\n            data.context = $(this);\n            that._trigger('failed', e, data);\n            that._trigger('finished', e, data);\n            deferred.resolve();\n          });\n        } else {\n          that._trigger('failed', e, data);\n          that._trigger('finished', e, data);\n          that._addFinishedDeferreds().resolve();\n        }\n      },\n      // Callback for upload progress events:\n      progress: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var progress = Math.floor((data.loaded / data.total) * 100);\n        if (data.context) {\n          data.context.each(function () {\n            $(this)\n              .find('.progress')\n              .attr('aria-valuenow', progress)\n              .children()\n              .first()\n              .css('width', progress + '%');\n          });\n        }\n      },\n      // Callback for global upload progress events:\n      progressall: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var $this = $(this),\n          progress = Math.floor((data.loaded / data.total) * 100),\n          globalProgressNode = $this.find('.fileupload-progress'),\n          extendedProgressNode = globalProgressNode.find('.progress-extended');\n        if (extendedProgressNode.length) {\n          extendedProgressNode.html(\n            (\n              $this.data('blueimp-fileupload') || $this.data('fileupload')\n            )._renderExtendedProgress(data)\n          );\n        }\n        globalProgressNode\n          .find('.progress')\n          .attr('aria-valuenow', progress)\n          .children()\n          .first()\n          .css('width', progress + '%');\n      },\n      // Callback for uploads start, equivalent to the global ajaxStart event:\n      start: function (e) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n          $(this).data('blueimp-fileupload') || $(this).data('fileupload');\n        that._resetFinishedDeferreds();\n        that\n          ._transition($(this).find('.fileupload-progress'))\n          .done(function () {\n            that._trigger('started', e);\n          });\n      },\n      // Callback for uploads stop, equivalent to the global ajaxStop event:\n      stop: function (e) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\n          deferred = that._addFinishedDeferreds();\n        $.when.apply($, that._getFinishedDeferreds()).done(function () {\n          that._trigger('stopped', e);\n        });\n        that\n          ._transition($(this).find('.fileupload-progress'))\n          .done(function () {\n            $(this)\n              .find('.progress')\n              .attr('aria-valuenow', '0')\n              .children()\n              .first()\n              .css('width', '0%');\n            $(this).find('.progress-extended').html('&nbsp;');\n            deferred.resolve();\n          });\n      },\n      processstart: function (e) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        $(this).addClass('fileupload-processing');\n      },\n      processstop: function (e) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        $(this).removeClass('fileupload-processing');\n      },\n      // Callback for file deletion:\n      destroy: function (e, data) {\n        if (e.isDefaultPrevented()) {\n          return false;\n        }\n        var that =\n            $(this).data('blueimp-fileupload') || $(this).data('fileupload'),\n          removeNode = function () {\n            that._transition(data.context).done(function () {\n              $(this).remove();\n              that._trigger('destroyed', e, data);\n            });\n          };\n        if (data.url) {\n          data.dataType = data.dataType || that.options.dataType;\n          $.ajax(data)\n            .done(removeNode)\n            .fail(function () {\n              that._trigger('destroyfailed', e, data);\n            });\n        } else {\n          removeNode();\n        }\n      }\n    },\n\n    _resetFinishedDeferreds: function () {\n      this._finishedUploads = [];\n    },\n\n    _addFinishedDeferreds: function (deferred) {\n      // eslint-disable-next-line new-cap\n      var promise = deferred || $.Deferred();\n      this._finishedUploads.push(promise);\n      return promise;\n    },\n\n    _getFinishedDeferreds: function () {\n      return this._finishedUploads;\n    },\n\n    // Link handler, that allows to download files\n    // by drag & drop of the links to the desktop:\n    _enableDragToDesktop: function () {\n      var link = $(this),\n        url = link.prop('href'),\n        name = link.prop('download'),\n        type = 'application/octet-stream';\n      link.on('dragstart', function (e) {\n        try {\n          e.originalEvent.dataTransfer.setData(\n            'DownloadURL',\n            [type, name, url].join(':')\n          );\n        } catch (ignore) {\n          // Ignore exceptions\n        }\n      });\n    },\n\n    _formatFileSize: function (bytes) {\n      if (typeof bytes !== 'number') {\n        return '';\n      }\n      if (bytes >= 1000000000) {\n        return (bytes / 1000000000).toFixed(2) + ' GB';\n      }\n      if (bytes >= 1000000) {\n        return (bytes / 1000000).toFixed(2) + ' MB';\n      }\n      return (bytes / 1000).toFixed(2) + ' KB';\n    },\n\n    _formatBitrate: function (bits) {\n      if (typeof bits !== 'number') {\n        return '';\n      }\n      if (bits >= 1000000000) {\n        return (bits / 1000000000).toFixed(2) + ' Gbit/s';\n      }\n      if (bits >= 1000000) {\n        return (bits / 1000000).toFixed(2) + ' Mbit/s';\n      }\n      if (bits >= 1000) {\n        return (bits / 1000).toFixed(2) + ' kbit/s';\n      }\n      return bits.toFixed(2) + ' bit/s';\n    },\n\n    _formatTime: function (seconds) {\n      var date = new Date(seconds * 1000),\n        days = Math.floor(seconds / 86400);\n      days = days ? days + 'd ' : '';\n      return (\n        days +\n        ('0' + date.getUTCHours()).slice(-2) +\n        ':' +\n        ('0' + date.getUTCMinutes()).slice(-2) +\n        ':' +\n        ('0' + date.getUTCSeconds()).slice(-2)\n      );\n    },\n\n    _formatPercentage: function (floatValue) {\n      return (floatValue * 100).toFixed(2) + ' %';\n    },\n\n    _renderExtendedProgress: function (data) {\n      return (\n        this._formatBitrate(data.bitrate) +\n        ' | ' +\n        this._formatTime(((data.total - data.loaded) * 8) / data.bitrate) +\n        ' | ' +\n        this._formatPercentage(data.loaded / data.total) +\n        ' | ' +\n        this._formatFileSize(data.loaded) +\n        ' / ' +\n        this._formatFileSize(data.total)\n      );\n    },\n\n    _renderTemplate: function (func, files) {\n      if (!func) {\n        return $();\n      }\n      var result = func({\n        files: files,\n        formatFileSize: this._formatFileSize,\n        options: this.options\n      });\n      if (result instanceof $) {\n        return result;\n      }\n      return $(this.options.templatesContainer).html(result).children();\n    },\n\n    _renderPreviews: function (data) {\n      data.context.find('.preview').each(function (index, elm) {\n        $(elm).empty().append(data.files[index].preview);\n      });\n    },\n\n    _renderUpload: function (files) {\n      return this._renderTemplate(this.options.uploadTemplate, files);\n    },\n\n    _renderDownload: function (files) {\n      return this._renderTemplate(this.options.downloadTemplate, files)\n        .find('a[download]')\n        .each(this._enableDragToDesktop)\n        .end();\n    },\n\n    _editHandler: function (e) {\n      e.preventDefault();\n      if (!this.options.edit) return;\n      var that = this,\n        button = $(e.currentTarget),\n        template = button.closest('.template-upload'),\n        data = template.data('data'),\n        index = button.data().index;\n      this.options.edit(data.files[index]).then(function (file) {\n        if (!file) return;\n        data.files[index] = file;\n        data.context.addClass('processing');\n        template.find('.edit,.start').prop('disabled', true);\n        $(that.element)\n          .fileupload('process', data)\n          .always(function () {\n            template\n              .find('.size')\n              .text(that._formatFileSize(data.files[index].size));\n            data.context.removeClass('processing');\n            that._renderPreviews(data);\n          })\n          .done(function () {\n            template.find('.edit,.start').prop('disabled', false);\n          })\n          .fail(function () {\n            template.find('.edit').prop('disabled', false);\n            var error = data.files[index].error;\n            if (error) {\n              template.find('.error').text(error);\n            }\n          });\n      });\n    },\n\n    _startHandler: function (e) {\n      e.preventDefault();\n      var button = $(e.currentTarget),\n        template = button.closest('.template-upload'),\n        data = template.data('data');\n      button.prop('disabled', true);\n      if (data && data.submit) {\n        data.submit();\n      }\n    },\n\n    _cancelHandler: function (e) {\n      e.preventDefault();\n      var template = $(e.currentTarget).closest(\n          '.template-upload,.template-download'\n        ),\n        data = template.data('data') || {};\n      data.context = data.context || template;\n      if (data.abort) {\n        data.abort();\n      } else {\n        data.errorThrown = 'abort';\n        this._trigger('fail', e, data);\n      }\n    },\n\n    _deleteHandler: function (e) {\n      e.preventDefault();\n      var button = $(e.currentTarget);\n      this._trigger(\n        'destroy',\n        e,\n        $.extend(\n          {\n            context: button.closest('.template-download'),\n            type: 'DELETE'\n          },\n          button.data()\n        )\n      );\n    },\n\n    _forceReflow: function (node) {\n      return $.support.transition && node.length && node[0].offsetWidth;\n    },\n\n    _transition: function (node) {\n      // eslint-disable-next-line new-cap\n      var dfd = $.Deferred();\n      if (\n        $.support.transition &&\n        node.hasClass('fade') &&\n        node.is(':visible')\n      ) {\n        var transitionEndHandler = function (e) {\n          // Make sure we don't respond to other transition events\n          // in the container element, e.g. from button elements:\n          if (e.target === node[0]) {\n            node.off($.support.transition.end, transitionEndHandler);\n            dfd.resolveWith(node);\n          }\n        };\n        node\n          .on($.support.transition.end, transitionEndHandler)\n          .toggleClass(this.options.showElementClass);\n      } else {\n        node.toggleClass(this.options.showElementClass);\n        dfd.resolveWith(node);\n      }\n      return dfd;\n    },\n\n    _initButtonBarEventHandlers: function () {\n      var fileUploadButtonBar = this.element.find('.fileupload-buttonbar'),\n        filesList = this.options.filesContainer;\n      this._on(fileUploadButtonBar.find('.start'), {\n        click: function (e) {\n          e.preventDefault();\n          filesList.find('.start').trigger('click');\n        }\n      });\n      this._on(fileUploadButtonBar.find('.cancel'), {\n        click: function (e) {\n          e.preventDefault();\n          filesList.find('.cancel').trigger('click');\n        }\n      });\n      this._on(fileUploadButtonBar.find('.delete'), {\n        click: function (e) {\n          e.preventDefault();\n          filesList\n            .find('.toggle:checked')\n            .closest('.template-download')\n            .find('.delete')\n            .trigger('click');\n          fileUploadButtonBar.find('.toggle').prop('checked', false);\n        }\n      });\n      this._on(fileUploadButtonBar.find('.toggle'), {\n        change: function (e) {\n          filesList\n            .find('.toggle')\n            .prop('checked', $(e.currentTarget).is(':checked'));\n        }\n      });\n    },\n\n    _destroyButtonBarEventHandlers: function () {\n      this._off(\n        this.element\n          .find('.fileupload-buttonbar')\n          .find('.start, .cancel, .delete'),\n        'click'\n      );\n      this._off(this.element.find('.fileupload-buttonbar .toggle'), 'change.');\n    },\n\n    _initEventHandlers: function () {\n      this._super();\n      this._on(this.options.filesContainer, {\n        'click .edit': this._editHandler,\n        'click .start': this._startHandler,\n        'click .cancel': this._cancelHandler,\n        'click .delete': this._deleteHandler\n      });\n      this._initButtonBarEventHandlers();\n    },\n\n    _destroyEventHandlers: function () {\n      this._destroyButtonBarEventHandlers();\n      this._off(this.options.filesContainer, 'click');\n      this._super();\n    },\n\n    _enableFileInputButton: function () {\n      this.element\n        .find('.fileinput-button input')\n        .prop('disabled', false)\n        .parent()\n        .removeClass('disabled');\n    },\n\n    _disableFileInputButton: function () {\n      this.element\n        .find('.fileinput-button input')\n        .prop('disabled', true)\n        .parent()\n        .addClass('disabled');\n    },\n\n    _initTemplates: function () {\n      var options = this.options;\n      options.templatesContainer = this.document[0].createElement(\n        options.filesContainer.prop('nodeName')\n      );\n      if (tmpl) {\n        if (options.uploadTemplateId) {\n          options.uploadTemplate = tmpl(options.uploadTemplateId);\n        }\n        if (options.downloadTemplateId) {\n          options.downloadTemplate = tmpl(options.downloadTemplateId);\n        }\n      }\n    },\n\n    _initFilesContainer: function () {\n      var options = this.options;\n      if (options.filesContainer === undefined) {\n        options.filesContainer = this.element.find('.files');\n      } else if (!(options.filesContainer instanceof $)) {\n        options.filesContainer = $(options.filesContainer);\n      }\n    },\n\n    _initSpecialOptions: function () {\n      this._super();\n      this._initFilesContainer();\n      this._initTemplates();\n    },\n\n    _create: function () {\n      this._super();\n      this._resetFinishedDeferreds();\n      if (!$.support.fileInput) {\n        this._disableFileInputButton();\n      }\n    },\n\n    enable: function () {\n      var wasDisabled = false;\n      if (this.options.disabled) {\n        wasDisabled = true;\n      }\n      this._super();\n      if (wasDisabled) {\n        this.element.find('input, button').prop('disabled', false);\n        this._enableFileInputButton();\n      }\n    },\n\n    disable: function () {\n      if (!this.options.disabled) {\n        this.element.find('input, button').prop('disabled', true);\n        this._disableFileInputButton();\n      }\n      this._super();\n    }\n  });\n});\n","/**\r\n * Files avatar uploader\r\n * @package Files\r\n * @author Alexey Kalnov <kalnovalexey@yandex.ru> https://github.com/Alex300\r\n * @copyright (c) 2014-2025 Lily Software https://lily-software.com\r\n */\r\nexport class AvatarUploader {\r\n    #config = {};\r\n\r\n    /**\r\n     * @type {HTMLElement|null}\r\n     */\r\n    #element = null;\r\n\r\n    /**\r\n     * @type {HTMLElement|null}\r\n     */\r\n    #avatarContainer = null;\r\n\r\n    /**\r\n     * @type {HTMLElement|null}\r\n     */\r\n    #avatarImageElement = null;\r\n\r\n    /**\r\n     * @type {HTMLElement|null}\r\n     */\r\n    #progressElement = null;\r\n\r\n    /**\r\n     * @type {HTMLElement|null}\r\n     */\r\n    #uploaderElement = null;\r\n\r\n    #avatarTemplate = '<img src=\"__src__\" alt=\"__alt__\" class=\"avatar img-responsive\" />';\r\n\r\n    constructor(config) {\r\n        this.#config = config;\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} element\r\n     */\r\n    init(element) {\r\n        if (element.dataset.filesInited === 'true') {\r\n            return;\r\n        }\r\n\r\n        this.#element = element;\r\n        this.#avatarContainer = this.#element.querySelector('.files-avatar-container');\r\n        if (this.#avatarContainer !== null) {\r\n            this.#avatarImageElement = this.#avatarContainer.querySelector('img.avatar');\r\n        }\r\n\r\n        this.#progressElement = this.#element.querySelector('.progress');\r\n        this.#uploaderElement = this.#element.querySelector('.file-upload-avatar-input');\r\n\r\n        const options = Object.assign({}, this.#config);\r\n\r\n        options.url = this.#uploaderElement.dataset.url;\r\n        options.acceptFileTypes = /(\\.|\\/)(avif|bmp|gif|jpe?g|heic|heif|png|svg|tga|webp)$/i;\r\n        options.disableValidation = false;\r\n        options.uploadTemplateId = null;\r\n        options.downloadTemplateId = null;\r\n        options.autoUpload = true;\r\n\r\n        if (element.dataset.filesFormParam !== undefined) {\r\n            if (options.formData === undefined) {\r\n                options.formData = {};\r\n            }\r\n            options.formData.param = element.dataset.filesFormParam;\r\n        }\r\n\r\n        if (element.dataset.filesFormX !== undefined) {\r\n            if (options.formData === undefined) {\r\n                options.formData = {};\r\n            }\r\n            options.formData.x = element.dataset.filesFormX;\r\n        }\r\n\r\n        if (element.dataset.filesAvatarTemplate !== undefined) {\r\n            if (options.formData === undefined) {\r\n                options.formData = {};\r\n            }\r\n            this.#avatarTemplate = atob(element.dataset.filesAvatarTemplate);\r\n        }\r\n\r\n        $(this.#uploaderElement).fileupload(options)\r\n            .on('fileuploadprocessstart',  (e) => {\r\n                this.#onUploadStart();\r\n            })\r\n            .on('fileuploadprocessalways', (e, data) => {\r\n                // Validation result\r\n                let currentFile = data.files[data.index];\r\n                if (data.files.error && currentFile.error) {\r\n                    // there was an error\r\n                    this.#showError(currentFile.error);\r\n                }\r\n            })\r\n            .on('fileuploadprogressall', (e, data) => {\r\n                const progress = parseInt(data.loaded / data.total * 100, 10);\r\n\r\n                $('.files-avatar-upload-error').remove();\r\n                $('#files-avatar-upload #progress .progress-bar').css('width', progress + '%');\r\n\r\n            })\r\n            .on('fileuploaddone', (e, data) => {\r\n                this.#onUploadEnd();\r\n\r\n                if (data.result === undefined || data.result.files === undefined) {\r\n                    this.#showError('File upload response error');\r\n                    return;\r\n                }\r\n\r\n                data.result.files.forEach((file) => {\r\n                    const error =  file.error || false;\r\n                    if (error) {\r\n                        this.#showError(file.error);\r\n                        return;\r\n                    } else {\r\n                        $('.files-avatar-upload-error').remove();\r\n                    }\r\n\r\n                    let avatarElement = this.#element.querySelector('.files-avatar');\r\n                    if (avatarElement !== null) {\r\n                        let avatarRendered = this.#avatarTemplate.replace('__src__', file.thumbnailUrl);\r\n                        avatarRendered = avatarRendered.replace('__alt__', file.name);\r\n                        avatarElement.innerHTML = avatarRendered;\r\n                    }\r\n                });\r\n\r\n            })\r\n            .on('fileuploadfail', (e, data) => {\r\n                this.#showError('File upload error');\r\n                this.#onUploadEnd();\r\n            })\r\n            .prop('disabled', !$.support.fileInput)\r\n            .parent().addClass($.support.fileInput ? undefined : 'disabled');\r\n\r\n\r\n        // Disable built-in UI handlers\r\n        $(element).off('.fileupload-ui');\r\n\r\n        element.dataset.filesInited = 'true';\r\n    }\r\n\r\n    #showError(message) {\r\n        this.#progressElement.classList.add('hidden');\r\n\r\n        let div = document.createElement('div');\r\n        div.className = 'files-avatar-upload-error';\r\n        div.innerHTML = '<span class=\"label label-danger\">Error</span> ' + message;\r\n\r\n        this.#progressElement.after(div);\r\n    }\r\n\r\n    #onUploadStart() {\r\n        if (this.#avatarContainer === null) {\r\n            return;\r\n        }\r\n\r\n        if (this.#avatarImageElement !== null) {\r\n            this.#avatarImageElement.style.opacity = .4;\r\n        }\r\n\r\n        const preloader = document.createElement('span');\r\n        preloader.classList.add('file-upload-preloader');\r\n\r\n        this.#avatarContainer.append(preloader)\r\n\r\n        this.#uploaderElement.disabled = true;\r\n        this.#progressElement.classList.remove('hidden');\r\n    }\r\n\r\n    #onUploadEnd() {\r\n        if (this.#avatarContainer === null) {\r\n            return;\r\n        }\r\n\r\n        const preloader = this.#avatarContainer.querySelector('.file-upload-preloader');\r\n        if (preloader !== null) {\r\n            preloader.remove();\r\n        }\r\n\r\n        if (this.#avatarImageElement !== null) {\r\n            this.#avatarImageElement.style.opacity = 1;\r\n        }\r\n\r\n        this.#uploaderElement.disabled = false;\r\n\r\n        this.#progressElement.classList.add('hidden');\r\n    }\r\n}","/**\r\n * Files file uploader\r\n * @package Files\r\n * @author Alexey Kalnov <kalnovalexey@yandex.ru> https://github.com/Alex300\r\n * @copyright (c) 2014-2025 Lily Software https://lily-software.com\r\n *\r\n * @todo refactor\r\n */\r\nexport class FileUploader {\r\n    #REORDER_URL = 'index.php?e=files&m=files&a=reorder&_ajax=1';\r\n    #REPLACE_URL = 'index.php?e=files&m=files&a=replace&_ajax=1';\r\n    #UPDATE_FIELD_VALUE_URL = 'index.php?e=files&m=files&a=updateValue&_ajax=1';\r\n\r\n    static globalsInited = false;\r\n\r\n    #config = {};\r\n\r\n    /**\r\n     * @type {HTMLElement|null}\r\n     */\r\n    #element = null;\r\n\r\n    #source = null;\r\n    #sourceId = null;\r\n    #field = null;\r\n\r\n    #x = null;\r\n\r\n    #dndOffset = 0;\r\n\r\n    constructor(config) {\r\n        this.#config = config;\r\n        if (this.#config.x !== undefined) {\r\n            this.#x = this.#config.x;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} element\r\n     */\r\n    init(element) {\r\n        if (element.dataset.filesInited === 'true') {\r\n            return;\r\n        }\r\n\r\n        this.#element = element;\r\n\r\n        if (element.dataset.filesSource !== undefined) {\r\n            this.#source = element.dataset.filesSource;\r\n        }\r\n        if (element.dataset.filesSourceId !== undefined) {\r\n            this.#sourceId = element.dataset.filesSourceId;\r\n        }\r\n        if (element.dataset.filesField !== undefined) {\r\n            this.#field = element.dataset.filesField;\r\n        }\r\n\r\n        const options = Object.assign({}, this.#config);\r\n\r\n        options.url = element.dataset.url;\r\n        options.dropZone = $(element);\r\n\r\n        if (element.dataset.filesFormParam !== undefined) {\r\n            if (options.formData === undefined) {\r\n                options.formData = {};\r\n            }\r\n            options.formData.param = element.dataset.filesFormParam;\r\n        }\r\n\r\n        if (element.dataset.filesFormX !== undefined) {\r\n            if (options.formData === undefined) {\r\n                options.formData = {};\r\n            }\r\n            options.formData.x = element.dataset.filesFormX;\r\n            this.#x = element.dataset.filesFormX;\r\n        }\r\n\r\n        $(element).fileupload(options);\r\n\r\n        // Enable iframe cross-domain access via redirect option:\r\n        $(element).fileupload(\r\n            'option',\r\n            'redirect',\r\n            window.location.href.replace(\r\n                /\\/[^\\/]*$/,\r\n                'modules/files/lib/upload/cors/result.html?%s' // @todo\r\n            )\r\n        );\r\n\r\n        this.#loadExistingFiles();\r\n\r\n        $(element).bind('fileuploaddone', (e, data) => {\r\n            //        \r\n            // todo    \r\n            $.each(data.result.files, (index, file) => {\r\n                $(element).find(\".filesTable\").tableDnD({\r\n                    onDragStart: (table, row) => {\r\n                        var offset = $(row).offset();\r\n                        this.#dndOffset = offset.top;\r\n                    },\r\n                    onDrop: (table, row) => {\r\n                        var offset = $(row).offset();\r\n                        if (Math.abs(this.#dndOffset - offset.top) < 20 ) {\r\n                            return;\r\n                        }\r\n\r\n                        this.#dndOffset = 0;\r\n\r\n                        var orders = [];\r\n                        var i = 0;\r\n                        var rows = table.tBodies[0].rows;\r\n                        $(rows).each(function() {\r\n                            var id = $(this).attr('data-id');\r\n                            orders[i] = id;\r\n                            i++;\r\n                        });\r\n\r\n                        const preloader = document.createElement('span');\r\n                        preloader.classList.add('file-upload-preloader');\r\n                        row.append(preloader);\r\n\r\n                        $.post(this.#REORDER_URL, {\r\n                            orders: orders,\r\n                            source: this.#source,\r\n                            item: this.#sourceId,\r\n                            field: this.#field,\r\n                            x: this.#x\r\n                        }, function(data) {\r\n\r\n                        }, 'json').fail(function() {\r\n                            alert('Request Error');\r\n                        }).always(function() {\r\n                            preloader.remove();\r\n                        });\r\n                    }\r\n                });\r\n            });\r\n        });\r\n\r\n        element.addEventListener('change', (event) => {\r\n            if (event.target.tagName === 'INPUT' && event.target.classList.contains('files-replace-file')) {\r\n                this.#onChangeFileReplaceInput(event.target);\r\n            }\r\n\r\n            if (event.target.classList.contains('file-edit')) {\r\n                this.#onChangeFieldValue(event.target);\r\n            }\r\n        });\r\n\r\n        element.addEventListener('click', (event) => {\r\n            const row = event.target.closest('.template-download');\r\n\r\n            let target = event.target.closest('button.files-replace-button');\r\n            if (target !== null && this.#element.contains(target)) {\r\n                event.preventDefault();\r\n                this.#onClickFileReplaceButton(target);\r\n                return;\r\n            }\r\n\r\n            target = event.target.closest('.delete');\r\n            if (row !== null && target !== null && this.#element.contains(target)) {\r\n                this.#onClickDelete(target);\r\n                return;\r\n            }\r\n\r\n            target = event.target.closest('.pasteImage');\r\n            if (target !== null && this.#element.contains(target)) {\r\n                event.preventDefault();\r\n                this.#onClickPfsPasteImage(target);\r\n                return;\r\n            }\r\n\r\n            target = event.target.closest('.pasteThumb');\r\n            if (target !== null && this.#element.contains(target)) {\r\n                event.preventDefault();\r\n                this.#onClickPfsPasteThumbnail(target);\r\n                return;\r\n            }\r\n\r\n            target = event.target.closest('.pasteFile');\r\n            if (target !== null && this.#element.contains(target)) {\r\n                event.preventDefault();\r\n                this.#onClickPfsPasteFile(target);\r\n                return;\r\n            }\r\n        });\r\n\r\n        element.dataset.filesInited = 'true';\r\n\r\n        if (!FileUploader.globalsInited) {\r\n            this.#initGlobals();\r\n        }\r\n    }\r\n\r\n    #initGlobals() {\r\n        if (FileUploader.globalsInited) {\r\n            return;\r\n        }\r\n\r\n        $(document).bind('dragover', function (e) {\r\n            var dropZone = $('#dropzone'),\r\n                timeout = window.dropZoneTimeout;\r\n            if (!timeout) {\r\n                dropZone.addClass('in');\r\n            } else {\r\n                clearTimeout(timeout);\r\n            }\r\n            var found = false,\r\n                node = e.target;\r\n\r\n            do {\r\n                if (node === dropZone[0]) {\r\n                    found = true;\r\n                    break;\r\n                }\r\n                node = node.parentNode;\r\n            } while (node != null);\r\n            if (found) {\r\n                dropZone.addClass('hover');\r\n            } else {\r\n                dropZone.removeClass('hover');\r\n            }\r\n\r\n            window.dropZoneTimeout = setTimeout(function () {\r\n                window.dropZoneTimeout = null;\r\n                dropZone.removeClass('in hover');\r\n            }, 1500);\r\n        });\r\n\r\n        $(document).bind('drop dragover', function (e) {\r\n            e.preventDefault();\r\n        });\r\n\r\n        FileUploader.globalsInited = true;\r\n    }\r\n\r\n    #loadExistingFiles()\r\n    {\r\n        this.#element.classList.add('fileupload-processing');\r\n        $.ajax({\r\n            // Uncomment the following to send cross-domain cookies:\r\n            //xhrFields: {withCredentials: true},\r\n            url: $(this.#element).fileupload('option', 'url'),\r\n            dataType: 'json',\r\n            context: this.#element\r\n\r\n        }).always(function () {\r\n            $(this).removeClass('fileupload-processing');\r\n        }).done((result) => {\r\n            $(this.#element).fileupload('option', 'done').call($(this.#element), $.Event('done'), {result: result});\r\n\r\n            // Drag&Drop for reordering\r\n            setTimeout(() => {\r\n                $(this.#element).find(\".filesTable\").tableDnD({\r\n                    onDragStart: (table, row) => {\r\n                        const offset = $(row).offset();\r\n                        this.#dndOffset = offset.top;\r\n                    },\r\n                    onDrop: (table, row) => {\r\n                        const offset = $(row).offset();\r\n                        if (Math.abs(this.#dndOffset - offset.top) < 20 ) {\r\n                            return;\r\n                        }\r\n\r\n                        this.#dndOffset = 0;\r\n\r\n                        const orders = [];\r\n                        let i = 0;\r\n                        const rows = table.tBodies[0].rows;\r\n                        $(rows).each(function() {\r\n                            orders[i] = $(this).attr('data-id');\r\n                            i++;\r\n                        });\r\n\r\n                        const preloader = document.createElement('span');\r\n                        preloader.classList.add('file-upload-preloader');\r\n                        row.append(preloader);\r\n\r\n                        $.post(this.#REORDER_URL, {\r\n                            orders: orders,\r\n                            source: this.#source,\r\n                            item: this.#sourceId,\r\n                            field: this.#field,\r\n                            x: this.#x\r\n                        }, function(data) {\r\n\r\n                        }, 'json').fail(function() {\r\n                            alert('Request Error');\r\n                        }).always(function() {\r\n                            preloader.remove();\r\n                        });\r\n                    }\r\n                });\r\n            }, 300);\r\n\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} element\r\n     */\r\n    #onClickDelete(element) {\r\n        $('div.tooltip').remove();\r\n        const preloader = document.createElement('span');\r\n        preloader.classList.add('file-upload-preloader');\r\n        element.parentNode.append(preloader);\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} fileInput\r\n     */\r\n    #onChangeFileReplaceInput(fileInput)\r\n    {\r\n        let id = fileInput.dataset.id;\r\n        let filename = fileInput.value;\r\n        let pass = true;\r\n        if (this.#config.allowedExtensions.length > 0) {\r\n            // Examine file extension\r\n            let m = /\\.(\\w+)$/.exec(filename);\r\n            if (m) {\r\n                const ext = m[1];\r\n                pass = this.#config.allowedExtensions.indexOf(ext.toLowerCase()) !== -1;\r\n            } else {\r\n                pass = false;\r\n            }\r\n        }\r\n\r\n        const replaceButton = this.#element.querySelector('button.files-replace-button[data-id=\"' + id + '\"]');\r\n        if (replaceButton !== null) {\r\n            if (pass) {\r\n                $(replaceButton).fadeIn('slow');\r\n            } else {\r\n                $(replaceButton).hide();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} replaceButton\r\n     */\r\n    #onClickFileReplaceButton(replaceButton)\r\n    {\r\n        let id = replaceButton.dataset.id;\r\n        let input = document.getElementById('files-file' + id);\r\n        if (input.files.length !== 1) {\r\n            return false;\r\n        }\r\n        const formData = new FormData();\r\n        const file = input.files[0];\r\n        // TODO check file.type against filesConfig.accept\r\n        formData.append('file', file);\r\n        formData.append('id', id);\r\n        formData.append('x', this.#x);\r\n\r\n        const preloader = document.createElement('span');\r\n        preloader.classList.add('file-upload-preloader');\r\n        replaceButton.parentNode.append(preloader);\r\n\r\n        $.ajax({\r\n            url: this.#REPLACE_URL,\r\n            type: 'POST',\r\n            data: formData,\r\n            processData: false,\r\n            contentType: false,\r\n            success: function (data) {\r\n                data.error = data.error || '';\r\n                if (data.error !== '') {\r\n                    $('#files-file'+id).after('<div id=\"files-error-'+ id +'\"><span class=\"label label-danger\">Error</span> ' +\r\n                        data.error + '</div>');\r\n                    $('#files-error-'+ id).fadeOut(3000);\r\n                } else {\r\n                    // Reload the frame\r\n                    // todo    \r\n                    window.location.reload();\r\n                }\r\n            }\r\n\r\n        }, 'json') .fail(() => {\r\n            this.#showError(id, 'The file could not be uploaded');\r\n        }).always(function() {\r\n            preloader.remove();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} element\r\n     */\r\n    #onChangeFieldValue(element)\r\n    {\r\n        const row = element.closest('.template-download');\r\n        const id = row.dataset.id;\r\n        let key = element.name;\r\n        const value = element.value;\r\n\r\n        key = key || false;\r\n        if(!key) {\r\n            return false;\r\n        }\r\n\r\n        const preloader = document.createElement('span');\r\n        preloader.classList.add('file-upload-preloader');\r\n        row.append(preloader);\r\n        element.disabled = true;\r\n\r\n        $.post(this.#UPDATE_FIELD_VALUE_URL, {key: key, value: value, id: id, x: this.#x}, (data) => {\r\n            data.error = data.error || '';\r\n            if (data.error !== '') {\r\n                this.#showError(id, data.error);\r\n            }\r\n        }, 'json').fail(() => {\r\n            this.#showError(id, 'Update value error');\r\n        }).always(() => {\r\n            element.disabled = false;\r\n            preloader.remove();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * PFS. Insert an image into text\r\n     * @param {HTMLElement} element\r\n     */\r\n    #onClickPfsPasteImage(element) {\r\n        const row = element.closest('.template-download');\r\n        const data = this.#getFileDataToInsert(row);\r\n\r\n        window.addpix(data.url, data.title, data.name);\r\n    }\r\n\r\n    /**\r\n     * PFS. Insert a thumbnail into text with a link to the image\r\n     * @param {HTMLElement} element\r\n     */\r\n    #onClickPfsPasteThumbnail(element) {\r\n        const row = element.closest('.template-download');\r\n        const data = this.#getFileDataToInsert(row);\r\n\r\n        window.addthumb(data.url, data.title, data.name, data.thumbnailUrl);\r\n    }\r\n\r\n    /**\r\n     * PFS. Insert a link to a file into the text\r\n     * @param {HTMLElement} element\r\n     */\r\n    #onClickPfsPasteFile(element) {\r\n        const row = element.closest('.template-download');\r\n        const data = this.#getFileDataToInsert(row);\r\n\r\n        window.addfile(data.url, data.title, data.name, data.thumbnailUrl);\r\n    }\r\n\r\n    /**\r\n     * @param {HTMLElement} row\r\n     * @returns {{ url: string, title: string, name: string, thumbnailUrl:string }}\r\n     */\r\n    #getFileDataToInsert(row) {\r\n        const result = {\r\n            url: row.dataset.url,\r\n            name: row.dataset.name,\r\n            thumbnailUrl: row.dataset.thumbnail,\r\n            title: '',\r\n        }\r\n\r\n        const titleInput = row.querySelector('input.file-edit[name=\"title\"]');\r\n        if (titleInput !== null) {\r\n            result.title = titleInput.value;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    #showError (fileId, errorMessage) {\r\n        $('#files-file'+ fileId).after(\r\n            '<div id=\"files-error-'+ fileId +'\"><span class=\"label label-danger\">Error</span> ' + errorMessage + '</div>'\r\n        );\r\n        setTimeout(() => { $('#files-error-'+ fileId).fadeOut(3000) }, 1000)\r\n    }\r\n}","import {AvatarUploader} from \"./AvatarUploader\";\r\nimport {FileUploader} from \"./FileUploader\";\r\n\r\n/**\r\n * Base Files class\r\n * @package Files\r\n * @author Alexey Kalnov <kalnovalexey@yandex.ru> https://github.com/Alex300\r\n * @copyright (c) 2014-2025 Lily Software https://lily-software.com\r\n */\r\nclass Files\r\n{\r\n    #config = {};\r\n\r\n    #uploaderSelector = '.file-upload';\r\n    #avatarUploaderSelector = '.file-upload-avatar';\r\n\r\n    init(config = null) {\r\n        if (config !== null) {\r\n            Object.assign(this.#config, config);\r\n        }\r\n\r\n        if (this.#config.loadImageFileTypes !== undefined && (typeof this.#config.loadImageFileTypes === 'string')) {\r\n            this.#config.loadImageFileTypes = new RegExp(this.#config.loadImageFileTypes);\r\n        }\r\n\r\n        document.addEventListener(\"DOMContentLoaded\", () => {\r\n            this.initUploaders();\r\n        });\r\n    }\r\n\r\n    initUploaders() {\r\n        this.initFilesUploaders();\r\n        this.initAvatarUploaders();\r\n    }\r\n\r\n    initFilesUploaders() {\r\n        const elements = document.querySelectorAll(this.#uploaderSelector);\r\n        elements.forEach((element) => {\r\n            if (element.dataset.filesInited === 'true') {\r\n                return;\r\n            }\r\n            let uploader = new FileUploader(this.#config);\r\n            uploader.init(element);\r\n        });\r\n    }\r\n\r\n    initAvatarUploaders() {\r\n        const elements = document.querySelectorAll(this.#avatarUploaderSelector);\r\n        elements.forEach((element) => {\r\n            if (element.dataset.filesInited === 'true') {\r\n                return;\r\n            }\r\n            let avatarUploader = new AvatarUploader(this.#config);\r\n            avatarUploader.init(element);\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * @todo window.cot is available since Cotonti version 0.9.26\r\n */\r\nwindow.cotFiles = new Files\r\n"]}